function RI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P0={exports:{}},mc={},b0={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=Symbol.for("react.element"),NI=Symbol.for("react.portal"),OI=Symbol.for("react.fragment"),DI=Symbol.for("react.strict_mode"),LI=Symbol.for("react.profiler"),MI=Symbol.for("react.provider"),VI=Symbol.for("react.context"),jI=Symbol.for("react.forward_ref"),FI=Symbol.for("react.suspense"),UI=Symbol.for("react.memo"),zI=Symbol.for("react.lazy"),iy=Symbol.iterator;function BI(t){return t===null||typeof t!="object"?null:(t=iy&&t[iy]||t["@@iterator"],typeof t=="function"?t:null)}var R0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N0=Object.assign,O0={};function $s(t,e,n){this.props=t,this.context=e,this.refs=O0,this.updater=n||R0}$s.prototype.isReactComponent={};$s.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$s.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D0(){}D0.prototype=$s.prototype;function ip(t,e,n){this.props=t,this.context=e,this.refs=O0,this.updater=n||R0}var sp=ip.prototype=new D0;sp.constructor=ip;N0(sp,$s.prototype);sp.isPureReactComponent=!0;var sy=Array.isArray,L0=Object.prototype.hasOwnProperty,op={current:null},M0={key:!0,ref:!0,__self:!0,__source:!0};function V0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)L0.call(e,r)&&!M0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:La,type:t,key:s,ref:o,props:i,_owner:op.current}}function $I(t,e){return{$$typeof:La,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===La}function qI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oy=/\/+/g;function Eh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qI(""+t.key):e.toString(36)}function Jl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case La:case NI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Eh(o,0):r,sy(i)?(n="",t!=null&&(n=t.replace(oy,"$&/")+"/"),Jl(i,e,n,"",function(c){return c})):i!=null&&(ap(i)&&(i=$I(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(oy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sy(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Eh(s,a);o+=Jl(s,e,n,u,i)}else if(u=BI(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Eh(s,a++),o+=Jl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Il(t,e,n){if(t==null)return t;var r=[],i=0;return Jl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function HI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},Zl={transition:null},WI={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Zl,ReactCurrentOwner:op};function j0(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Il,forEach:function(t,e,n){Il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Il(t,function(){e++}),e},toArray:function(t){return Il(t,function(e){return e})||[]},only:function(t){if(!ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=$s;ue.Fragment=OI;ue.Profiler=LI;ue.PureComponent=ip;ue.StrictMode=DI;ue.Suspense=FI;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WI;ue.act=j0;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=N0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=op.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)L0.call(e,u)&&!M0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:La,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:VI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MI,_context:t},t.Consumer=t};ue.createElement=V0;ue.createFactory=function(t){var e=V0.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:jI,render:t}};ue.isValidElement=ap;ue.lazy=function(t){return{$$typeof:zI,_payload:{_status:-1,_result:t},_init:HI}};ue.memo=function(t,e){return{$$typeof:UI,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Zl.transition;Zl.transition={};try{t()}finally{Zl.transition=e}};ue.unstable_act=j0;ue.useCallback=function(t,e){return Pt.current.useCallback(t,e)};ue.useContext=function(t){return Pt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Pt.current.useEffect(t,e)};ue.useId=function(){return Pt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Pt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};ue.useRef=function(t){return Pt.current.useRef(t)};ue.useState=function(t){return Pt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Pt.current.useTransition()};ue.version="18.3.1";b0.exports=ue;var V=b0.exports;const F0=rp(V),KI=RI({__proto__:null,default:F0},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI=V,QI=Symbol.for("react.element"),YI=Symbol.for("react.fragment"),XI=Object.prototype.hasOwnProperty,JI=GI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZI={key:!0,ref:!0,__self:!0,__source:!0};function U0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XI.call(e,r)&&!ZI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QI,type:t,key:s,ref:o,props:i,_owner:JI.current}}mc.Fragment=YI;mc.jsx=U0;mc.jsxs=U0;P0.exports=mc;var y=P0.exports,_d={},z0={exports:{}},Zt={},B0={exports:{}},$0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,Y){var P=W.length;W.push(Y);e:for(;0<P;){var he=P-1>>>1,le=W[he];if(0<i(le,Y))W[he]=Y,W[P]=le,P=he;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],P=W.pop();if(P!==Y){W[0]=P;e:for(var he=0,le=W.length,N=le>>>1;he<N;){var ze=2*(he+1)-1,nt=W[ze],Ie=ze+1,It=W[Ie];if(0>i(nt,P))Ie<le&&0>i(It,nt)?(W[he]=It,W[Ie]=P,he=Ie):(W[he]=nt,W[ze]=P,he=ze);else if(Ie<le&&0>i(It,P))W[he]=It,W[Ie]=P,he=Ie;else break e}}return Y}function i(W,Y){var P=W.sortIndex-Y.sortIndex;return P!==0?P:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,d=null,p=3,m=!1,E=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(W){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=W)r(c),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(c)}}function L(W){if(k=!1,T(W),!E)if(n(u)!==null)E=!0,Ve(U);else{var Y=n(c);Y!==null&&Te(L,Y.startTime-W)}}function U(W,Y){E=!1,k&&(k=!1,v(x),x=-1),m=!0;var P=p;try{for(T(Y),d=n(u);d!==null&&(!(d.expirationTime>Y)||W&&!b());){var he=d.callback;if(typeof he=="function"){d.callback=null,p=d.priorityLevel;var le=he(d.expirationTime<=Y);Y=t.unstable_now(),typeof le=="function"?d.callback=le:d===n(u)&&r(u),T(Y)}else r(u);d=n(u)}if(d!==null)var N=!0;else{var ze=n(c);ze!==null&&Te(L,ze.startTime-Y),N=!1}return N}finally{d=null,p=P,m=!1}}var R=!1,I=null,x=-1,S=5,C=-1;function b(){return!(t.unstable_now()-C<S)}function O(){if(I!==null){var W=t.unstable_now();C=W;var Y=!0;try{Y=I(!0,W)}finally{Y?A():(R=!1,I=null)}}else R=!1}var A;if(typeof w=="function")A=function(){w(O)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,se=pe.port2;pe.port1.onmessage=O,A=function(){se.postMessage(null)}}else A=function(){D(O,0)};function Ve(W){I=W,R||(R=!0,A())}function Te(W,Y){x=D(function(){W(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,Ve(U))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var P=p;p=Y;try{return W()}finally{p=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var P=p;p=W;try{return Y()}finally{p=P}},t.unstable_scheduleCallback=function(W,Y,P){var he=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?he+P:he):P=he,W){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=P+le,W={id:h++,callback:Y,priorityLevel:W,startTime:P,expirationTime:le,sortIndex:-1},P>he?(W.sortIndex=P,e(c,W),n(u)===null&&W===n(c)&&(k?(v(x),x=-1):k=!0,Te(L,P-he))):(W.sortIndex=le,e(u,W),E||m||(E=!0,Ve(U))),W},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(W){var Y=p;return function(){var P=p;p=Y;try{return W.apply(this,arguments)}finally{p=P}}}})($0);B0.exports=$0;var eS=B0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=V,Jt=eS;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q0=new Set,sa={};function Vi(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(sa[t]=e,t=0;t<e.length;t++)q0.add(e[t])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wd=Object.prototype.hasOwnProperty,nS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},ly={};function rS(t){return wd.call(ly,t)?!0:wd.call(ay,t)?!1:nS.test(t)?ly[t]=!0:(ay[t]=!0,!1)}function iS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sS(t,e,n,r){if(e===null||typeof e>"u"||iS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var lp=/[\-:]([a-z])/g;function up(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lp,up);ut[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lp,up);ut[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lp,up);ut[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function cp(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sS(e,n,i,r)&&(n=null),r||i===null?rS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=tS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),hp=Symbol.for("react.strict_mode"),xd=Symbol.for("react.profiler"),H0=Symbol.for("react.provider"),W0=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),Ed=Symbol.for("react.suspense"),Td=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),K0=Symbol.for("react.offscreen"),uy=Symbol.iterator;function xo(t){return t===null||typeof t!="object"?null:(t=uy&&t[uy]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Th;function Oo(t){if(Th===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Th=e&&e[1]||""}return`
`+Th+t}var Ih=!1;function Sh(t,e){if(!t||Ih)return"";Ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ih=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oo(t):""}function oS(t){switch(t.tag){case 5:return Oo(t.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return t=Sh(t.type,!1),t;case 11:return t=Sh(t.type.render,!1),t;case 1:return t=Sh(t.type,!0),t;default:return""}}function Id(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ts:return"Fragment";case es:return"Portal";case xd:return"Profiler";case hp:return"StrictMode";case Ed:return"Suspense";case Td:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W0:return(t.displayName||"Context")+".Consumer";case H0:return(t._context.displayName||"Context")+".Provider";case dp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fp:return e=t.displayName||null,e!==null?e:Id(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return Id(t(e))}catch{}}return null}function aS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Id(e);case 8:return e===hp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function G0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lS(t){var e=G0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kl(t){t._valueTracker||(t._valueTracker=lS(t))}function Q0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=G0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sd(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y0(t,e){e=e.checked,e!=null&&cp(t,"checked",e,!1)}function kd(t,e){Y0(t,e);var n=Qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cd(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cd(t,e,n){(e!=="number"||Iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Do=Array.isArray;function ds(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ad(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Do(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function X0(t,e){var n=Qr(e.value),r=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cl,Z0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cl=Cl||document.createElement("div"),Cl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uS=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(t){uS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bo[e]=Bo[t]})});function ew(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bo.hasOwnProperty(t)&&Bo[t]?(""+e).trim():e+"px"}function tw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ew(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cS=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bd(t,e){if(e){if(cS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Rd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=null;function pp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Od=null,fs=null,ps=null;function py(t){if(t=ja(t)){if(typeof Od!="function")throw Error(q(280));var e=t.stateNode;e&&(e=wc(e),Od(t.stateNode,t.type,e))}}function nw(t){fs?ps?ps.push(t):ps=[t]:fs=t}function rw(){if(fs){var t=fs,e=ps;if(ps=fs=null,py(t),e)for(t=0;t<e.length;t++)py(e[t])}}function iw(t,e){return t(e)}function sw(){}var kh=!1;function ow(t,e,n){if(kh)return t(e,n);kh=!0;try{return iw(t,e,n)}finally{kh=!1,(fs!==null||ps!==null)&&(sw(),rw())}}function aa(t,e){var n=t.stateNode;if(n===null)return null;var r=wc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Dd=!1;if(er)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){Dd=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{Dd=!1}function hS(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var $o=!1,Su=null,ku=!1,Ld=null,dS={onError:function(t){$o=!0,Su=t}};function fS(t,e,n,r,i,s,o,a,u){$o=!1,Su=null,hS.apply(dS,arguments)}function pS(t,e,n,r,i,s,o,a,u){if(fS.apply(this,arguments),$o){if($o){var c=Su;$o=!1,Su=null}else throw Error(q(198));ku||(ku=!0,Ld=c)}}function ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function my(t){if(ji(t)!==t)throw Error(q(188))}function mS(t){var e=t.alternate;if(!e){if(e=ji(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return my(i),t;if(s===r)return my(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function lw(t){return t=mS(t),t!==null?uw(t):null}function uw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uw(t);if(e!==null)return e;t=t.sibling}return null}var cw=Jt.unstable_scheduleCallback,gy=Jt.unstable_cancelCallback,gS=Jt.unstable_shouldYield,yS=Jt.unstable_requestPaint,$e=Jt.unstable_now,vS=Jt.unstable_getCurrentPriorityLevel,mp=Jt.unstable_ImmediatePriority,hw=Jt.unstable_UserBlockingPriority,Cu=Jt.unstable_NormalPriority,_S=Jt.unstable_LowPriority,dw=Jt.unstable_IdlePriority,gc=null,Pn=null;function wS(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(gc,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:TS,xS=Math.log,ES=Math.LN2;function TS(t){return t>>>=0,t===0?32:31-(xS(t)/ES|0)|0}var Al=64,Pl=4194304;function Lo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Au(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Lo(a):(s&=o,s!==0&&(r=Lo(s)))}else o=n&~i,o!==0?r=Lo(o):s!==0&&(r=Lo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vn(e),i=1<<n,r|=t[n],e&=~i;return r}function IS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=IS(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Md(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fw(){var t=Al;return Al<<=1,!(Al&4194240)&&(Al=64),t}function Ch(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ma(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function kS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function pw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mw,yp,gw,yw,vw,Vd=!1,bl=[],Mr=null,Vr=null,jr=null,la=new Map,ua=new Map,kr=[],CS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yy(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":la.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(e.pointerId)}}function To(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ja(e),e!==null&&yp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AS(t,e,n,r,i){switch(e){case"focusin":return Mr=To(Mr,t,e,n,r,i),!0;case"dragenter":return Vr=To(Vr,t,e,n,r,i),!0;case"mouseover":return jr=To(jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return la.set(s,To(la.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ua.set(s,To(ua.get(s)||null,t,e,n,r,i)),!0}return!1}function _w(t){var e=yi(t.target);if(e!==null){var n=ji(e);if(n!==null){if(e=n.tag,e===13){if(e=aw(n),e!==null){t.blockedOn=e,vw(t.priority,function(){gw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nd=r,n.target.dispatchEvent(r),Nd=null}else return e=ja(n),e!==null&&yp(e),t.blockedOn=n,!1;e.shift()}return!0}function vy(t,e,n){eu(t)&&n.delete(e)}function PS(){Vd=!1,Mr!==null&&eu(Mr)&&(Mr=null),Vr!==null&&eu(Vr)&&(Vr=null),jr!==null&&eu(jr)&&(jr=null),la.forEach(vy),ua.forEach(vy)}function Io(t,e){t.blockedOn===e&&(t.blockedOn=null,Vd||(Vd=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,PS)))}function ca(t){function e(i){return Io(i,t)}if(0<bl.length){Io(bl[0],t);for(var n=1;n<bl.length;n++){var r=bl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&Io(Mr,t),Vr!==null&&Io(Vr,t),jr!==null&&Io(jr,t),la.forEach(e),ua.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)_w(n),n.blockedOn===null&&kr.shift()}var ms=ur.ReactCurrentBatchConfig,Pu=!0;function bS(t,e,n,r){var i=we,s=ms.transition;ms.transition=null;try{we=1,vp(t,e,n,r)}finally{we=i,ms.transition=s}}function RS(t,e,n,r){var i=we,s=ms.transition;ms.transition=null;try{we=4,vp(t,e,n,r)}finally{we=i,ms.transition=s}}function vp(t,e,n,r){if(Pu){var i=jd(t,e,n,r);if(i===null)Vh(t,e,r,bu,n),yy(t,r);else if(AS(i,t,e,n,r))r.stopPropagation();else if(yy(t,r),e&4&&-1<CS.indexOf(t)){for(;i!==null;){var s=ja(i);if(s!==null&&mw(s),s=jd(t,e,n,r),s===null&&Vh(t,e,r,bu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vh(t,e,r,null,n)}}var bu=null;function jd(t,e,n,r){if(bu=null,t=pp(r),t=yi(t),t!==null)if(e=ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bu=t,null}function ww(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vS()){case mp:return 1;case hw:return 4;case Cu:case _S:return 16;case dw:return 536870912;default:return 16}default:return 16}}var Nr=null,_p=null,tu=null;function xw(){if(tu)return tu;var t,e=_p,n=e.length,r,i="value"in Nr?Nr.value:Nr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return tu=i.slice(t,1<r?1-r:void 0)}function nu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rl(){return!0}function _y(){return!1}function en(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rl:_y,this.isPropagationStopped=_y,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),e}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wp=en(qs),Va=Le({},qs,{view:0,detail:0}),NS=en(Va),Ah,Ph,So,yc=Le({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==So&&(So&&t.type==="mousemove"?(Ah=t.screenX-So.screenX,Ph=t.screenY-So.screenY):Ph=Ah=0,So=t),Ah)},movementY:function(t){return"movementY"in t?t.movementY:Ph}}),wy=en(yc),OS=Le({},yc,{dataTransfer:0}),DS=en(OS),LS=Le({},Va,{relatedTarget:0}),bh=en(LS),MS=Le({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=en(MS),jS=Le({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FS=en(jS),US=Le({},qs,{data:0}),xy=en(US),zS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$S[t])?!!e[t]:!1}function xp(){return qS}var HS=Le({},Va,{key:function(t){if(t.key){var e=zS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xp,charCode:function(t){return t.type==="keypress"?nu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WS=en(HS),KS=Le({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ey=en(KS),GS=Le({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xp}),QS=en(GS),YS=Le({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),XS=en(YS),JS=Le({},yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZS=en(JS),ek=[9,13,27,32],Ep=er&&"CompositionEvent"in window,qo=null;er&&"documentMode"in document&&(qo=document.documentMode);var tk=er&&"TextEvent"in window&&!qo,Ew=er&&(!Ep||qo&&8<qo&&11>=qo),Ty=" ",Iy=!1;function Tw(t,e){switch(t){case"keyup":return ek.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function nk(t,e){switch(t){case"compositionend":return Iw(e);case"keypress":return e.which!==32?null:(Iy=!0,Ty);case"textInput":return t=e.data,t===Ty&&Iy?null:t;default:return null}}function rk(t,e){if(ns)return t==="compositionend"||!Ep&&Tw(t,e)?(t=xw(),tu=_p=Nr=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ew&&e.locale!=="ko"?null:e.data;default:return null}}var ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ik[t.type]:e==="textarea"}function Sw(t,e,n,r){nw(r),e=Ru(e,"onChange"),0<e.length&&(n=new wp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ho=null,ha=null;function sk(t){Mw(t,0)}function vc(t){var e=ss(t);if(Q0(e))return t}function ok(t,e){if(t==="change")return e}var kw=!1;if(er){var Rh;if(er){var Nh="oninput"in document;if(!Nh){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),Nh=typeof ky.oninput=="function"}Rh=Nh}else Rh=!1;kw=Rh&&(!document.documentMode||9<document.documentMode)}function Cy(){Ho&&(Ho.detachEvent("onpropertychange",Cw),ha=Ho=null)}function Cw(t){if(t.propertyName==="value"&&vc(ha)){var e=[];Sw(e,ha,t,pp(t)),ow(sk,e)}}function ak(t,e,n){t==="focusin"?(Cy(),Ho=e,ha=n,Ho.attachEvent("onpropertychange",Cw)):t==="focusout"&&Cy()}function lk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vc(ha)}function uk(t,e){if(t==="click")return vc(e)}function ck(t,e){if(t==="input"||t==="change")return vc(e)}function hk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:hk;function da(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wd.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function Ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Py(t,e){var n=Ay(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ay(n)}}function Aw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Aw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pw(){for(var t=window,e=Iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Iu(t.document)}return e}function Tp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dk(t){var e=Pw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Aw(n.ownerDocument.documentElement,n)){if(r!==null&&Tp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Py(n,s);var o=Py(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fk=er&&"documentMode"in document&&11>=document.documentMode,rs=null,Fd=null,Wo=null,Ud=!1;function by(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ud||rs==null||rs!==Iu(r)||(r=rs,"selectionStart"in r&&Tp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wo&&da(Wo,r)||(Wo=r,r=Ru(Fd,"onSelect"),0<r.length&&(e=new wp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rs)))}function Nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var is={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},Oh={},bw={};er&&(bw=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function _c(t){if(Oh[t])return Oh[t];if(!is[t])return t;var e=is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bw)return Oh[t]=e[n];return t}var Rw=_c("animationend"),Nw=_c("animationiteration"),Ow=_c("animationstart"),Dw=_c("transitionend"),Lw=new Map,Ry="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(t,e){Lw.set(t,e),Vi(e,[t])}for(var Dh=0;Dh<Ry.length;Dh++){var Lh=Ry[Dh],pk=Lh.toLowerCase(),mk=Lh[0].toUpperCase()+Lh.slice(1);ei(pk,"on"+mk)}ei(Rw,"onAnimationEnd");ei(Nw,"onAnimationIteration");ei(Ow,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(Dw,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function Ny(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pS(r,e,void 0,t),t.currentTarget=null}function Mw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Ny(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Ny(i,a,c),s=u}}}if(ku)throw t=Ld,ku=!1,Ld=null,t}function be(t,e){var n=e[Hd];n===void 0&&(n=e[Hd]=new Set);var r=t+"__bubble";n.has(r)||(Vw(e,t,2,!1),n.add(r))}function Mh(t,e,n){var r=0;e&&(r|=4),Vw(n,t,r,e)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function fa(t){if(!t[Ol]){t[Ol]=!0,q0.forEach(function(n){n!=="selectionchange"&&(gk.has(n)||Mh(n,!1,t),Mh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ol]||(e[Ol]=!0,Mh("selectionchange",!1,e))}}function Vw(t,e,n,r){switch(ww(e)){case 1:var i=bS;break;case 4:i=RS;break;default:i=vp}n=i.bind(null,e,n,t),i=void 0,!Dd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=yi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ow(function(){var c=s,h=pp(n),d=[];e:{var p=Lw.get(t);if(p!==void 0){var m=wp,E=t;switch(t){case"keypress":if(nu(n)===0)break e;case"keydown":case"keyup":m=WS;break;case"focusin":E="focus",m=bh;break;case"focusout":E="blur",m=bh;break;case"beforeblur":case"afterblur":m=bh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=DS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=QS;break;case Rw:case Nw:case Ow:m=VS;break;case Dw:m=XS;break;case"scroll":m=NS;break;case"wheel":m=ZS;break;case"copy":case"cut":case"paste":m=FS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ey}var k=(e&4)!==0,D=!k&&t==="scroll",v=k?p!==null?p+"Capture":null:p;k=[];for(var w=c,T;w!==null;){T=w;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,v!==null&&(L=aa(w,v),L!=null&&k.push(pa(w,L,T)))),D)break;w=w.return}0<k.length&&(p=new m(p,E,null,n,h),d.push({event:p,listeners:k}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Nd&&(E=n.relatedTarget||n.fromElement)&&(yi(E)||E[tr]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=c,E=E?yi(E):null,E!==null&&(D=ji(E),E!==D||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=c),m!==E)){if(k=wy,L="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=Ey,L="onPointerLeave",v="onPointerEnter",w="pointer"),D=m==null?p:ss(m),T=E==null?p:ss(E),p=new k(L,w+"leave",m,n,h),p.target=D,p.relatedTarget=T,L=null,yi(h)===c&&(k=new k(v,w+"enter",E,n,h),k.target=T,k.relatedTarget=D,L=k),D=L,m&&E)t:{for(k=m,v=E,w=0,T=k;T;T=Gi(T))w++;for(T=0,L=v;L;L=Gi(L))T++;for(;0<w-T;)k=Gi(k),w--;for(;0<T-w;)v=Gi(v),T--;for(;w--;){if(k===v||v!==null&&k===v.alternate)break t;k=Gi(k),v=Gi(v)}k=null}else k=null;m!==null&&Oy(d,p,m,k,!1),E!==null&&D!==null&&Oy(d,D,E,k,!0)}}e:{if(p=c?ss(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var U=ok;else if(Sy(p))if(kw)U=ck;else{U=lk;var R=ak}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(U=uk);if(U&&(U=U(t,c))){Sw(d,U,n,h);break e}R&&R(t,p,c),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Cd(p,"number",p.value)}switch(R=c?ss(c):window,t){case"focusin":(Sy(R)||R.contentEditable==="true")&&(rs=R,Fd=c,Wo=null);break;case"focusout":Wo=Fd=rs=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,by(d,n,h);break;case"selectionchange":if(fk)break;case"keydown":case"keyup":by(d,n,h)}var I;if(Ep)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ns?Tw(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Ew&&n.locale!=="ko"&&(ns||x!=="onCompositionStart"?x==="onCompositionEnd"&&ns&&(I=xw()):(Nr=h,_p="value"in Nr?Nr.value:Nr.textContent,ns=!0)),R=Ru(c,x),0<R.length&&(x=new xy(x,t,null,n,h),d.push({event:x,listeners:R}),I?x.data=I:(I=Iw(n),I!==null&&(x.data=I)))),(I=tk?nk(t,n):rk(t,n))&&(c=Ru(c,"onBeforeInput"),0<c.length&&(h=new xy("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=I))}Mw(d,e)})}function pa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=aa(t,n),s!=null&&r.unshift(pa(t,s,i)),s=aa(t,e),s!=null&&r.push(pa(t,s,i))),t=t.return}return r}function Gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Oy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=aa(n,s),u!=null&&o.unshift(pa(n,u,a))):i||(u=aa(n,s),u!=null&&o.push(pa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yk=/\r\n?/g,vk=/\u0000|\uFFFD/g;function Dy(t){return(typeof t=="string"?t:""+t).replace(yk,`
`).replace(vk,"")}function Dl(t,e,n){if(e=Dy(e),Dy(t)!==e&&n)throw Error(q(425))}function Nu(){}var zd=null,Bd=null;function $d(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qd=typeof setTimeout=="function"?setTimeout:void 0,_k=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,wk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(t){return Ly.resolve(null).then(t).catch(xk)}:qd;function xk(t){setTimeout(function(){throw t})}function jh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ca(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ca(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function My(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),kn="__reactFiber$"+Hs,ma="__reactProps$"+Hs,tr="__reactContainer$"+Hs,Hd="__reactEvents$"+Hs,Ek="__reactListeners$"+Hs,Tk="__reactHandles$"+Hs;function yi(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tr]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=My(t);t!==null;){if(n=t[kn])return n;t=My(t)}return e}t=n,n=t.parentNode}return null}function ja(t){return t=t[kn]||t[tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function wc(t){return t[ma]||null}var Wd=[],os=-1;function ti(t){return{current:t}}function Re(t){0>os||(t.current=Wd[os],Wd[os]=null,os--)}function Ce(t,e){os++,Wd[os]=t.current,t.current=e}var Yr={},xt=ti(Yr),Lt=ti(!1),Si=Yr;function ks(t,e){var n=t.type.contextTypes;if(!n)return Yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(t){return t=t.childContextTypes,t!=null}function Ou(){Re(Lt),Re(xt)}function Vy(t,e,n){if(xt.current!==Yr)throw Error(q(168));Ce(xt,e),Ce(Lt,n)}function jw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,aS(t)||"Unknown",i));return Le({},n,r)}function Du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yr,Si=xt.current,Ce(xt,t),Ce(Lt,Lt.current),!0}function jy(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=jw(t,e,Si),r.__reactInternalMemoizedMergedChildContext=t,Re(Lt),Re(xt),Ce(xt,t)):Re(Lt),Ce(Lt,n)}var Hn=null,xc=!1,Fh=!1;function Fw(t){Hn===null?Hn=[t]:Hn.push(t)}function Ik(t){xc=!0,Fw(t)}function ni(){if(!Fh&&Hn!==null){Fh=!0;var t=0,e=we;try{var n=Hn;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hn=null,xc=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(t+1)),cw(mp,ni),i}finally{we=e,Fh=!1}}return null}var as=[],ls=0,Lu=null,Mu=0,nn=[],rn=0,ki=null,Kn=1,Gn="";function fi(t,e){as[ls++]=Mu,as[ls++]=Lu,Lu=t,Mu=e}function Uw(t,e,n){nn[rn++]=Kn,nn[rn++]=Gn,nn[rn++]=ki,ki=t;var r=Kn;t=Gn;var i=32-vn(r)-1;r&=~(1<<i),n+=1;var s=32-vn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Kn=1<<32-vn(e)+i|n<<i|r,Gn=s+t}else Kn=1<<s|n<<i|r,Gn=t}function Ip(t){t.return!==null&&(fi(t,1),Uw(t,1,0))}function Sp(t){for(;t===Lu;)Lu=as[--ls],as[ls]=null,Mu=as[--ls],as[ls]=null;for(;t===ki;)ki=nn[--rn],nn[rn]=null,Gn=nn[--rn],nn[rn]=null,Kn=nn[--rn],nn[rn]=null}var Yt=null,Kt=null,Ne=!1,gn=null;function zw(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ki!==null?{id:Kn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Kt=null,!0):!1;default:return!1}}function Kd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gd(t){if(Ne){var e=Kt;if(e){var n=e;if(!Fy(t,e)){if(Kd(t))throw Error(q(418));e=Fr(n.nextSibling);var r=Yt;e&&Fy(t,e)?zw(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Yt=t)}}else{if(Kd(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ne=!1,Yt=t}}}function Uy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function Ll(t){if(t!==Yt)return!1;if(!Ne)return Uy(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$d(t.type,t.memoizedProps)),e&&(e=Kt)){if(Kd(t))throw Bw(),Error(q(418));for(;e;)zw(t,e),e=Fr(e.nextSibling)}if(Uy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Yt?Fr(t.stateNode.nextSibling):null;return!0}function Bw(){for(var t=Kt;t;)t=Fr(t.nextSibling)}function Cs(){Kt=Yt=null,Ne=!1}function kp(t){gn===null?gn=[t]:gn.push(t)}var Sk=ur.ReactCurrentBatchConfig;function ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Ml(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zy(t){var e=t._init;return e(t._payload)}function $w(t){function e(v,w){if(t){var T=v.deletions;T===null?(v.deletions=[w],v.flags|=16):T.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=$r(v,w),v.index=0,v.sibling=null,v}function s(v,w,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<w?(v.flags|=2,w):T):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,T,L){return w===null||w.tag!==6?(w=Wh(T,v.mode,L),w.return=v,w):(w=i(w,T),w.return=v,w)}function u(v,w,T,L){var U=T.type;return U===ts?h(v,w,T.props.children,L,T.key):w!==null&&(w.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ir&&zy(U)===w.type)?(L=i(w,T.props),L.ref=ko(v,w,T),L.return=v,L):(L=uu(T.type,T.key,T.props,null,v.mode,L),L.ref=ko(v,w,T),L.return=v,L)}function c(v,w,T,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Kh(T,v.mode,L),w.return=v,w):(w=i(w,T.children||[]),w.return=v,w)}function h(v,w,T,L,U){return w===null||w.tag!==7?(w=Ti(T,v.mode,L,U),w.return=v,w):(w=i(w,T),w.return=v,w)}function d(v,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Wh(""+w,v.mode,T),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sl:return T=uu(w.type,w.key,w.props,null,v.mode,T),T.ref=ko(v,null,w),T.return=v,T;case es:return w=Kh(w,v.mode,T),w.return=v,w;case Ir:var L=w._init;return d(v,L(w._payload),T)}if(Do(w)||xo(w))return w=Ti(w,v.mode,T,null),w.return=v,w;Ml(v,w)}return null}function p(v,w,T,L){var U=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return U!==null?null:a(v,w,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sl:return T.key===U?u(v,w,T,L):null;case es:return T.key===U?c(v,w,T,L):null;case Ir:return U=T._init,p(v,w,U(T._payload),L)}if(Do(T)||xo(T))return U!==null?null:h(v,w,T,L,null);Ml(v,T)}return null}function m(v,w,T,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return v=v.get(T)||null,a(w,v,""+L,U);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Sl:return v=v.get(L.key===null?T:L.key)||null,u(w,v,L,U);case es:return v=v.get(L.key===null?T:L.key)||null,c(w,v,L,U);case Ir:var R=L._init;return m(v,w,T,R(L._payload),U)}if(Do(L)||xo(L))return v=v.get(T)||null,h(w,v,L,U,null);Ml(w,L)}return null}function E(v,w,T,L){for(var U=null,R=null,I=w,x=w=0,S=null;I!==null&&x<T.length;x++){I.index>x?(S=I,I=null):S=I.sibling;var C=p(v,I,T[x],L);if(C===null){I===null&&(I=S);break}t&&I&&C.alternate===null&&e(v,I),w=s(C,w,x),R===null?U=C:R.sibling=C,R=C,I=S}if(x===T.length)return n(v,I),Ne&&fi(v,x),U;if(I===null){for(;x<T.length;x++)I=d(v,T[x],L),I!==null&&(w=s(I,w,x),R===null?U=I:R.sibling=I,R=I);return Ne&&fi(v,x),U}for(I=r(v,I);x<T.length;x++)S=m(I,v,x,T[x],L),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?x:S.key),w=s(S,w,x),R===null?U=S:R.sibling=S,R=S);return t&&I.forEach(function(b){return e(v,b)}),Ne&&fi(v,x),U}function k(v,w,T,L){var U=xo(T);if(typeof U!="function")throw Error(q(150));if(T=U.call(T),T==null)throw Error(q(151));for(var R=U=null,I=w,x=w=0,S=null,C=T.next();I!==null&&!C.done;x++,C=T.next()){I.index>x?(S=I,I=null):S=I.sibling;var b=p(v,I,C.value,L);if(b===null){I===null&&(I=S);break}t&&I&&b.alternate===null&&e(v,I),w=s(b,w,x),R===null?U=b:R.sibling=b,R=b,I=S}if(C.done)return n(v,I),Ne&&fi(v,x),U;if(I===null){for(;!C.done;x++,C=T.next())C=d(v,C.value,L),C!==null&&(w=s(C,w,x),R===null?U=C:R.sibling=C,R=C);return Ne&&fi(v,x),U}for(I=r(v,I);!C.done;x++,C=T.next())C=m(I,v,x,C.value,L),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?x:C.key),w=s(C,w,x),R===null?U=C:R.sibling=C,R=C);return t&&I.forEach(function(O){return e(v,O)}),Ne&&fi(v,x),U}function D(v,w,T,L){if(typeof T=="object"&&T!==null&&T.type===ts&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Sl:e:{for(var U=T.key,R=w;R!==null;){if(R.key===U){if(U=T.type,U===ts){if(R.tag===7){n(v,R.sibling),w=i(R,T.props.children),w.return=v,v=w;break e}}else if(R.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ir&&zy(U)===R.type){n(v,R.sibling),w=i(R,T.props),w.ref=ko(v,R,T),w.return=v,v=w;break e}n(v,R);break}else e(v,R);R=R.sibling}T.type===ts?(w=Ti(T.props.children,v.mode,L,T.key),w.return=v,v=w):(L=uu(T.type,T.key,T.props,null,v.mode,L),L.ref=ko(v,w,T),L.return=v,v=L)}return o(v);case es:e:{for(R=T.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(v,w.sibling),w=i(w,T.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Kh(T,v.mode,L),w.return=v,v=w}return o(v);case Ir:return R=T._init,D(v,w,R(T._payload),L)}if(Do(T))return E(v,w,T,L);if(xo(T))return k(v,w,T,L);Ml(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,T),w.return=v,v=w):(n(v,w),w=Wh(T,v.mode,L),w.return=v,v=w),o(v)):n(v,w)}return D}var As=$w(!0),qw=$w(!1),Vu=ti(null),ju=null,us=null,Cp=null;function Ap(){Cp=us=ju=null}function Pp(t){var e=Vu.current;Re(Vu),t._currentValue=e}function Qd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gs(t,e){ju=t,Cp=us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function ln(t){var e=t._currentValue;if(Cp!==t)if(t={context:t,memoizedValue:e,next:null},us===null){if(ju===null)throw Error(q(308));us=t,ju.dependencies={lanes:0,firstContext:t}}else us=us.next=t;return e}var vi=null;function bp(t){vi===null?vi=[t]:vi.push(t)}function Hw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bp(e)):(n.next=i.next,i.next=n),e.interleaved=n,nr(t,r)}function nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sr=!1;function Rp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ww(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,nr(t,n)}return i=r.interleaved,i===null?(e.next=e,bp(r)):(e.next=i.next,i.next=e),r.interleaved=e,nr(t,n)}function ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gp(t,n)}}function By(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fu(t,e,n,r){var i=t.updateQueue;Sr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,h=c=u=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,k=a;switch(p=e,m=n,k.tag){case 1:if(E=k.payload,typeof E=="function"){d=E.call(m,d,p);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=k.payload,p=typeof E=="function"?E.call(m,d,p):E,p==null)break e;d=Le({},d,p);break e;case 2:Sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,u=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=d}}function $y(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Fa={},bn=ti(Fa),ga=ti(Fa),ya=ti(Fa);function _i(t){if(t===Fa)throw Error(q(174));return t}function Np(t,e){switch(Ce(ya,e),Ce(ga,t),Ce(bn,Fa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pd(e,t)}Re(bn),Ce(bn,e)}function Ps(){Re(bn),Re(ga),Re(ya)}function Kw(t){_i(ya.current);var e=_i(bn.current),n=Pd(e,t.type);e!==n&&(Ce(ga,t),Ce(bn,n))}function Op(t){ga.current===t&&(Re(bn),Re(ga))}var Oe=ti(0);function Uu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uh=[];function Dp(){for(var t=0;t<Uh.length;t++)Uh[t]._workInProgressVersionPrimary=null;Uh.length=0}var iu=ur.ReactCurrentDispatcher,zh=ur.ReactCurrentBatchConfig,Ci=0,De=null,Ge=null,et=null,zu=!1,Ko=!1,va=0,kk=0;function pt(){throw Error(q(321))}function Lp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function Mp(t,e,n,r,i,s){if(Ci=s,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,iu.current=t===null||t.memoizedState===null?bk:Rk,t=n(r,i),Ko){s=0;do{if(Ko=!1,va=0,25<=s)throw Error(q(301));s+=1,et=Ge=null,e.updateQueue=null,iu.current=Nk,t=n(r,i)}while(Ko)}if(iu.current=Bu,e=Ge!==null&&Ge.next!==null,Ci=0,et=Ge=De=null,zu=!1,e)throw Error(q(300));return t}function Vp(){var t=va!==0;return va=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?De.memoizedState=et=t:et=et.next=t,et}function un(){if(Ge===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=et===null?De.memoizedState:et.next;if(e!==null)et=e,Ge=t;else{if(t===null)throw Error(q(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},et===null?De.memoizedState=et=t:et=et.next=t}return et}function _a(t,e){return typeof e=="function"?e(t):e}function Bh(t){var e=un(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Ge,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((Ci&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,De.lanes|=h,Ai|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,xn(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,De.lanes|=s,Ai|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $h(t){var e=un(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xn(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Gw(){}function Qw(t,e){var n=De,r=un(),i=e(),s=!xn(r.memoizedState,i);if(s&&(r.memoizedState=i,Dt=!0),r=r.queue,jp(Jw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,wa(9,Xw.bind(null,n,r,i,e),void 0,null),tt===null)throw Error(q(349));Ci&30||Yw(n,e,i)}return i}function Yw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xw(t,e,n,r){e.value=n,e.getSnapshot=r,Zw(e)&&e1(t)}function Jw(t,e,n){return n(function(){Zw(e)&&e1(t)})}function Zw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function e1(t){var e=nr(t,1);e!==null&&_n(e,t,1,-1)}function qy(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:t},e.queue=t,t=t.dispatch=Pk.bind(null,De,t),[e.memoizedState,t]}function wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function t1(){return un().memoizedState}function su(t,e,n,r){var i=In();De.flags|=t,i.memoizedState=wa(1|e,n,void 0,r===void 0?null:r)}function Ec(t,e,n,r){var i=un();r=r===void 0?null:r;var s=void 0;if(Ge!==null){var o=Ge.memoizedState;if(s=o.destroy,r!==null&&Lp(r,o.deps)){i.memoizedState=wa(e,n,s,r);return}}De.flags|=t,i.memoizedState=wa(1|e,n,s,r)}function Hy(t,e){return su(8390656,8,t,e)}function jp(t,e){return Ec(2048,8,t,e)}function n1(t,e){return Ec(4,2,t,e)}function r1(t,e){return Ec(4,4,t,e)}function i1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s1(t,e,n){return n=n!=null?n.concat([t]):null,Ec(4,4,i1.bind(null,e,t),n)}function Fp(){}function o1(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function a1(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function l1(t,e,n){return Ci&21?(xn(n,e)||(n=fw(),De.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function Ck(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=zh.transition;zh.transition={};try{t(!1),e()}finally{we=n,zh.transition=r}}function u1(){return un().memoizedState}function Ak(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c1(t))h1(e,n);else if(n=Hw(t,e,n,r),n!==null){var i=At();_n(n,t,r,i),d1(n,e,r)}}function Pk(t,e,n){var r=Br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c1(t))h1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xn(a,o)){var u=e.interleaved;u===null?(i.next=i,bp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Hw(t,e,i,r),n!==null&&(i=At(),_n(n,t,r,i),d1(n,e,r))}}function c1(t){var e=t.alternate;return t===De||e!==null&&e===De}function h1(t,e){Ko=zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function d1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gp(t,n)}}var Bu={readContext:ln,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},bk={readContext:ln,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:ln,useEffect:Hy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,su(4194308,4,i1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return su(4194308,4,t,e)},useInsertionEffect:function(t,e){return su(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ak.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:qy,useDebugValue:Fp,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=qy(!1),e=t[0];return t=Ck.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,i=In();if(Ne){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),tt===null)throw Error(q(349));Ci&30||Yw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Hy(Jw.bind(null,r,s,t),[t]),r.flags|=2048,wa(9,Xw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=In(),e=tt.identifierPrefix;if(Ne){var n=Gn,r=Kn;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=va++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Rk={readContext:ln,useCallback:o1,useContext:ln,useEffect:jp,useImperativeHandle:s1,useInsertionEffect:n1,useLayoutEffect:r1,useMemo:a1,useReducer:Bh,useRef:t1,useState:function(){return Bh(_a)},useDebugValue:Fp,useDeferredValue:function(t){var e=un();return l1(e,Ge.memoizedState,t)},useTransition:function(){var t=Bh(_a)[0],e=un().memoizedState;return[t,e]},useMutableSource:Gw,useSyncExternalStore:Qw,useId:u1,unstable_isNewReconciler:!1},Nk={readContext:ln,useCallback:o1,useContext:ln,useEffect:jp,useImperativeHandle:s1,useInsertionEffect:n1,useLayoutEffect:r1,useMemo:a1,useReducer:$h,useRef:t1,useState:function(){return $h(_a)},useDebugValue:Fp,useDeferredValue:function(t){var e=un();return Ge===null?e.memoizedState=t:l1(e,Ge.memoizedState,t)},useTransition:function(){var t=$h(_a)[0],e=un().memoizedState;return[t,e]},useMutableSource:Gw,useSyncExternalStore:Qw,useId:u1,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tc={isMounted:function(t){return(t=t._reactInternals)?ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=At(),i=Br(t),s=Jn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(_n(e,t,i,r),ru(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=At(),i=Br(t),s=Jn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(_n(e,t,i,r),ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),r=Br(t),i=Jn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ur(t,i,r),e!==null&&(_n(e,t,r,n),ru(e,t,r))}};function Wy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!da(n,r)||!da(i,s):!0}function f1(t,e,n){var r=!1,i=Yr,s=e.contextType;return typeof s=="object"&&s!==null?s=ln(s):(i=Mt(e)?Si:xt.current,r=e.contextTypes,s=(r=r!=null)?ks(t,i):Yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tc.enqueueReplaceState(e,e.state,null)}function Xd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Rp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ln(s):(s=Mt(e)?Si:xt.current,i.context=ks(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tc.enqueueReplaceState(i,i.state,null),Fu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bs(t,e){try{var n="",r=e;do n+=oS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ok=typeof WeakMap=="function"?WeakMap:Map;function p1(t,e,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qu||(qu=!0,uf=r),Jd(t,e)},n}function m1(t,e,n){n=Jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jd(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Gy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ok;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Kk.bind(null,t,e,n),e.then(t,t))}function Qy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jn(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var Dk=ur.ReactCurrentOwner,Dt=!1;function Ct(t,e,n,r){e.child=t===null?qw(e,null,n,r):As(e,t.child,n,r)}function Xy(t,e,n,r,i){n=n.render;var s=e.ref;return gs(e,i),r=Mp(t,e,n,r,s,i),n=Vp(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rr(t,e,i)):(Ne&&n&&Ip(e),e.flags|=1,Ct(t,e,r,i),e.child)}function Jy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Kp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,g1(t,e,s,r,i)):(t=uu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:da,n(o,r)&&t.ref===e.ref)return rr(t,e,i)}return e.flags|=1,t=$r(s,r),t.ref=e.ref,t.return=e,e.child=t}function g1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(da(s,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,rr(t,e,i)}return Zd(t,e,n,r,i)}function y1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(hs,Ht),Ht|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(hs,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(hs,Ht),Ht|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(hs,Ht),Ht|=r;return Ct(t,e,i,n),e.child}function v1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zd(t,e,n,r,i){var s=Mt(n)?Si:xt.current;return s=ks(e,s),gs(e,i),n=Mp(t,e,n,r,s,i),r=Vp(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rr(t,e,i)):(Ne&&r&&Ip(e),e.flags|=1,Ct(t,e,n,i),e.child)}function Zy(t,e,n,r,i){if(Mt(n)){var s=!0;Du(e)}else s=!1;if(gs(e,i),e.stateNode===null)ou(t,e),f1(e,n,r),Xd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ln(c):(c=Mt(n)?Si:xt.current,c=ks(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ky(e,o,r,c),Sr=!1;var p=e.memoizedState;o.state=p,Fu(e,r,o,i),u=e.memoizedState,a!==r||p!==u||Lt.current||Sr?(typeof h=="function"&&(Yd(e,n,h,r),u=e.memoizedState),(a=Sr||Wy(e,n,a,r,p,u,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ww(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ln(u):(u=Mt(n)?Si:xt.current,u=ks(e,u));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==u)&&Ky(e,o,r,u),Sr=!1,p=e.memoizedState,o.state=p,Fu(e,r,o,i);var E=e.memoizedState;a!==d||p!==E||Lt.current||Sr?(typeof m=="function"&&(Yd(e,n,m,r),E=e.memoizedState),(c=Sr||Wy(e,n,c,r,p,E,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ef(t,e,n,r,s,i)}function ef(t,e,n,r,i,s){v1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&jy(e,n,!1),rr(t,e,s);r=e.stateNode,Dk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=As(e,t.child,null,s),e.child=As(e,null,a,s)):Ct(t,e,a,s),e.memoizedState=r.state,i&&jy(e,n,!0),e.child}function _1(t){var e=t.stateNode;e.pendingContext?Vy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vy(t,e.context,!1),Np(t,e.containerInfo)}function ev(t,e,n,r,i){return Cs(),kp(i),e.flags|=256,Ct(t,e,n,r),e.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(t){return{baseLanes:t,cachePool:null,transitions:null}}function w1(t,e,n){var r=e.pendingProps,i=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Oe,i&1),t===null)return Gd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kc(o,r,0,null),t=Ti(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=nf(n),e.memoizedState=tf,t):Up(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Lk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=$r(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$r(a,s):(s=Ti(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?nf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=tf,r}return s=t.child,t=s.sibling,r=$r(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Up(t,e){return e=kc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vl(t,e,n,r){return r!==null&&kp(r),As(e,t.child,null,n),t=Up(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=qh(Error(q(422))),Vl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kc({mode:"visible",children:r.children},i,0,null),s=Ti(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&As(e,t.child,null,o),e.child.memoizedState=nf(o),e.memoizedState=tf,s);if(!(e.mode&1))return Vl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=qh(s,r,void 0),Vl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dt||a){if(r=tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,nr(t,i),_n(r,t,i,-1))}return Wp(),r=qh(Error(q(421))),Vl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Gk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kt=Fr(i.nextSibling),Yt=e,Ne=!0,gn=null,t!==null&&(nn[rn++]=Kn,nn[rn++]=Gn,nn[rn++]=ki,Kn=t.id,Gn=t.overflow,ki=e),e=Up(e,r.children),e.flags|=4096,e)}function tv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qd(t.return,e,n)}function Hh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function x1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tv(t,n,e);else if(t.tag===19)tv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Uu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hh(e,!0,n,null,s);break;case"together":Hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ou(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mk(t,e,n){switch(e.tag){case 3:_1(e),Cs();break;case 5:Kw(e);break;case 1:Mt(e.type)&&Du(e);break;case 4:Np(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Vu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?w1(t,e,n):(Ce(Oe,Oe.current&1),t=rr(t,e,n),t!==null?t.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return x1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,y1(t,e,n)}return rr(t,e,n)}var E1,rf,T1,I1;E1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rf=function(){};T1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_i(bn.current);var s=null;switch(n){case"input":i=Sd(t,i),r=Sd(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=Ad(t,i),r=Ad(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nu)}bd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&be("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};I1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Co(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Vk(t,e,n){var r=e.pendingProps;switch(Sp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Mt(e.type)&&Ou(),mt(e),null;case 3:return r=e.stateNode,Ps(),Re(Lt),Re(xt),Dp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ll(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(df(gn),gn=null))),rf(t,e),mt(e),null;case 5:Op(e);var i=_i(ya.current);if(n=e.type,t!==null&&e.stateNode!=null)T1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return mt(e),null}if(t=_i(bn.current),Ll(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kn]=e,r[ma]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<Mo.length;i++)be(Mo[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":cy(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":dy(r,s),be("invalid",r)}bd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dl(r.textContent,a,t),i=["children",""+a]):sa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":kl(r),hy(r,s,!0);break;case"textarea":kl(r),fy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Nu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kn]=e,t[ma]=r,E1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rd(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mo.length;i++)be(Mo[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":cy(t,r),i=Sd(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),be("invalid",t);break;case"textarea":dy(t,r),i=Ad(t,r),be("invalid",t);break;default:i=r}bd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?tw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Z0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&oa(t,u):typeof u=="number"&&oa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&be("scroll",t):u!=null&&cp(t,s,u,o))}switch(n){case"input":kl(t),hy(t,r,!1);break;case"textarea":kl(t),fy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ds(t,!!r.multiple,s,!1):r.defaultValue!=null&&ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)I1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=_i(ya.current),_i(bn.current),Ll(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(s=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:Dl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return mt(e),null;case 13:if(Re(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Kt!==null&&e.mode&1&&!(e.flags&128))Bw(),Cs(),e.flags|=98560,s=!1;else if(s=Ll(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[kn]=e}else Cs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else gn!==null&&(df(gn),gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Xe===0&&(Xe=3):Wp())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Ps(),rf(t,e),t===null&&fa(e.stateNode.containerInfo),mt(e),null;case 10:return Pp(e.type._context),mt(e),null;case 17:return Mt(e.type)&&Ou(),mt(e),null;case 19:if(Re(Oe),s=e.memoizedState,s===null)return mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Co(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Uu(t),o!==null){for(e.flags|=128,Co(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&$e()>Rs&&(e.flags|=128,r=!0,Co(s,!1),e.lanes=4194304)}else{if(!r)if(t=Uu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Co(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return mt(e),null}else 2*$e()-s.renderingStartTime>Rs&&n!==1073741824&&(e.flags|=128,r=!0,Co(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$e(),e.sibling=null,n=Oe.current,Ce(Oe,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Hp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function jk(t,e){switch(Sp(e),e.tag){case 1:return Mt(e.type)&&Ou(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ps(),Re(Lt),Re(xt),Dp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Op(e),null;case 13:if(Re(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Oe),null;case 4:return Ps(),null;case 10:return Pp(e.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var jl=!1,_t=!1,Fk=typeof WeakSet=="function"?WeakSet:Set,G=null;function cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function sf(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var nv=!1;function Uk(t,e){if(zd=Pu,t=Pw(),Tp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(u=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bd={focusedElem:t,selectionRange:n},Pu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var k=E.memoizedProps,D=E.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?k:pn(e.type,k),D);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(L){Fe(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return E=nv,nv=!1,E}function Go(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sf(e,n,s)}i=i.next}while(i!==r)}}function Ic(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function of(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function S1(t){var e=t.alternate;e!==null&&(t.alternate=null,S1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[ma],delete e[Hd],delete e[Ek],delete e[Tk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k1(t){return t.tag===5||t.tag===3||t.tag===4}function rv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function af(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nu));else if(r!==4&&(t=t.child,t!==null))for(af(t,e,n),t=t.sibling;t!==null;)af(t,e,n),t=t.sibling}function lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lf(t,e,n),t=t.sibling;t!==null;)lf(t,e,n),t=t.sibling}var it=null,mn=!1;function xr(t,e,n){for(n=n.child;n!==null;)C1(t,e,n),n=n.sibling}function C1(t,e,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(gc,n)}catch{}switch(n.tag){case 5:_t||cs(n,e);case 6:var r=it,i=mn;it=null,xr(t,e,n),it=r,mn=i,it!==null&&(mn?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(mn?(t=it,n=n.stateNode,t.nodeType===8?jh(t.parentNode,n):t.nodeType===1&&jh(t,n),ca(t)):jh(it,n.stateNode));break;case 4:r=it,i=mn,it=n.stateNode.containerInfo,mn=!0,xr(t,e,n),it=r,mn=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sf(n,e,o),i=i.next}while(i!==r)}xr(t,e,n);break;case 1:if(!_t&&(cs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}xr(t,e,n);break;case 21:xr(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,xr(t,e,n),_t=r):xr(t,e,n);break;default:xr(t,e,n)}}function iv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Fk),e.forEach(function(r){var i=Qk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,mn=!1;break e;case 3:it=a.stateNode.containerInfo,mn=!0;break e;case 4:it=a.stateNode.containerInfo,mn=!0;break e}a=a.return}if(it===null)throw Error(q(160));C1(s,o,i),it=null,mn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Fe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A1(e,t),e=e.sibling}function A1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),Tn(t),r&4){try{Go(3,t,t.return),Ic(3,t)}catch(k){Fe(t,t.return,k)}try{Go(5,t,t.return)}catch(k){Fe(t,t.return,k)}}break;case 1:fn(e,t),Tn(t),r&512&&n!==null&&cs(n,n.return);break;case 5:if(fn(e,t),Tn(t),r&512&&n!==null&&cs(n,n.return),t.flags&32){var i=t.stateNode;try{oa(i,"")}catch(k){Fe(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Y0(i,s),Rd(a,o);var c=Rd(a,s);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];h==="style"?tw(i,d):h==="dangerouslySetInnerHTML"?Z0(i,d):h==="children"?oa(i,d):cp(i,h,d,c)}switch(a){case"input":kd(i,s);break;case"textarea":X0(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ds(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ds(i,!!s.multiple,s.defaultValue,!0):ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[ma]=s}catch(k){Fe(t,t.return,k)}}break;case 6:if(fn(e,t),Tn(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Fe(t,t.return,k)}}break;case 3:if(fn(e,t),Tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ca(e.containerInfo)}catch(k){Fe(t,t.return,k)}break;case 4:fn(e,t),Tn(t);break;case 13:fn(e,t),Tn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($p=$e())),r&4&&iv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(c=_t)||h,fn(e,t),_t=c):fn(e,t),Tn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(G=t,h=t.child;h!==null;){for(d=G=h;G!==null;){switch(p=G,m=p.child,p.tag){case 0:case 11:case 14:case 15:Go(4,p,p.return);break;case 1:cs(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(k){Fe(r,n,k)}}break;case 5:cs(p,p.return);break;case 22:if(p.memoizedState!==null){ov(d);continue}}m!==null?(m.return=p,G=m):ov(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ew("display",o))}catch(k){Fe(t,t.return,k)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(k){Fe(t,t.return,k)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fn(e,t),Tn(t),r&4&&iv(t);break;case 21:break;default:fn(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(k1(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oa(i,""),r.flags&=-33);var s=rv(t);lf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rv(t);af(t,a,o);break;default:throw Error(q(161))}}catch(u){Fe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zk(t,e,n){G=t,P1(t)}function P1(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||jl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||_t;a=jl;var c=_t;if(jl=o,(_t=u)&&!c)for(G=i;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?av(i):u!==null?(u.return=o,G=u):av(i);for(;s!==null;)G=s,P1(s),s=s.sibling;G=i,jl=a,_t=c}sv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):sv(t)}}function sv(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||Ic(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$y(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$y(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ca(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}_t||e.flags&512&&of(e)}catch(p){Fe(e,e.return,p)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function ov(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function av(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ic(4,e)}catch(u){Fe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Fe(e,i,u)}}var s=e.return;try{of(e)}catch(u){Fe(e,s,u)}break;case 5:var o=e.return;try{of(e)}catch(u){Fe(e,o,u)}}}catch(u){Fe(e,e.return,u)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var Bk=Math.ceil,$u=ur.ReactCurrentDispatcher,zp=ur.ReactCurrentOwner,an=ur.ReactCurrentBatchConfig,me=0,tt=null,Ke=null,at=0,Ht=0,hs=ti(0),Xe=0,xa=null,Ai=0,Sc=0,Bp=0,Qo=null,Nt=null,$p=0,Rs=1/0,qn=null,qu=!1,uf=null,zr=null,Fl=!1,Or=null,Hu=0,Yo=0,cf=null,au=-1,lu=0;function At(){return me&6?$e():au!==-1?au:au=$e()}function Br(t){return t.mode&1?me&2&&at!==0?at&-at:Sk.transition!==null?(lu===0&&(lu=fw()),lu):(t=we,t!==0||(t=window.event,t=t===void 0?16:ww(t.type)),t):1}function _n(t,e,n,r){if(50<Yo)throw Yo=0,cf=null,Error(q(185));Ma(t,n,r),(!(me&2)||t!==tt)&&(t===tt&&(!(me&2)&&(Sc|=n),Xe===4&&Cr(t,at)),Vt(t,r),n===1&&me===0&&!(e.mode&1)&&(Rs=$e()+500,xc&&ni()))}function Vt(t,e){var n=t.callbackNode;SS(t,e);var r=Au(t,t===tt?at:0);if(r===0)n!==null&&gy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gy(n),e===1)t.tag===0?Ik(lv.bind(null,t)):Fw(lv.bind(null,t)),wk(function(){!(me&6)&&ni()}),n=null;else{switch(pw(r)){case 1:n=mp;break;case 4:n=hw;break;case 16:n=Cu;break;case 536870912:n=dw;break;default:n=Cu}n=V1(n,b1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function b1(t,e){if(au=-1,lu=0,me&6)throw Error(q(327));var n=t.callbackNode;if(ys()&&t.callbackNode!==n)return null;var r=Au(t,t===tt?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wu(t,r);else{e=r;var i=me;me|=2;var s=N1();(tt!==t||at!==e)&&(qn=null,Rs=$e()+500,Ei(t,e));do try{Hk();break}catch(a){R1(t,a)}while(!0);Ap(),$u.current=s,me=i,Ke!==null?e=0:(tt=null,at=0,e=Xe)}if(e!==0){if(e===2&&(i=Md(t),i!==0&&(r=i,e=hf(t,i))),e===1)throw n=xa,Ei(t,0),Cr(t,r),Vt(t,$e()),n;if(e===6)Cr(t,r);else{if(i=t.current.alternate,!(r&30)&&!$k(i)&&(e=Wu(t,r),e===2&&(s=Md(t),s!==0&&(r=s,e=hf(t,s))),e===1))throw n=xa,Ei(t,0),Cr(t,r),Vt(t,$e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:pi(t,Nt,qn);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=$p+500-$e(),10<e)){if(Au(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){At(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qd(pi.bind(null,t,Nt,qn),e);break}pi(t,Nt,qn);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bk(r/1960))-r,10<r){t.timeoutHandle=qd(pi.bind(null,t,Nt,qn),r);break}pi(t,Nt,qn);break;case 5:pi(t,Nt,qn);break;default:throw Error(q(329))}}}return Vt(t,$e()),t.callbackNode===n?b1.bind(null,t):null}function hf(t,e){var n=Qo;return t.current.memoizedState.isDehydrated&&(Ei(t,e).flags|=256),t=Wu(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&df(e)),t}function df(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function $k(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~Bp,e&=~Sc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),r=1<<n;t[n]=-1,e&=~r}}function lv(t){if(me&6)throw Error(q(327));ys();var e=Au(t,0);if(!(e&1))return Vt(t,$e()),null;var n=Wu(t,e);if(t.tag!==0&&n===2){var r=Md(t);r!==0&&(e=r,n=hf(t,r))}if(n===1)throw n=xa,Ei(t,0),Cr(t,e),Vt(t,$e()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,Nt,qn),Vt(t,$e()),null}function qp(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Rs=$e()+500,xc&&ni())}}function Pi(t){Or!==null&&Or.tag===0&&!(me&6)&&ys();var e=me;me|=1;var n=an.transition,r=we;try{if(an.transition=null,we=1,t)return t()}finally{we=r,an.transition=n,me=e,!(me&6)&&ni()}}function Hp(){Ht=hs.current,Re(hs)}function Ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_k(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(Sp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ou();break;case 3:Ps(),Re(Lt),Re(xt),Dp();break;case 5:Op(r);break;case 4:Ps();break;case 13:Re(Oe);break;case 19:Re(Oe);break;case 10:Pp(r.type._context);break;case 22:case 23:Hp()}n=n.return}if(tt=t,Ke=t=$r(t.current,null),at=Ht=e,Xe=0,xa=null,Bp=Sc=Ai=0,Nt=Qo=null,vi!==null){for(e=0;e<vi.length;e++)if(n=vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vi=null}return t}function R1(t,e){do{var n=Ke;try{if(Ap(),iu.current=Bu,zu){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zu=!1}if(Ci=0,et=Ge=De=null,Ko=!1,va=0,zp.current=null,n===null||n.return===null){Xe=1,xa=e,Ke=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=at,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Qy(o);if(m!==null){m.flags&=-257,Yy(m,o,a,s,e),m.mode&1&&Gy(s,c,e),e=m,u=c;var E=e.updateQueue;if(E===null){var k=new Set;k.add(u),e.updateQueue=k}else E.add(u);break e}else{if(!(e&1)){Gy(s,c,e),Wp();break e}u=Error(q(426))}}else if(Ne&&a.mode&1){var D=Qy(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Yy(D,o,a,s,e),kp(bs(u,a));break e}}s=u=bs(u,a),Xe!==4&&(Xe=2),Qo===null?Qo=[s]:Qo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=p1(s,u,e);By(s,v);break e;case 1:a=u;var w=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(zr===null||!zr.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=m1(s,a,e);By(s,L);break e}}s=s.return}while(s!==null)}D1(n)}catch(U){e=U,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function N1(){var t=$u.current;return $u.current=Bu,t===null?Bu:t}function Wp(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),tt===null||!(Ai&268435455)&&!(Sc&268435455)||Cr(tt,at)}function Wu(t,e){var n=me;me|=2;var r=N1();(tt!==t||at!==e)&&(qn=null,Ei(t,e));do try{qk();break}catch(i){R1(t,i)}while(!0);if(Ap(),me=n,$u.current=r,Ke!==null)throw Error(q(261));return tt=null,at=0,Xe}function qk(){for(;Ke!==null;)O1(Ke)}function Hk(){for(;Ke!==null&&!gS();)O1(Ke)}function O1(t){var e=M1(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?D1(t):Ke=e,zp.current=null}function D1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jk(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Ke=null;return}}else if(n=Vk(n,e,Ht),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Xe===0&&(Xe=5)}function pi(t,e,n){var r=we,i=an.transition;try{an.transition=null,we=1,Wk(t,e,n,r)}finally{an.transition=i,we=r}return null}function Wk(t,e,n,r){do ys();while(Or!==null);if(me&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kS(t,s),t===tt&&(Ke=tt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fl||(Fl=!0,V1(Cu,function(){return ys(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=an.transition,an.transition=null;var o=we;we=1;var a=me;me|=4,zp.current=null,Uk(t,n),A1(n,t),dk(Bd),Pu=!!zd,Bd=zd=null,t.current=n,zk(n),yS(),me=a,we=o,an.transition=s}else t.current=n;if(Fl&&(Fl=!1,Or=t,Hu=i),s=t.pendingLanes,s===0&&(zr=null),wS(n.stateNode),Vt(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,t=uf,uf=null,t;return Hu&1&&t.tag!==0&&ys(),s=t.pendingLanes,s&1?t===cf?Yo++:(Yo=0,cf=t):Yo=0,ni(),null}function ys(){if(Or!==null){var t=pw(Hu),e=an.transition,n=we;try{if(an.transition=null,we=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,Hu=0,me&6)throw Error(q(331));var i=me;for(me|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(G=c;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:Go(8,h,s)}var d=h.child;if(d!==null)d.return=h,G=d;else for(;G!==null;){h=G;var p=h.sibling,m=h.return;if(S1(h),h===c){G=null;break}if(p!==null){p.return=m,G=p;break}G=m}}}var E=s.alternate;if(E!==null){var k=E.child;if(k!==null){E.child=null;do{var D=k.sibling;k.sibling=null,k=D}while(k!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Go(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,G=v;break e}G=s.return}}var w=t.current;for(G=w;G!==null;){o=G;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,G=T;else e:for(o=w;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ic(9,a)}}catch(U){Fe(a,a.return,U)}if(a===o){G=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,G=L;break e}G=a.return}}if(me=i,ni(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(gc,t)}catch{}r=!0}return r}finally{we=n,an.transition=e}}return!1}function uv(t,e,n){e=bs(n,e),e=p1(t,e,1),t=Ur(t,e,1),e=At(),t!==null&&(Ma(t,1,e),Vt(t,e))}function Fe(t,e,n){if(t.tag===3)uv(t,t,n);else for(;e!==null;){if(e.tag===3){uv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=bs(n,t),t=m1(e,t,1),e=Ur(e,t,1),t=At(),e!==null&&(Ma(e,1,t),Vt(e,t));break}}e=e.return}}function Kk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(at&n)===n&&(Xe===4||Xe===3&&(at&130023424)===at&&500>$e()-$p?Ei(t,0):Bp|=n),Vt(t,e)}function L1(t,e){e===0&&(t.mode&1?(e=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):e=1);var n=At();t=nr(t,e),t!==null&&(Ma(t,e,n),Vt(t,n))}function Gk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L1(t,n)}function Qk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),L1(t,n)}var M1;M1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,Mk(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Ne&&e.flags&1048576&&Uw(e,Mu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ou(t,e),t=e.pendingProps;var i=ks(e,xt.current);gs(e,n),i=Mp(null,e,r,t,i,n);var s=Vp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(s=!0,Du(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rp(e),i.updater=Tc,e.stateNode=i,i._reactInternals=e,Xd(e,r,t,n),e=ef(null,e,r,!0,s,n)):(e.tag=0,Ne&&s&&Ip(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ou(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Xk(r),t=pn(r,t),i){case 0:e=Zd(null,e,r,t,n);break e;case 1:e=Zy(null,e,r,t,n);break e;case 11:e=Xy(null,e,r,t,n);break e;case 14:e=Jy(null,e,r,pn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Zd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Zy(t,e,r,i,n);case 3:e:{if(_1(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ww(t,e),Fu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=bs(Error(q(423)),e),e=ev(t,e,r,n,i);break e}else if(r!==i){i=bs(Error(q(424)),e),e=ev(t,e,r,n,i);break e}else for(Kt=Fr(e.stateNode.containerInfo.firstChild),Yt=e,Ne=!0,gn=null,n=qw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),r===i){e=rr(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return Kw(e),t===null&&Gd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$d(r,i)?o=null:s!==null&&$d(r,s)&&(e.flags|=32),v1(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&Gd(e),null;case 13:return w1(t,e,n);case 4:return Np(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Xy(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(Vu,r._currentValue),r._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===i.children&&!Lt.current){e=rr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Jn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Qd(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gs(e,n),i=ln(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=pn(r,e.pendingProps),i=pn(r.type,i),Jy(t,e,r,i,n);case 15:return g1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),ou(t,e),e.tag=1,Mt(r)?(t=!0,Du(e)):t=!1,gs(e,n),f1(e,r,i),Xd(e,r,i,n),ef(null,e,r,!0,t,n);case 19:return x1(t,e,n);case 22:return y1(t,e,n)}throw Error(q(156,e.tag))};function V1(t,e){return cw(t,e)}function Yk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new Yk(t,e,n,r)}function Kp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xk(t){if(typeof t=="function")return Kp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dp)return 11;if(t===fp)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function uu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Kp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ts:return Ti(n.children,i,s,e);case hp:o=8,i|=8;break;case xd:return t=on(12,n,e,i|2),t.elementType=xd,t.lanes=s,t;case Ed:return t=on(13,n,e,i),t.elementType=Ed,t.lanes=s,t;case Td:return t=on(19,n,e,i),t.elementType=Td,t.lanes=s,t;case K0:return kc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H0:o=10;break e;case W0:o=9;break e;case dp:o=11;break e;case fp:o=14;break e;case Ir:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=on(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ti(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function kc(t,e,n,r){return t=on(22,t,r,e),t.elementType=K0,t.lanes=n,t.stateNode={isHidden:!1},t}function Wh(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function Kh(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gp(t,e,n,r,i,s,o,a,u){return t=new Jk(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=on(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(s),t}function Zk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function j1(t){if(!t)return Yr;t=t._reactInternals;e:{if(ji(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Mt(n))return jw(t,n,e)}return e}function F1(t,e,n,r,i,s,o,a,u){return t=Gp(n,r,!0,t,i,s,o,a,u),t.context=j1(null),n=t.current,r=At(),i=Br(n),s=Jn(r,i),s.callback=e??null,Ur(n,s,i),t.current.lanes=i,Ma(t,i,r),Vt(t,r),t}function Cc(t,e,n,r){var i=e.current,s=At(),o=Br(i);return n=j1(n),e.context===null?e.context=n:e.pendingContext=n,e=Jn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(i,e,o),t!==null&&(_n(t,i,o,s),ru(t,i,o)),o}function Ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qp(t,e){cv(t,e),(t=t.alternate)&&cv(t,e)}function eC(){return null}var U1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yp(t){this._internalRoot=t}Ac.prototype.render=Yp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Cc(t,e,null,null)};Ac.prototype.unmount=Yp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pi(function(){Cc(null,t,null,null)}),e[tr]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=yw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&_w(t)}};function Xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hv(){}function tC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ku(o);s.call(c)}}var o=F1(e,r,t,0,null,!1,!1,"",hv);return t._reactRootContainer=o,t[tr]=o.current,fa(t.nodeType===8?t.parentNode:t),Pi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ku(u);a.call(c)}}var u=Gp(t,0,!1,null,null,!1,!1,"",hv);return t._reactRootContainer=u,t[tr]=u.current,fa(t.nodeType===8?t.parentNode:t),Pi(function(){Cc(e,u,n,r)}),u}function bc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Ku(o);a.call(u)}}Cc(e,o,t,i)}else o=tC(n,e,t,i,r);return Ku(o)}mw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Lo(e.pendingLanes);n!==0&&(gp(e,n|1),Vt(e,$e()),!(me&6)&&(Rs=$e()+500,ni()))}break;case 13:Pi(function(){var r=nr(t,1);if(r!==null){var i=At();_n(r,t,1,i)}}),Qp(t,1)}};yp=function(t){if(t.tag===13){var e=nr(t,134217728);if(e!==null){var n=At();_n(e,t,134217728,n)}Qp(t,134217728)}};gw=function(t){if(t.tag===13){var e=Br(t),n=nr(t,e);if(n!==null){var r=At();_n(n,t,e,r)}Qp(t,e)}};yw=function(){return we};vw=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Od=function(t,e,n){switch(e){case"input":if(kd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wc(r);if(!i)throw Error(q(90));Q0(r),kd(r,i)}}}break;case"textarea":X0(t,n);break;case"select":e=n.value,e!=null&&ds(t,!!n.multiple,e,!1)}};iw=qp;sw=Pi;var nC={usingClientEntryPoint:!1,Events:[ja,ss,wc,nw,rw,qp]},Ao={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rC={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||eC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{gc=Ul.inject(rC),Pn=Ul}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nC;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xp(e))throw Error(q(200));return Zk(t,e,null,n)};Zt.createRoot=function(t,e){if(!Xp(t))throw Error(q(299));var n=!1,r="",i=U1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gp(t,1,!1,null,null,n,!1,r,i),t[tr]=e.current,fa(t.nodeType===8?t.parentNode:t),new Yp(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=lw(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return Pi(t)};Zt.hydrate=function(t,e,n){if(!Pc(e))throw Error(q(200));return bc(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!Xp(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=U1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=F1(e,null,t,1,n??null,i,!1,s,o),t[tr]=e.current,fa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ac(e)};Zt.render=function(t,e,n){if(!Pc(e))throw Error(q(200));return bc(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Pc(t))throw Error(q(40));return t._reactRootContainer?(Pi(function(){bc(null,null,t,!1,function(){t._reactRootContainer=null,t[tr]=null})}),!0):!1};Zt.unstable_batchedUpdates=qp;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pc(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return bc(t,e,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function z1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z1)}catch(t){console.error(t)}}z1(),z0.exports=Zt;var iC=z0.exports,dv=iC;_d.createRoot=dv.createRoot,_d.hydrateRoot=dv.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ea.apply(this,arguments)}var Dr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dr||(Dr={}));const fv="popstate";function sC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ff("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gu(i)}return aC(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oC(){return Math.random().toString(36).substr(2,8)}function pv(t,e){return{usr:t.state,key:t.key,idx:e}}function ff(t,e,n,r){return n===void 0&&(n=null),Ea({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ws(e):e,{state:n,key:e&&e.key||r||oC()})}function Gu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Dr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(Ea({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Dr.Pop;let D=h(),v=D==null?null:D-c;c=D,u&&u({action:a,location:k.location,delta:v})}function p(D,v){a=Dr.Push;let w=ff(k.location,D,v);c=h()+1;let T=pv(w,c),L=k.createHref(w);try{o.pushState(T,"",L)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(L)}s&&u&&u({action:a,location:k.location,delta:1})}function m(D,v){a=Dr.Replace;let w=ff(k.location,D,v);c=h();let T=pv(w,c),L=k.createHref(w);o.replaceState(T,"",L),s&&u&&u({action:a,location:k.location,delta:0})}function E(D){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof D=="string"?D:Gu(D);return w=w.replace(/ $/,"%20"),qe(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let k={get action(){return a},get location(){return t(i,o)},listen(D){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(fv,d),u=D,()=>{i.removeEventListener(fv,d),u=null}},createHref(D){return e(i,D)},createURL:E,encodeLocation(D){let v=E(D);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(D){return o.go(D)}};return k}var mv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mv||(mv={}));function lC(t,e,n){return n===void 0&&(n="/"),uC(t,e,n)}function uC(t,e,n,r){let i=typeof e=="string"?Ws(e):e,s=Zp(i.pathname||"/",n);if(s==null)return null;let o=B1(t);cC(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=EC(s);a=_C(o[u],c)}return a}function B1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(qe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=qr([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),B1(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:yC(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of $1(s.path))i(s,o,u)}),e}function $1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$1(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function cC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hC=/^:[\w-]+$/,dC=3,fC=2,pC=1,mC=10,gC=-2,gv=t=>t==="*";function yC(t,e){let n=t.split("/"),r=n.length;return n.some(gv)&&(r+=gC),e&&(r+=fC),n.filter(i=>!gv(i)).reduce((i,s)=>i+(hC.test(s)?dC:s===""?pC:mC),r)}function vC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _C(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=wC({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:qr([s,d.pathname]),pathnameBase:CC(qr([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=qr([s,d.pathnameBase]))}return o}function wC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let k=a[d]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const E=a[d];return m&&!E?c[p]=void 0:c[p]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function xC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const TC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IC=t=>TC.test(t);function SC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ws(t):t,s;if(n)if(IC(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Jp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=yv(n.substring(1),"/"):s=yv(n,e)}else s=e;return{pathname:s,search:AC(r),hash:PC(i)}}function yv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function em(t,e){let n=kC(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ws(t):(i=Ea({},t),qe(!i.pathname||!i.pathname.includes("?"),Gh("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),Gh("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),Gh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let u=SC(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const qr=t=>t.join("/").replace(/\/\/+/g,"/"),CC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const q1=["post","put","patch","delete"];new Set(q1);const RC=["get",...q1];new Set(RC);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(this,arguments)}const nm=V.createContext(null),NC=V.createContext(null),ri=V.createContext(null),Rc=V.createContext(null),cr=V.createContext({outlet:null,matches:[],isDataRoute:!1}),H1=V.createContext(null);function OC(t,e){let{relative:n}=e===void 0?{}:e;Ks()||qe(!1);let{basename:r,navigator:i}=V.useContext(ri),{hash:s,pathname:o,search:a}=G1(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:qr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Ks(){return V.useContext(Rc)!=null}function Ua(){return Ks()||qe(!1),V.useContext(Rc).location}function W1(t){V.useContext(ri).static||V.useLayoutEffect(t)}function hr(){let{isDataRoute:t}=V.useContext(cr);return t?WC():DC()}function DC(){Ks()||qe(!1);let t=V.useContext(nm),{basename:e,future:n,navigator:r}=V.useContext(ri),{matches:i}=V.useContext(cr),{pathname:s}=Ua(),o=JSON.stringify(em(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return W1(()=>{a.current=!0}),V.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=tm(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:qr([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function K1(){let{matches:t}=V.useContext(cr),e=t[t.length-1];return e?e.params:{}}function G1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(ri),{matches:i}=V.useContext(cr),{pathname:s}=Ua(),o=JSON.stringify(em(i,r.v7_relativeSplatPath));return V.useMemo(()=>tm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function LC(t,e){return MC(t,e)}function MC(t,e,n,r){Ks()||qe(!1);let{navigator:i}=V.useContext(ri),{matches:s}=V.useContext(cr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Ua(),h;if(e){var d;let D=typeof e=="string"?Ws(e):e;u==="/"||(d=D.pathname)!=null&&d.startsWith(u)||qe(!1),h=D}else h=c;let p=h.pathname||"/",m=p;if(u!=="/"){let D=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(D.length).join("/")}let E=lC(t,{pathname:m}),k=zC(E&&E.map(D=>Object.assign({},D,{params:Object.assign({},a,D.params),pathname:qr([u,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:qr([u,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r);return e&&k?V.createElement(Rc.Provider,{value:{location:Ta({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Dr.Pop}},k):k}function VC(){let t=HC(),e=bC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const jC=V.createElement(VC,null);class FC extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(cr.Provider,{value:this.props.routeContext},V.createElement(H1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UC(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(nm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(cr.Provider,{value:e},r)}function zC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||qe(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:m}=n,E=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,p)=>{let m,E=!1,k=null,D=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,k=d.route.errorElement||jC,u&&(c<0&&p===0?(KC("route-fallback"),E=!0,D=null):c===p&&(E=!0,D=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),w=()=>{let T;return m?T=k:E?T=D:d.route.Component?T=V.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=h,V.createElement(UC,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?V.createElement(FC,{location:n.location,revalidation:n.revalidation,component:k,error:m,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var Q1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Q1||{}),Y1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Y1||{});function BC(t){let e=V.useContext(nm);return e||qe(!1),e}function $C(t){let e=V.useContext(NC);return e||qe(!1),e}function qC(t){let e=V.useContext(cr);return e||qe(!1),e}function X1(t){let e=qC(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function HC(){var t;let e=V.useContext(H1),n=$C(),r=X1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function WC(){let{router:t}=BC(Q1.UseNavigateStable),e=X1(Y1.UseNavigateStable),n=V.useRef(!1);return W1(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ta({fromRouteId:e},s)))},[t,e])}const vv={};function KC(t,e,n){vv[t]||(vv[t]=!0)}function GC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pf(t){let{to:e,replace:n,state:r,relative:i}=t;Ks()||qe(!1);let{future:s,static:o}=V.useContext(ri),{matches:a}=V.useContext(cr),{pathname:u}=Ua(),c=hr(),h=tm(e,em(a,s.v7_relativeSplatPath),u,i==="path"),d=JSON.stringify(h);return V.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function $n(t){qe(!1)}function QC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Dr.Pop,navigator:s,static:o=!1,future:a}=t;Ks()&&qe(!1);let u=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:u,navigator:s,static:o,future:Ta({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Ws(r));let{pathname:h="/",search:d="",hash:p="",state:m=null,key:E="default"}=r,k=V.useMemo(()=>{let D=Zp(h,u);return D==null?null:{location:{pathname:D,search:d,hash:p,state:m,key:E},navigationType:i}},[u,h,d,p,m,E,i]);return k==null?null:V.createElement(ri.Provider,{value:c},V.createElement(Rc.Provider,{children:n,value:k}))}function YC(t){let{children:e,location:n}=t;return LC(mf(e),n)}new Promise(()=>{});function mf(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,mf(r.props.children,s));return}r.type!==$n&&qe(!1),!r.props.index||!r.props.children||qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}function XC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function JC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZC(t,e){return t.button===0&&(!e||e==="_self")&&!JC(t)}const eA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tA="6";try{window.__reactRouterVersion=tA}catch{}const nA="startTransition",_v=KI[nA];function rA(t){let{basename:e,children:n,future:r,window:i}=t,s=V.useRef();s.current==null&&(s.current=sC({window:i,v5Compat:!0}));let o=s.current,[a,u]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=V.useCallback(d=>{c&&_v?_v(()=>u(d)):u(d)},[u,c]);return V.useLayoutEffect(()=>o.listen(h),[o,h]),V.useEffect(()=>GC(r),[r]),V.createElement(QC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const iA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:d}=e,p=XC(e,eA),{basename:m}=V.useContext(ri),E,k=!1;if(typeof c=="string"&&sA.test(c)&&(E=c,iA))try{let T=new URL(window.location.href),L=c.startsWith("//")?new URL(T.protocol+c):new URL(c),U=Zp(L.pathname,m);L.origin===T.origin&&U!=null?c=U+L.search+L.hash:k=!0}catch{}let D=OC(c,{relative:i}),v=oA(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:d});function w(T){r&&r(T),T.defaultPrevented||v(T)}return V.createElement("a",gf({},p,{href:E||D,onClick:k||s?r:w,ref:n,target:u}))});var wv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wv||(wv={}));var xv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xv||(xv={}));function oA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=hr(),c=Ua(),h=G1(t,{relative:o});return V.useCallback(d=>{if(ZC(d,n)){d.preventDefault();let p=r!==void 0?r:Gu(c)===Gu(h);u(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,h,r,i,n,t,s,o,a])}let aA={data:""},lA=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||aA},uA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cA=/\/\*[^]*?\*\/|  +/g,Ev=/\n+/g,Ar=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Ar(o,s):s+"{"+Ar(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ar(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ar.p?Ar.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Bn={},J1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+J1(t[n]);return e}return t},hA=(t,e,n,r,i)=>{let s=J1(t),o=Bn[s]||(Bn[s]=(u=>{let c=0,h=11;for(;c<u.length;)h=101*h+u.charCodeAt(c++)>>>0;return"go"+h})(s));if(!Bn[o]){let u=s!==t?t:(c=>{let h,d,p=[{}];for(;h=uA.exec(c.replace(cA,""));)h[4]?p.shift():h[3]?(d=h[3].replace(Ev," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][h[1]]=h[2].replace(Ev," ").trim();return p[0]})(t);Bn[o]=Ar(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let a=n&&Bn.g?Bn.g:null;return n&&(Bn.g=Bn[o]),((u,c,h,d)=>{d?c.data=c.data.replace(d,u):c.data.indexOf(u)===-1&&(c.data=h?u+c.data:c.data+u)})(Bn[o],e,r,a),o},dA=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=u?"."+u:a&&typeof a=="object"?a.props?"":Ar(a,""):a===!1?"":a}return r+i+(o??"")},"");function Nc(t){let e=this||{},n=t.call?t(e.p):t;return hA(n.unshift?n.raw?dA(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,lA(e.target),e.g,e.o,e.k)}let Z1,yf,vf;Nc.bind({g:1});let ir=Nc.bind({k:1});function fA(t,e,n,r){Ar.p=e,Z1=t,yf=n,vf=r}function ii(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),u=a.className||i.className;n.p=Object.assign({theme:yf&&yf()},a),n.o=/ *go\d+/.test(u),a.className=Nc.apply(n,r)+(u?" "+u:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),vf&&c[0]&&vf(a),Z1(c,a)}return i}}var pA=t=>typeof t=="function",Qu=(t,e)=>pA(t)?t(e):t,mA=(()=>{let t=0;return()=>(++t).toString()})(),ex=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),gA=20,rm="default",tx=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return tx(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},cu=[],nx={toasts:[],pausedAt:void 0,settings:{toastLimit:gA}},An={},rx=(t,e=rm)=>{An[e]=tx(An[e]||nx,t),cu.forEach(([n,r])=>{n===e&&r(An[e])})},ix=t=>Object.keys(An).forEach(e=>rx(t,e)),yA=t=>Object.keys(An).find(e=>An[e].toasts.some(n=>n.id===t)),Oc=(t=rm)=>e=>{rx(e,t)},vA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_A=(t={},e=rm)=>{let[n,r]=V.useState(An[e]||nx),i=V.useRef(An[e]);V.useEffect(()=>(i.current!==An[e]&&r(An[e]),cu.push([e,r]),()=>{let o=cu.findIndex(([a])=>a===e);o>-1&&cu.splice(o,1)}),[e]);let s=n.toasts.map(o=>{var a,u,c;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((a=t[o.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((u=t[o.type])==null?void 0:u.duration)||(t==null?void 0:t.duration)||vA[o.type],style:{...t.style,...(c=t[o.type])==null?void 0:c.style,...o.style}}});return{...n,toasts:s}},wA=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||mA()}),za=t=>(e,n)=>{let r=wA(e,t,n);return Oc(r.toasterId||yA(r.id))({type:2,toast:r}),r.id},Qe=(t,e)=>za("blank")(t,e);Qe.error=za("error");Qe.success=za("success");Qe.loading=za("loading");Qe.custom=za("custom");Qe.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Oc(e)(n):ix(n)};Qe.dismissAll=t=>Qe.dismiss(void 0,t);Qe.remove=(t,e)=>{let n={type:4,toastId:t};e?Oc(e)(n):ix(n)};Qe.removeAll=t=>Qe.remove(void 0,t);Qe.promise=(t,e,n)=>{let r=Qe.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Qu(e.success,i):void 0;return s?Qe.success(s,{id:r,...n,...n==null?void 0:n.success}):Qe.dismiss(r),i}).catch(i=>{let s=e.error?Qu(e.error,i):void 0;s?Qe.error(s,{id:r,...n,...n==null?void 0:n.error}):Qe.dismiss(r)}),t};var xA=1e3,EA=(t,e="default")=>{let{toasts:n,pausedAt:r}=_A(t,e),i=V.useRef(new Map).current,s=V.useCallback((d,p=xA)=>{if(i.has(d))return;let m=setTimeout(()=>{i.delete(d),o({type:4,toastId:d})},p);i.set(d,m)},[]);V.useEffect(()=>{if(r)return;let d=Date.now(),p=n.map(m=>{if(m.duration===1/0)return;let E=(m.duration||0)+m.pauseDuration-(d-m.createdAt);if(E<0){m.visible&&Qe.dismiss(m.id);return}return setTimeout(()=>Qe.dismiss(m.id,e),E)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[n,r,e]);let o=V.useCallback(Oc(e),[e]),a=V.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=V.useCallback((d,p)=>{o({type:1,toast:{id:d,height:p}})},[o]),c=V.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=V.useCallback((d,p)=>{let{reverseOrder:m=!1,gutter:E=8,defaultPosition:k}=p||{},D=n.filter(T=>(T.position||k)===(d.position||k)&&T.height),v=D.findIndex(T=>T.id===d.id),w=D.filter((T,L)=>L<v&&T.visible).length;return D.filter(T=>T.visible).slice(...m?[w+1]:[0,w]).reduce((T,L)=>T+(L.height||0)+E,0)},[n]);return V.useEffect(()=>{n.forEach(d=>{if(d.dismissed)s(d.id,d.removeDelay);else{let p=i.get(d.id);p&&(clearTimeout(p),i.delete(d.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:u,startPause:a,endPause:c,calculateOffset:h}}},TA=ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,IA=ir`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,SA=ir`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kA=ii("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${IA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${SA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,CA=ir`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,AA=ii("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${CA} 1s linear infinite;
`,PA=ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bA=ir`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RA=ii("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,NA=ii("div")`
  position: absolute;
`,OA=ii("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,DA=ir`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LA=ii("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${DA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,MA=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?V.createElement(LA,null,e):e:n==="blank"?null:V.createElement(OA,null,V.createElement(AA,{...r}),n!=="loading"&&V.createElement(NA,null,n==="error"?V.createElement(kA,{...r}):V.createElement(RA,{...r})))},VA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,FA="0%{opacity:0;} 100%{opacity:1;}",UA="0%{opacity:1;} 100%{opacity:0;}",zA=ii("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,BA=ii("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$A=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=ex()?[FA,UA]:[VA(n),jA(n)];return{animation:e?`${ir(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ir(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},qA=V.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?$A(t.position||e||"top-center",t.visible):{opacity:0},s=V.createElement(MA,{toast:t}),o=V.createElement(BA,{...t.ariaProps},Qu(t.message,t));return V.createElement(zA,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):V.createElement(V.Fragment,null,s,o))});fA(V.createElement);var HA=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=V.useCallback(o=>{if(o){let a=()=>{let u=o.getBoundingClientRect().height;r(t,u)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return V.createElement("div",{ref:s,className:e,style:n},i)},WA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ex()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},KA=Nc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zl=16,GA=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:o,containerClassName:a})=>{let{toasts:u,handlers:c}=EA(n,s);return V.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:zl,left:zl,right:zl,bottom:zl,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(h=>{let d=h.position||e,p=c.calculateOffset(h,{reverseOrder:t,gutter:r,defaultPosition:e}),m=WA(d,p);return V.createElement(HA,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?KA:"",style:m},h.type==="custom"?Qu(h.message,h):i?i(h):V.createElement(qA,{toast:h,position:d}))}))},Wt=Qe,Tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ox={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;u||(m=64,o||(p=64)),r.push(n[h],n[d],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new YA;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const E=c<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(t){const e=sx(t);return ox.encodeByteArray(e,!0)},Yu=function(t){return XA(t).replace(/\./g,"")},ax=function(t){try{return ox.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=()=>JA().__FIREBASE_DEFAULTS__,eP=()=>{if(typeof process>"u"||typeof Tv>"u")return;const t=Tv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ax(t[1]);return e&&JSON.parse(e)},Dc=()=>{try{return ZA()||eP()||tP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lx=t=>{var e,n;return(n=(e=Dc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nP=t=>{const e=lx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ux=()=>{var t;return(t=Dc())===null||t===void 0?void 0:t.config},cx=t=>{var e;return(e=Dc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yu(JSON.stringify(n)),Yu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function oP(){var t;const e=(t=Dc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cP(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hP(){return!oP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dP(){try{return typeof indexedDB=="object"}catch{return!1}}function fP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pP,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ba.prototype.create)}}class Ba{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new dr(i,a,r)}}function mP(t,e){return t.replace(gP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gP=/\{\$([^}]+)}/g;function yP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Iv(s)&&Iv(o)){if(!Xu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Iv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vP(t,e){const n=new _P(t,e);return n.subscribe.bind(n)}class _P{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qh),i.error===void 0&&(i.error=Qh),i.complete===void 0&&(i.complete=Qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TP(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EP(t){return t===mi?void 0:t}function TP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const SP={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},kP=de.INFO,CP={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},AP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class im{constructor(e){this.name=e,this._logLevel=kP,this._logHandler=AP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const PP=(t,e)=>e.some(n=>t instanceof n);let Sv,kv;function bP(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RP(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hx=new WeakMap,_f=new WeakMap,dx=new WeakMap,Yh=new WeakMap,sm=new WeakMap;function NP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hx.set(n,t)}).catch(()=>{}),sm.set(e,t),e}function OP(t){if(_f.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_f.set(t,e)}let wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _f.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DP(t){wf=t(wf)}function LP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xh(this),e,...n);return dx.set(r,e.sort?e.sort():[e]),Hr(r)}:RP().includes(t)?function(...e){return t.apply(Xh(this),e),Hr(hx.get(this))}:function(...e){return Hr(t.apply(Xh(this),e))}}function MP(t){return typeof t=="function"?LP(t):(t instanceof IDBTransaction&&OP(t),PP(t,bP())?new Proxy(t,wf):t)}function Hr(t){if(t instanceof IDBRequest)return NP(t);if(Yh.has(t))return Yh.get(t);const e=MP(t);return e!==t&&(Yh.set(t,e),sm.set(e,t)),e}const Xh=t=>sm.get(t);function VP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Hr(o.result),u.oldVersion,u.newVersion,Hr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jP=["get","getKey","getAll","getAllKeys","count"],FP=["put","add","delete","clear"],Jh=new Map;function Cv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jh.get(e))return Jh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jP.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Jh.set(e,s),s}DP(t=>({...t,get:(e,n,r)=>Cv(e,n)||t.get(e,n,r),has:(e,n)=>!!Cv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xf="@firebase/app",Av="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new im("@firebase/app"),BP="@firebase/app-compat",$P="@firebase/analytics-compat",qP="@firebase/analytics",HP="@firebase/app-check-compat",WP="@firebase/app-check",KP="@firebase/auth",GP="@firebase/auth-compat",QP="@firebase/database",YP="@firebase/data-connect",XP="@firebase/database-compat",JP="@firebase/functions",ZP="@firebase/functions-compat",eb="@firebase/installations",tb="@firebase/installations-compat",nb="@firebase/messaging",rb="@firebase/messaging-compat",ib="@firebase/performance",sb="@firebase/performance-compat",ob="@firebase/remote-config",ab="@firebase/remote-config-compat",lb="@firebase/storage",ub="@firebase/storage-compat",cb="@firebase/firestore",hb="@firebase/vertexai-preview",db="@firebase/firestore-compat",fb="firebase",pb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="[DEFAULT]",mb={[xf]:"fire-core",[BP]:"fire-core-compat",[qP]:"fire-analytics",[$P]:"fire-analytics-compat",[WP]:"fire-app-check",[HP]:"fire-app-check-compat",[KP]:"fire-auth",[GP]:"fire-auth-compat",[QP]:"fire-rtdb",[YP]:"fire-data-connect",[XP]:"fire-rtdb-compat",[JP]:"fire-fn",[ZP]:"fire-fn-compat",[eb]:"fire-iid",[tb]:"fire-iid-compat",[nb]:"fire-fcm",[rb]:"fire-fcm-compat",[ib]:"fire-perf",[sb]:"fire-perf-compat",[ob]:"fire-rc",[ab]:"fire-rc-compat",[lb]:"fire-gcs",[ub]:"fire-gcs-compat",[cb]:"fire-fst",[db]:"fire-fst-compat",[hb]:"fire-vertex","fire-js":"fire-js",[fb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,gb=new Map,Tf=new Map;function Pv(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ns(t){const e=t.name;if(Tf.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,t);for(const n of Ju.values())Pv(n,t);for(const n of gb.values())Pv(n,t);return!0}function om(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Ba("app","Firebase",yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=pb;function fx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ef,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=ux()),!n)throw Wr.create("no-options");const s=Ju.get(i);if(s){if(Xu(n,s.options)&&Xu(r,s.config))return s;throw Wr.create("duplicate-app",{appName:i})}const o=new IP(i);for(const u of Tf.values())o.addComponent(u);const a=new vb(n,r,o);return Ju.set(i,a),a}function px(t=Ef){const e=Ju.get(t);if(!e&&t===Ef&&ux())return fx();if(!e)throw Wr.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=mb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(a.join(" "));return}Ns(new bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firebase-heartbeat-database",wb=1,Ia="firebase-heartbeat-store";let Zh=null;function mx(){return Zh||(Zh=VP(_b,wb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),Zh}async function xb(t){try{const n=(await mx()).transaction(Ia),r=await n.objectStore(Ia).get(gx(t));return await n.done,r}catch(e){if(e instanceof dr)sr.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function bv(t,e){try{const r=(await mx()).transaction(Ia,"readwrite");await r.objectStore(Ia).put(e,gx(t)),await r.done}catch(n){if(n instanceof dr)sr.warn(n.message);else{const r=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(r.message)}}}function gx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=1024,Tb=30*24*60*60*1e3;class Ib{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Tb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rv(),{heartbeatsToSend:r,unsentEntries:i}=Sb(this._heartbeatsCache.heartbeats),s=Yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return sr.warn(n),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function Sb(t,e=Eb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Nv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dP()?fP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Nv(t){return Yu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){Ns(new bi("platform-logger",e=>new UP(e),"PRIVATE")),Ns(new bi("heartbeat",e=>new Ib(e),"PRIVATE")),Kr(xf,Av,t),Kr(xf,Av,"esm2017"),Kr("fire-js","")}Cb("");function am(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ab=yx,vx=new Ba("auth","Firebase",yx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new im("@firebase/auth");function Pb(t,...e){Zu.logLevel<=de.WARN&&Zu.warn(`Auth (${Gs}): ${t}`,...e)}function hu(t,...e){Zu.logLevel<=de.ERROR&&Zu.error(`Auth (${Gs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,...e){throw um(t,...e)}function wn(t,...e){return um(t,...e)}function lm(t,e,n){const r=Object.assign(Object.assign({},Ab()),{[e]:n});return new Ba("auth","Firebase",r).create(e,{appName:t.name})}function Zn(t){return lm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&cn(t,"argument-error"),lm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function um(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vx.create(t,...e)}function ee(t,e,...n){if(!t)throw um(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hu(e),new Error(e)}function or(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Rb(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rb()||lP()||"connection"in navigator)?navigator.onLine:!0}function Ob(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=sP()||uP()}get(){return Nb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t,e){or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new qa(3e4,6e4);function si(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fr(t,e,n,r,i={}){return wx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=$a(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return aP()||(c.referrerPolicy="no-referrer"),_x.fetch()(xx(t,t.config.apiHost,n,a),c)})}async function wx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Db),e);try{const i=new Vb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Bl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Bl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Bl(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lm(t,h,c);cn(t,h)}}catch(i){if(i instanceof dr)throw i;cn(t,"network-request-failed",{message:String(i)})}}async function Ha(t,e,n,r,i={}){const s=await fr(t,e,n,r,i);return"mfaPendingCredential"in s&&cn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function xx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cm(t.config,i):`${t.config.apiScheme}://${i}`}function Mb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),Lb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wn(t,e,r);return i.customData._tokenResponse=n,i}function Dv(t){return t!==void 0&&t.enterprise!==void 0}class jb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Mb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Fb(t,e){return fr(t,"GET","/v2/recaptchaConfig",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(t,e){return fr(t,"POST","/v1/accounts:delete",e)}async function Ex(t,e){return fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zb(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=hm(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xo(ed(i.auth_time)),issuedAtTime:Xo(ed(i.iat)),expirationTime:Xo(ed(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ed(t){return Number(t)*1e3}function hm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hu("JWT malformed, contained fewer than 3 sections"),null;try{const i=ax(n);return i?JSON.parse(i):(hu("Failed to decode base64 JWT payload"),null)}catch(i){return hu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Lv(t){const e=hm(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&Bb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Bb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Os(t,Ex(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Tx(s.providerUserInfo):[],a=Hb(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function qb(t){const e=ct(t);await ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Tx(t){return t.map(e=>{var{providerId:n}=e,r=am(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e){const n=await wx(t,{},async()=>{const r=$a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=xx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_x.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Kb(t,e){return fr(t,"POST","/v2/accounts:revokeToken",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=Lv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Wb(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vs;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vs,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=am(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $b(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Os(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zb(this,e)}reload(){return qb(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ec(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(Zn(this.auth));const e=await this.getIdToken();return await Os(this,Ub(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:L,isAnonymous:U,providerData:R,stsTokenManager:I}=n;ee(T&&I,e,"internal-error");const x=vs.fromJSON(this.name,I);ee(typeof T=="string",e,"internal-error"),Er(d,e.name),Er(p,e.name),ee(typeof L=="boolean",e,"internal-error"),ee(typeof U=="boolean",e,"internal-error"),Er(m,e.name),Er(E,e.name),Er(k,e.name),Er(D,e.name),Er(v,e.name),Er(w,e.name);const S=new Yn({uid:T,auth:e,email:p,emailVerified:L,displayName:d,isAnonymous:U,photoURL:E,phoneNumber:m,tenantId:k,stsTokenManager:x,createdAt:v,lastLoginAt:w});return R&&Array.isArray(R)&&(S.providerData=R.map(C=>Object.assign({},C))),D&&(S._redirectEventId=D),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new vs;i.updateFromServerResponse(n);const s=new Yn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ec(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Tx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new vs;a.updateFromIdToken(r);const u=new Yn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function Xn(t){or(t instanceof Function,"Expected a class definition");let e=Mv.get(t);return e?(or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ix.type="NONE";const Vv=Ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t,e,n){return`firebase:${t}:${e}:${n}`}class _s{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=du(this.userKey,i.apiKey,s),this.fullPersistenceKey=du("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _s(Xn(Vv),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Xn(Vv);const o=du(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=Yn._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new _s(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new _s(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ax(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bx(e))return"Blackberry";if(Rx(e))return"Webos";if(kx(e))return"Safari";if((e.includes("chrome/")||Cx(e))&&!e.includes("edge/"))return"Chrome";if(Px(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Sx(t=Et()){return/firefox\//i.test(t)}function kx(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cx(t=Et()){return/crios\//i.test(t)}function Ax(t=Et()){return/iemobile/i.test(t)}function Px(t=Et()){return/android/i.test(t)}function bx(t=Et()){return/blackberry/i.test(t)}function Rx(t=Et()){return/webos/i.test(t)}function dm(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gb(t=Et()){var e;return dm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Qb(){return cP()&&document.documentMode===10}function Nx(t=Et()){return dm(t)||Px(t)||Rx(t)||bx(t)||/windows phone/i.test(t)||Ax(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e=[]){let n;switch(t){case"Browser":n=jv(Et());break;case"Worker":n=`${jv(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t,e={}){return fr(t,"GET","/v2/passwordPolicy",si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=6;class Zb{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Jb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fv(this),this.idTokenSubscription=new Fv(this),this.beforeStateQueue=new Yb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await _s.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ex(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ec(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ob()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(Zn(this));const n=e?ct(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xb(this),n=new Zb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ba("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Kb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xn(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await _s.create(this,[Xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ox(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Pb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oi(t){return ct(t)}class Fv{constructor(e){this.auth=e,this.observer=null,this.addObserver=vP(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t2(t){Lc=t}function Dx(t){return Lc.loadJS(t)}function n2(){return Lc.recaptchaEnterpriseScript}function r2(){return Lc.gapiScript}function i2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const s2="recaptcha-enterprise",o2="NO_RECAPTCHA";class a2{constructor(e){this.type=s2,this.auth=oi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Fb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new jb(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;Dv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(o2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Dv(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=n2();u.length!==0&&(u+=a),Dx(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Uv(t,e,n,r=!1){const i=new a2(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function kf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Uv(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Uv(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){const n=om(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xu(s,e??{}))return i;cn(i,"already-initialized")}return n.initialize({options:e})}function u2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c2(t,e,n){const r=oi(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Lx(e),{host:o,port:a}=h2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),d2()}function Lx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h2(t){const e=Lx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:zv(o)}}}function zv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function f2(t,e){return fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e){return Ha(t,"POST","/v1/accounts:signInWithPassword",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(t,e){return Ha(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}async function g2(t,e){return Ha(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends fm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kf(e,n,"signInWithPassword",p2);case"emailLink":return m2(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kf(e,r,"signUpPassword",f2);case"emailLink":return g2(e,{idToken:n,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(t,e){return Ha(t,"POST","/v1/accounts:signInWithIdp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="http://localhost";class Ri extends fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=am(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ri(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ws(e,n)}buildRequest(){const e={requestUri:y2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$a(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _2(t){const e=Vo(jo(t)).link,n=e?Vo(jo(e)).deep_link_id:null,r=Vo(jo(t)).deep_link_id;return(r?Vo(jo(r)).link:null)||r||n||e||t}class pm{constructor(e){var n,r,i,s,o,a;const u=Vo(jo(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,d=v2((i=u.mode)!==null&&i!==void 0?i:null);ee(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_2(e);try{return new pm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.providerId=Qs.PROVIDER_ID}static credential(e,n){return Sa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pm.parseLink(n);return ee(r,"argument-error"),Sa._fromEmailAndCode(e,r.code,r.tenantId)}}Qs.PROVIDER_ID="password";Qs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends mm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Wa{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Wa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ri._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wn.credential(n,r)}catch{return null}}}Wn.GOOGLE_SIGN_IN_METHOD="google.com";Wn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Wa{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Wa{constructor(){super("twitter.com")}static credential(e,n){return Ri._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(t,e){return Ha(t,"POST","/v1/accounts:signUp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yn._fromIdTokenResponse(e,r,i),o=Bv(r);return new Ni({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Bv(r);return new Ni({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Bv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends dr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tc(e,n,r,i)}}function Mx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tc._fromErrorAndOperation(t,s,e,r):s})}async function x2(t,e,n=!1){const r=await Os(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ni._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(t,e,n=!1){const{auth:r}=t;if(yn(r.app))return Promise.reject(Zn(r));const i="reauthenticate";try{const s=await Os(t,Mx(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=hm(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Ni._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&cn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(t,e,n=!1){if(yn(t.app))return Promise.reject(Zn(t));const r="signIn",i=await Mx(t,r,e),s=await Ni._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function T2(t,e){return Vx(oi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(t){const e=oi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function I2(t,e,n){if(yn(t.app))return Promise.reject(Zn(t));const r=oi(t),o=await kf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w2).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&jx(t),u}),a=await Ni._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function S2(t,e,n){return yn(t.app)?Promise.reject(Zn(t)):T2(ct(t),Qs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jx(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e){return fr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Os(r,k2(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function A2(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function P2(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function b2(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function R2(t){return ct(t).signOut()}const nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nc,"1"),this.storage.removeItem(nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=1e3,O2=10;class Ux extends Fx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Qb()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ux.type="LOCAL";const D2=Ux;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends Fx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zx.type="SESSION";const Bx=zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Mc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await L2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=gm("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function V2(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function j2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function U2(){return $x()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebaseLocalStorageDb",z2=1,rc="firebaseLocalStorage",Hx="fbase_key";class Ka{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vc(t,e){return t.transaction([rc],e?"readwrite":"readonly").objectStore(rc)}function B2(){const t=indexedDB.deleteDatabase(qx);return new Ka(t).toPromise()}function Cf(){const t=indexedDB.open(qx,z2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rc,{keyPath:Hx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rc)?e(r):(r.close(),await B2(),e(await Cf()))})})}async function $v(t,e,n){const r=Vc(t,!0).put({[Hx]:e,value:n});return new Ka(r).toPromise()}async function $2(t,e){const n=Vc(t,!1).get(e),r=await new Ka(n).toPromise();return r===void 0?null:r.value}function qv(t,e){const n=Vc(t,!0).delete(e);return new Ka(n).toPromise()}const q2=800,H2=3;class Wx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $x()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mc._getInstance(U2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j2(),!this.activeServiceWorker)return;this.sender=new M2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cf();return await $v(e,nc,"1"),await qv(e,nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$v(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vc(i,!1).getAll();return new Ka(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wx.type="LOCAL";const W2=Wx;new qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e){return e?Xn(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K2(t){return Vx(t.auth,new ym(t),t.bypassAuthState)}function G2(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),E2(n,new ym(t),t.bypassAuthState)}async function Q2(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),x2(n,new ym(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K2;case"linkViaPopup":case"linkViaRedirect":return Q2;case"reauthViaPopup":case"reauthViaRedirect":return G2;default:cn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new qa(2e3,1e4);async function X2(t,e,n){if(yn(t.app))return Promise.reject(wn(t,"operation-not-supported-in-this-environment"));const r=oi(t);bb(t,e,mm);const i=Kx(r,n);return new wi(r,"signInViaPopup",e,i).executeNotNull()}class wi extends Gx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,wi.currentPopupAction&&wi.currentPopupAction.cancel(),wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y2.get())};e()}}wi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="pendingRedirect",fu=new Map;class Z2 extends Gx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fu.get(this.auth._key());if(!e){try{const r=await eR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fu.set(this.auth._key(),e)}return this.bypassAuthState||fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eR(t,e){const n=rR(e),r=nR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function tR(t,e){fu.set(t._key(),e)}function nR(t){return Xn(t._redirectPersistence)}function rR(t){return du(J2,t.config.apiKey,t.name)}async function iR(t,e,n=!1){if(yn(t.app))return Promise.reject(Zn(t));const r=oi(t),i=Kx(r,e),o=await new Z2(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=10*60*1e3;class oR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Qx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hv(e))}saveEventToCache(e){this.cachedEventUids.add(Hv(e)),this.lastProcessedEventTime=Date.now()}}function Hv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e={}){return fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cR=/^https?/;async function hR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lR(t);for(const n of e)try{if(dR(n))return}catch{}cn(t,"unauthorized-domain")}function dR(t){const e=If(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cR.test(n))return!1;if(uR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new qa(3e4,6e4);function Wv(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pR(t){return new Promise((e,n)=>{var r,i,s;function o(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(wn(t,"network-request-failed"))},timeout:fR.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rn().gapi)===null||s===void 0)&&s.load)o();else{const a=i2("iframefcb");return Rn()[a]=()=>{gapi.load?o():n(wn(t,"network-request-failed"))},Dx(`${r2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw pu=null,e})}let pu=null;function mR(t){return pu=pu||pR(t),pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new qa(5e3,15e3),yR="__/auth/iframe",vR="emulator/auth/iframe",_R={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xR(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cm(e,vR):`https://${t.config.authDomain}/${yR}`,r={apiKey:e.apiKey,appName:t.name,v:Gs},i=wR.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$a(r).slice(1)}`}async function ER(t){const e=await mR(t),n=Rn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:xR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_R,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=Rn().setTimeout(()=>{s(o)},gR.get());function u(){Rn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IR=500,SR=600,kR="_blank",CR="http://localhost";class Kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AR(t,e,n,r=IR,i=SR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},TR),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Et().toLowerCase();n&&(a=Cx(c)?kR:n),Sx(c)&&(e=e||CR,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[m,E])=>`${p}${m}=${E},`,"");if(Gb(c)&&a!=="_self")return PR(e||"",a),new Kv(null);const d=window.open(e||"",a,h);ee(d,t,"popup-blocked");try{d.focus()}catch{}return new Kv(d)}function PR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="__/auth/handler",RR="emulator/auth/handler",NR=encodeURIComponent("fac");async function Gv(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gs,eventId:i};if(e instanceof mm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Wa){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${NR}=${encodeURIComponent(u)}`:"";return`${OR(t)}?${$a(a).slice(1)}${c}`}function OR({config:t}){return t.emulator?cm(t,RR):`https://${t.authDomain}/${bR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="webStorageSupport";class DR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bx,this._completeRedirectFn=iR,this._overrideRedirectResult=tR}async _openPopup(e,n,r,i){var s;or((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Gv(e,n,r,If(),i);return AR(e,o,gm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Gv(e,n,r,If(),i);return V2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(or(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ER(e),r=new oR(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(td,{type:td},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[td];o!==void 0&&n(!!o),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nx()||kx()||dm()}}const LR=DR;var Qv="@firebase/auth",Yv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jR(t){Ns(new bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ox(t)},c=new e2(r,i,s,u);return u2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ns(new bi("auth-internal",e=>{const n=oi(e.getProvider("auth").getImmediate());return(r=>new MR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(Qv,Yv,VR(t)),Kr(Qv,Yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=5*60,UR=cx("authIdTokenMaxAge")||FR;let Xv=null;const zR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UR)return;const i=n==null?void 0:n.token;Xv!==i&&(Xv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BR(t=px()){const e=om(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l2(t,{popupRedirectResolver:LR,persistence:[W2,D2,Bx]}),r=cx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=zR(s.toString());P2(n,o,()=>o(n.currentUser)),A2(n,a=>o(a))}}const i=lx("auth");return i&&c2(n,`http://${i}`),n}function $R(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$R().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jR("Browser");var qR="firebase",HR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(qR,HR,"app");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,Yx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function S(){}S.prototype=x.prototype,I.D=x.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(C,b,O){for(var A=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)A[pe-2]=arguments[pe];return x.prototype[b].apply(C,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,x,S){S||(S=0);var C=Array(16);if(typeof x=="string")for(var b=0;16>b;++b)C[b]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(b=0;16>b;++b)C[b]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=I.g[0],S=I.g[1],b=I.g[2];var O=I.g[3],A=x+(O^S&(b^O))+C[0]+3614090360&4294967295;x=S+(A<<7&4294967295|A>>>25),A=O+(b^x&(S^b))+C[1]+3905402710&4294967295,O=x+(A<<12&4294967295|A>>>20),A=b+(S^O&(x^S))+C[2]+606105819&4294967295,b=O+(A<<17&4294967295|A>>>15),A=S+(x^b&(O^x))+C[3]+3250441966&4294967295,S=b+(A<<22&4294967295|A>>>10),A=x+(O^S&(b^O))+C[4]+4118548399&4294967295,x=S+(A<<7&4294967295|A>>>25),A=O+(b^x&(S^b))+C[5]+1200080426&4294967295,O=x+(A<<12&4294967295|A>>>20),A=b+(S^O&(x^S))+C[6]+2821735955&4294967295,b=O+(A<<17&4294967295|A>>>15),A=S+(x^b&(O^x))+C[7]+4249261313&4294967295,S=b+(A<<22&4294967295|A>>>10),A=x+(O^S&(b^O))+C[8]+1770035416&4294967295,x=S+(A<<7&4294967295|A>>>25),A=O+(b^x&(S^b))+C[9]+2336552879&4294967295,O=x+(A<<12&4294967295|A>>>20),A=b+(S^O&(x^S))+C[10]+4294925233&4294967295,b=O+(A<<17&4294967295|A>>>15),A=S+(x^b&(O^x))+C[11]+2304563134&4294967295,S=b+(A<<22&4294967295|A>>>10),A=x+(O^S&(b^O))+C[12]+1804603682&4294967295,x=S+(A<<7&4294967295|A>>>25),A=O+(b^x&(S^b))+C[13]+4254626195&4294967295,O=x+(A<<12&4294967295|A>>>20),A=b+(S^O&(x^S))+C[14]+2792965006&4294967295,b=O+(A<<17&4294967295|A>>>15),A=S+(x^b&(O^x))+C[15]+1236535329&4294967295,S=b+(A<<22&4294967295|A>>>10),A=x+(b^O&(S^b))+C[1]+4129170786&4294967295,x=S+(A<<5&4294967295|A>>>27),A=O+(S^b&(x^S))+C[6]+3225465664&4294967295,O=x+(A<<9&4294967295|A>>>23),A=b+(x^S&(O^x))+C[11]+643717713&4294967295,b=O+(A<<14&4294967295|A>>>18),A=S+(O^x&(b^O))+C[0]+3921069994&4294967295,S=b+(A<<20&4294967295|A>>>12),A=x+(b^O&(S^b))+C[5]+3593408605&4294967295,x=S+(A<<5&4294967295|A>>>27),A=O+(S^b&(x^S))+C[10]+38016083&4294967295,O=x+(A<<9&4294967295|A>>>23),A=b+(x^S&(O^x))+C[15]+3634488961&4294967295,b=O+(A<<14&4294967295|A>>>18),A=S+(O^x&(b^O))+C[4]+3889429448&4294967295,S=b+(A<<20&4294967295|A>>>12),A=x+(b^O&(S^b))+C[9]+568446438&4294967295,x=S+(A<<5&4294967295|A>>>27),A=O+(S^b&(x^S))+C[14]+3275163606&4294967295,O=x+(A<<9&4294967295|A>>>23),A=b+(x^S&(O^x))+C[3]+4107603335&4294967295,b=O+(A<<14&4294967295|A>>>18),A=S+(O^x&(b^O))+C[8]+1163531501&4294967295,S=b+(A<<20&4294967295|A>>>12),A=x+(b^O&(S^b))+C[13]+2850285829&4294967295,x=S+(A<<5&4294967295|A>>>27),A=O+(S^b&(x^S))+C[2]+4243563512&4294967295,O=x+(A<<9&4294967295|A>>>23),A=b+(x^S&(O^x))+C[7]+1735328473&4294967295,b=O+(A<<14&4294967295|A>>>18),A=S+(O^x&(b^O))+C[12]+2368359562&4294967295,S=b+(A<<20&4294967295|A>>>12),A=x+(S^b^O)+C[5]+4294588738&4294967295,x=S+(A<<4&4294967295|A>>>28),A=O+(x^S^b)+C[8]+2272392833&4294967295,O=x+(A<<11&4294967295|A>>>21),A=b+(O^x^S)+C[11]+1839030562&4294967295,b=O+(A<<16&4294967295|A>>>16),A=S+(b^O^x)+C[14]+4259657740&4294967295,S=b+(A<<23&4294967295|A>>>9),A=x+(S^b^O)+C[1]+2763975236&4294967295,x=S+(A<<4&4294967295|A>>>28),A=O+(x^S^b)+C[4]+1272893353&4294967295,O=x+(A<<11&4294967295|A>>>21),A=b+(O^x^S)+C[7]+4139469664&4294967295,b=O+(A<<16&4294967295|A>>>16),A=S+(b^O^x)+C[10]+3200236656&4294967295,S=b+(A<<23&4294967295|A>>>9),A=x+(S^b^O)+C[13]+681279174&4294967295,x=S+(A<<4&4294967295|A>>>28),A=O+(x^S^b)+C[0]+3936430074&4294967295,O=x+(A<<11&4294967295|A>>>21),A=b+(O^x^S)+C[3]+3572445317&4294967295,b=O+(A<<16&4294967295|A>>>16),A=S+(b^O^x)+C[6]+76029189&4294967295,S=b+(A<<23&4294967295|A>>>9),A=x+(S^b^O)+C[9]+3654602809&4294967295,x=S+(A<<4&4294967295|A>>>28),A=O+(x^S^b)+C[12]+3873151461&4294967295,O=x+(A<<11&4294967295|A>>>21),A=b+(O^x^S)+C[15]+530742520&4294967295,b=O+(A<<16&4294967295|A>>>16),A=S+(b^O^x)+C[2]+3299628645&4294967295,S=b+(A<<23&4294967295|A>>>9),A=x+(b^(S|~O))+C[0]+4096336452&4294967295,x=S+(A<<6&4294967295|A>>>26),A=O+(S^(x|~b))+C[7]+1126891415&4294967295,O=x+(A<<10&4294967295|A>>>22),A=b+(x^(O|~S))+C[14]+2878612391&4294967295,b=O+(A<<15&4294967295|A>>>17),A=S+(O^(b|~x))+C[5]+4237533241&4294967295,S=b+(A<<21&4294967295|A>>>11),A=x+(b^(S|~O))+C[12]+1700485571&4294967295,x=S+(A<<6&4294967295|A>>>26),A=O+(S^(x|~b))+C[3]+2399980690&4294967295,O=x+(A<<10&4294967295|A>>>22),A=b+(x^(O|~S))+C[10]+4293915773&4294967295,b=O+(A<<15&4294967295|A>>>17),A=S+(O^(b|~x))+C[1]+2240044497&4294967295,S=b+(A<<21&4294967295|A>>>11),A=x+(b^(S|~O))+C[8]+1873313359&4294967295,x=S+(A<<6&4294967295|A>>>26),A=O+(S^(x|~b))+C[15]+4264355552&4294967295,O=x+(A<<10&4294967295|A>>>22),A=b+(x^(O|~S))+C[6]+2734768916&4294967295,b=O+(A<<15&4294967295|A>>>17),A=S+(O^(b|~x))+C[13]+1309151649&4294967295,S=b+(A<<21&4294967295|A>>>11),A=x+(b^(S|~O))+C[4]+4149444226&4294967295,x=S+(A<<6&4294967295|A>>>26),A=O+(S^(x|~b))+C[11]+3174756917&4294967295,O=x+(A<<10&4294967295|A>>>22),A=b+(x^(O|~S))+C[2]+718787259&4294967295,b=O+(A<<15&4294967295|A>>>17),A=S+(O^(b|~x))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(b+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var S=x-this.blockSize,C=this.B,b=this.h,O=0;O<x;){if(b==0)for(;O<=S;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<x;)if(C[b++]=I.charCodeAt(O++),b==this.blockSize){i(this,C),b=0;break}}else for(;O<x;)if(C[b++]=I[O++],b==this.blockSize){i(this,C),b=0;break}}this.h=b,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var S=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=S&255,S/=256;for(this.u(I),I=Array(16),x=S=0;4>x;++x)for(var C=0;32>C;C+=8)I[S++]=this.g[x]>>>C&255;return I};function s(I,x){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=x(I)}function o(I,x){this.h=x;for(var S=[],C=!0,b=I.length-1;0<=b;b--){var O=I[b]|0;C&&O==x||(S[b]=O,C=!1)}this.g=S}var a={};function u(I){return-128<=I&&128>I?s(I,function(x){return new o([x|0],0>x?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return D(c(-I));for(var x=[],S=1,C=0;I>=S;C++)x[C]=I/S|0,S*=4294967296;return new o(x,0)}function h(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return D(h(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(x,8)),C=d,b=0;b<I.length;b+=8){var O=Math.min(8,I.length-b),A=parseInt(I.substring(b,b+O),x);8>O?(O=c(Math.pow(x,O)),C=C.j(O).add(c(A))):(C=C.j(S),C=C.add(c(A)))}return C}var d=u(0),p=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-D(this).m();for(var I=0,x=1,S=0;S<this.g.length;S++){var C=this.i(S);I+=(0<=C?C:4294967296+C)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(k(this))return"-"+D(this).toString(I);for(var x=c(Math.pow(I,6)),S=this,C="";;){var b=L(S,x).g;S=v(S,b.j(x));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=b,E(S))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function k(I){return I.h==-1}t.l=function(I){return I=v(this,I),k(I)?-1:E(I)?0:1};function D(I){for(var x=I.g.length,S=[],C=0;C<x;C++)S[C]=~I.g[C];return new o(S,~I.h).add(p)}t.abs=function(){return k(this)?D(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],C=0,b=0;b<=x;b++){var O=C+(this.i(b)&65535)+(I.i(b)&65535),A=(O>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);C=A>>>16,O&=65535,A&=65535,S[b]=A<<16|O}return new o(S,S[S.length-1]&-2147483648?-1:0)};function v(I,x){return I.add(D(x))}t.j=function(I){if(E(this)||E(I))return d;if(k(this))return k(I)?D(this).j(D(I)):D(D(this).j(I));if(k(I))return D(this.j(D(I)));if(0>this.l(m)&&0>I.l(m))return c(this.m()*I.m());for(var x=this.g.length+I.g.length,S=[],C=0;C<2*x;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var b=0;b<I.g.length;b++){var O=this.i(C)>>>16,A=this.i(C)&65535,pe=I.i(b)>>>16,se=I.i(b)&65535;S[2*C+2*b]+=A*se,w(S,2*C+2*b),S[2*C+2*b+1]+=O*se,w(S,2*C+2*b+1),S[2*C+2*b+1]+=A*pe,w(S,2*C+2*b+1),S[2*C+2*b+2]+=O*pe,w(S,2*C+2*b+2)}for(C=0;C<x;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=x;C<2*x;C++)S[C]=0;return new o(S,0)};function w(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function T(I,x){this.g=I,this.h=x}function L(I,x){if(E(x))throw Error("division by zero");if(E(I))return new T(d,d);if(k(I))return x=L(D(I),x),new T(D(x.g),D(x.h));if(k(x))return x=L(I,D(x)),new T(D(x.g),x.h);if(30<I.g.length){if(k(I)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var S=p,C=x;0>=C.l(I);)S=U(S),C=U(C);var b=R(S,1),O=R(C,1);for(C=R(C,2),S=R(S,2);!E(C);){var A=O.add(C);0>=A.l(I)&&(b=b.add(S),O=A),C=R(C,1),S=R(S,1)}return x=v(I,b.j(x)),new T(b,x)}for(b=d;0<=I.l(x);){for(S=Math.max(1,Math.floor(I.m()/x.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=c(S),A=O.j(x);k(A)||0<A.l(I);)S-=C,O=c(S),A=O.j(x);E(O)&&(O=p),b=b.add(O),I=v(I,A)}return new T(b,I)}t.A=function(I){return L(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],C=0;C<x;C++)S[C]=this.i(C)&I.i(C);return new o(S,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],C=0;C<x;C++)S[C]=this.i(C)|I.i(C);return new o(S,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],C=0;C<x;C++)S[C]=this.i(C)^I.i(C);return new o(S,this.h^I.h)};function U(I){for(var x=I.g.length+1,S=[],C=0;C<x;C++)S[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(S,I.h)}function R(I,x){var S=x>>5;x%=32;for(var C=I.g.length-S,b=[],O=0;O<C;O++)b[O]=0<x?I.i(O+S)>>>x|I.i(O+S+1)<<32-x:I.i(O+S);return new o(b,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Yx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Ii=o}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xx,Fo,Jx,mu,Af,Zx,eE,tE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof $l=="object"&&$l];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var M=l[_];if(!(M in g))break e;g=g[M]}l=l[l.length-1],_=g[l],f=f(_),f!=_&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var g=0,_=!1,M={next:function(){if(!_&&g<l.length){var j=g++;return{value:f(j,l[j]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,g){return l.call.apply(l.bind,arguments)}function d(l,f,g){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function E(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(_,M,j){for(var K=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)K[Se-2]=arguments[Se];return f.prototype[M].apply(_,K)}}function k(l){const f=l.length;if(0<f){const g=Array(f);for(let _=0;_<f;_++)g[_]=l[_];return g}return[]}function D(l,f){for(let g=1;g<arguments.length;g++){const _=arguments[g];if(u(_)){const M=l.length||0,j=_.length||0;l.length=M+j;for(let K=0;K<j;K++)l[M+K]=_[K]}else l.push(_)}}class v{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function w(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function L(l){return L[" "](l),l}L[" "]=function(){};var U=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function R(l,f,g){for(const _ in l)f.call(g,l[_],_,l)}function I(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function x(l){const f={};for(const g in l)f[g]=l[g];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,f){let g,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(g in _)l[g]=_[g];for(let j=0;j<S.length;j++)g=S[j],Object.prototype.hasOwnProperty.call(_,g)&&(l[g]=_[g])}}function b(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function O(l){a.setTimeout(()=>{throw l},0)}function A(){var l=Y;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class pe{constructor(){this.h=this.g=null}add(f,g){const _=se.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}}var se=new v(()=>new Ve,l=>l.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,W=!1,Y=new pe,P=()=>{const l=a.Promise.resolve(void 0);Te=()=>{l.then(he)}};var he=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){O(g)}var f=se;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}W=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function nt(l,f){if(N.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(U){e:{try{L(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ie[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&nt.aa.h.call(this)}}E(nt,N);var Ie={2:"touch",3:"pen",4:"mouse"};nt.prototype.h=function(){nt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),En=0;function mr(l,f,g,_,M){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=M,this.key=++En,this.da=this.fa=!1}function hn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function jn(l){this.src=l,this.g={},this.h=0}jn.prototype.add=function(l,f,g,_,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var K=no(l,f,_,M);return-1<K?(f=l[K],g||(f.fa=!1)):(f=new mr(f,this.src,j,!!_,M),f.fa=g,l.push(f)),f};function to(l,f){var g=f.type;if(g in l.g){var _=l.g[g],M=Array.prototype.indexOf.call(_,f,void 0),j;(j=0<=M)&&Array.prototype.splice.call(_,M,1),j&&(hn(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function no(l,f,g,_){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==f&&j.capture==!!g&&j.ha==_)return M}return-1}var ro="closure_lm_"+(1e6*Math.random()|0),Bi={};function io(l,f,g,_,M){if(Array.isArray(f)){for(var j=0;j<f.length;j++)io(l,f[j],g,_,M);return null}return g=ll(g),l&&l[It]?l.K(f,g,c(_)?!!_.capture:!1,M):ol(l,f,g,!1,_,M)}function ol(l,f,g,_,M,j){if(!f)throw Error("Invalid event type");var K=c(M)?!!M.capture:!!M,Se=oo(l);if(Se||(l[ro]=Se=new jn(l)),g=Se.add(f,g,_,K,j),g.proxy)return g;if(_=oh(),g.proxy=_,_.src=l,_.listener=g,l.addEventListener)ze||(M=K),M===void 0&&(M=!1),l.addEventListener(f.toString(),_,M);else if(l.attachEvent)l.attachEvent(al(f.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function oh(){function l(g){return f.call(l.src,l.listener,g)}const f=ah;return l}function so(l,f,g,_,M){if(Array.isArray(f))for(var j=0;j<f.length;j++)so(l,f[j],g,_,M);else _=c(_)?!!_.capture:!!_,g=ll(g),l&&l[It]?(l=l.i,f=String(f).toString(),f in l.g&&(j=l.g[f],g=no(j,g,_,M),-1<g&&(hn(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[f],l.h--)))):l&&(l=oo(l))&&(f=l.g[f.toString()],l=-1,f&&(l=no(f,g,_,M)),(g=-1<l?f[l]:null)&&$i(g))}function $i(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[It])to(f.i,l);else{var g=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(g,_,l.capture):f.detachEvent?f.detachEvent(al(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=oo(f))?(to(g,l),g.h==0&&(g.src=null,f[ro]=null)):hn(l)}}}function al(l){return l in Bi?Bi[l]:Bi[l]="on"+l}function ah(l,f){if(l.da)l=!0;else{f=new nt(f,this);var g=l.listener,_=l.ha||l.src;l.fa&&$i(l),l=g.call(_,f)}return l}function oo(l){return l=l[ro],l instanceof jn?l:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function ll(l){return typeof l=="function"?l:(l[ao]||(l[ao]=function(f){return l.handleEvent(f)}),l[ao])}function F(){le.call(this),this.i=new jn(this),this.M=this,this.F=null}E(F,le),F.prototype[It]=!0,F.prototype.removeEventListener=function(l,f,g,_){so(this,l,f,g,_)};function B(l,f){var g,_=l.F;if(_)for(g=[];_;_=_.F)g.push(_);if(l=l.M,_=f.type||f,typeof f=="string")f=new N(f,l);else if(f instanceof N)f.target=f.target||l;else{var M=f;f=new N(_,l),C(f,M)}if(M=!0,g)for(var j=g.length-1;0<=j;j--){var K=f.g=g[j];M=Z(K,_,!0,f)&&M}if(K=f.g=l,M=Z(K,_,!0,f)&&M,M=Z(K,_,!1,f)&&M,g)for(j=0;j<g.length;j++)K=f.g=g[j],M=Z(K,_,!1,f)&&M}F.prototype.N=function(){if(F.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],_=0;_<g.length;_++)hn(g[_]);delete l.g[f],l.h--}}this.F=null},F.prototype.K=function(l,f,g,_){return this.i.add(String(l),f,!1,g,_)},F.prototype.L=function(l,f,g,_){return this.i.add(String(l),f,!0,g,_)};function Z(l,f,g,_){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,j=0;j<f.length;++j){var K=f[j];if(K&&!K.da&&K.capture==g){var Se=K.listener,rt=K.ha||K.src;K.fa&&to(l.i,K),M=Se.call(rt,_)!==!1&&M}}return M&&!_.defaultPrevented}function ae(l,f,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function _e(l){l.g=ae(()=>{l.g=null,l.i&&(l.i=!1,_e(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Ut extends le{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(l){le.call(this),this.h=l,this.g={}}E(zt,le);var tn=[];function gr(l){R(l.g,function(f,g){this.g.hasOwnProperty(g)&&$i(f)},l),l.g={}}zt.prototype.N=function(){zt.aa.N.call(this),gr(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=a.JSON.stringify,St=a.JSON.parse,yr=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Bt(){}Bt.prototype.h=null;function fg(l){return l.h||(l.h=l.i())}function pg(){}var lo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lh(){N.call(this,"d")}E(lh,N);function uh(){N.call(this,"c")}E(uh,N);var ui={},mg=null;function ul(){return mg=mg||new F}ui.La="serverreachability";function gg(l){N.call(this,ui.La,l)}E(gg,N);function uo(l){const f=ul();B(f,new gg(f))}ui.STAT_EVENT="statevent";function yg(l,f){N.call(this,ui.STAT_EVENT,l),this.stat=f}E(yg,N);function kt(l){const f=ul();B(f,new yg(f,l))}ui.Ma="timingevent";function vg(l,f){N.call(this,ui.Ma,l),this.size=f}E(vg,N);function co(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function ho(){this.g=!0}ho.prototype.xa=function(){this.g=!1};function lI(l,f,g,_,M,j){l.info(function(){if(l.g)if(j)for(var K="",Se=j.split("&"),rt=0;rt<Se.length;rt++){var ge=Se[rt].split("=");if(1<ge.length){var dt=ge[0];ge=ge[1];var ft=dt.split("_");K=2<=ft.length&&ft[1]=="type"?K+(dt+"="+ge+"&"):K+(dt+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+f+`
`+g+`
`+K})}function uI(l,f,g,_,M,j,K){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+f+`
`+g+`
`+j+" "+K})}function qi(l,f,g,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+hI(l,g)+(_?" "+_:"")})}function cI(l,f){l.info(function(){return"TIMEOUT: "+f})}ho.prototype.info=function(){};function hI(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var _=g[l];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<M.length;K++)M[K]=""}}}}return Fn(g)}catch{return f}}var cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_g={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ch;function hl(){}E(hl,Bt),hl.prototype.g=function(){return new XMLHttpRequest},hl.prototype.i=function(){return{}},ch=new hl;function vr(l,f,g,_){this.j=l,this.i=f,this.l=g,this.R=_||1,this.U=new zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wg}function wg(){this.i=null,this.g="",this.h=!1}var xg={},hh={};function dh(l,f,g){l.L=1,l.v=ml(Un(f)),l.m=g,l.P=!0,Eg(l,null)}function Eg(l,f){l.F=Date.now(),dl(l),l.A=Un(l.v);var g=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),Mg(g.i,"t",_),l.C=0,g=l.j.J,l.h=new wg,l.g=ey(l.j,g?f:null,!l.m),0<l.O&&(l.M=new Ut(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,_=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(tn[0]=M.toString()),M=tn);for(var j=0;j<M.length;j++){var K=io(g,M[j],_||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=l.H?x(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),uo(),lI(l.i,l.u,l.A,l.l,l.R,l.m)}vr.prototype.ca=function(l){l=l.target;const f=this.M;f&&zn(l)==3?f.j():this.Y(l)},vr.prototype.Y=function(l){try{if(l==this.g)e:{const ft=zn(this.g);var f=this.g.Ba();const Ki=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||$g(this.g)))){this.J||ft!=4||f==7||(f==8||0>=Ki?uo(3):uo(2)),fh(this);var g=this.g.Z();this.X=g;t:if(Tg(this)){var _=$g(this.g);l="";var M=_.length,j=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),fo(this);var K="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(j&&f==M-1)});_.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=g==200,uI(this.i,this.u,this.A,this.l,this.R,ft,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,rt=this.g;if((Se=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Se)){var ge=Se;break t}}ge=null}if(g=ge)qi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ph(this,g);else{this.o=!1,this.s=3,kt(12),ci(this),fo(this);break e}}if(this.P){g=!0;let dn;for(;!this.J&&this.C<K.length;)if(dn=dI(this,K),dn==hh){ft==4&&(this.s=4,kt(14),g=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==xg){this.s=4,kt(15),qi(this.i,this.l,K,"[Invalid Chunk]"),g=!1;break}else qi(this.i,this.l,dn,null),ph(this,dn);if(Tg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||K.length!=0||this.h.h||(this.s=1,kt(16),g=!1),this.o=this.o&&g,!g)qi(this.i,this.l,K,"[Invalid Chunked Response]"),ci(this),fo(this);else if(0<K.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),wh(dt),dt.M=!0,kt(11))}}else qi(this.i,this.l,K,null),ph(this,K);ft==4&&ci(this),this.o&&!this.J&&(ft==4?Yg(this.j,this):(this.o=!1,dl(this)))}else PI(this.g),g==400&&0<K.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),ci(this),fo(this)}}}catch{}finally{}};function Tg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function dI(l,f){var g=l.C,_=f.indexOf(`
`,g);return _==-1?hh:(g=Number(f.substring(g,_)),isNaN(g)?xg:(_+=1,_+g>f.length?hh:(f=f.slice(_,_+g),l.C=_+g,f)))}vr.prototype.cancel=function(){this.J=!0,ci(this)};function dl(l){l.S=Date.now()+l.I,Ig(l,l.I)}function Ig(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=co(p(l.ba,l),f)}function fh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}vr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(cI(this.i,this.A),this.L!=2&&(uo(),kt(17)),ci(this),this.s=2,fo(this)):Ig(this,this.S-l)};function fo(l){l.j.G==0||l.J||Yg(l.j,l)}function ci(l){fh(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,gr(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function ph(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||mh(g.h,l))){if(!l.K&&mh(g.h,l)&&g.G==3){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)xl(g),_l(g);else break e;_h(g),kt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=co(p(g.Za,g),6e3));if(1>=Cg(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else di(g,11)}else if((l.K||g.g==l)&&xl(g),!w(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let ge=M[f];if(g.T=ge[0],ge=ge[1],g.G==2)if(ge[0]=="c"){g.K=ge[1],g.ia=ge[2];const dt=ge[3];dt!=null&&(g.la=dt,g.j.info("VER="+g.la));const ft=ge[4];ft!=null&&(g.Aa=ft,g.j.info("SVER="+g.Aa));const Ki=ge[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(_=1.5*Ki,g.L=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const dn=l.g;if(dn){const Tl=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tl){var j=_.h;j.g||Tl.indexOf("spdy")==-1&&Tl.indexOf("quic")==-1&&Tl.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(gh(j,j.h),j.h=null))}if(_.D){const xh=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;xh&&(_.ya=xh,Pe(_.I,_.D,xh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),_=g;var K=l;if(_.qa=Zg(_,_.J?_.ia:null,_.W),K.K){Ag(_.h,K);var Se=K,rt=_.L;rt&&(Se.I=rt),Se.B&&(fh(Se),dl(Se)),_.g=K}else Gg(_);0<g.i.length&&wl(g)}else ge[0]!="stop"&&ge[0]!="close"||di(g,7);else g.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?di(g,7):vh(g):ge[0]!="noop"&&g.l&&g.l.ta(ge),g.v=0)}}uo(4)}catch{}}var fI=class{constructor(l,f){this.g=l,this.map=f}};function Sg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Cg(l){return l.h?1:l.g?l.g.size:0}function mh(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function gh(l,f){l.g?l.g.add(f):l.h=f}function Ag(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Sg.prototype.cancel=function(){if(this.i=Pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Pg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return k(l.i)}function pI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,_=0;_<g;_++)f.push(l[_]);return f}f=[],g=0;for(_ in l)f[g++]=l[_];return f}function mI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const _ in l)f[g++]=_;return f}}}function bg(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=mI(l),_=pI(l),M=_.length,j=0;j<M;j++)f.call(void 0,_[j],g&&g[j],l)}var Rg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gI(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var _=l[g].indexOf("="),M=null;if(0<=_){var j=l[g].substring(0,_);M=l[g].substring(_+1)}else j=l[g];f(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function hi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof hi){this.h=l.h,fl(this,l.j),this.o=l.o,this.g=l.g,pl(this,l.s),this.l=l.l;var f=l.i,g=new go;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Ng(this,g),this.m=l.m}else l&&(f=String(l).match(Rg))?(this.h=!1,fl(this,f[1]||"",!0),this.o=po(f[2]||""),this.g=po(f[3]||"",!0),pl(this,f[4]),this.l=po(f[5]||"",!0),Ng(this,f[6]||"",!0),this.m=po(f[7]||"")):(this.h=!1,this.i=new go(null,this.h))}hi.prototype.toString=function(){var l=[],f=this.j;f&&l.push(mo(f,Og,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(mo(f,Og,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(mo(g,g.charAt(0)=="/"?_I:vI,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",mo(g,xI)),l.join("")};function Un(l){return new hi(l)}function fl(l,f,g){l.j=g?po(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function pl(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ng(l,f,g){f instanceof go?(l.i=f,EI(l.i,l.h)):(g||(f=mo(f,wI)),l.i=new go(f,l.h))}function Pe(l,f,g){l.i.set(f,g)}function ml(l){return Pe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function po(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function mo(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,yI),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function yI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Og=/[#\/\?@]/g,vI=/[#\?:]/g,_I=/[#\?]/g,wI=/[#\?@]/g,xI=/#/g;function go(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function _r(l){l.g||(l.g=new Map,l.h=0,l.i&&gI(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=go.prototype,t.add=function(l,f){_r(this),this.i=null,l=Hi(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Dg(l,f){_r(l),f=Hi(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Lg(l,f){return _r(l),f=Hi(l,f),l.g.has(f)}t.forEach=function(l,f){_r(this),this.g.forEach(function(g,_){g.forEach(function(M){l.call(f,M,_,this)},this)},this)},t.na=function(){_r(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){const M=l[_];for(let j=0;j<M.length;j++)g.push(f[_])}return g},t.V=function(l){_r(this);let f=[];if(typeof l=="string")Lg(this,l)&&(f=f.concat(this.g.get(Hi(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return _r(this),this.i=null,l=Hi(this,l),Lg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Mg(l,f,g){Dg(l,f),0<g.length&&(l.i=null,l.g.set(Hi(l,f),k(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];const j=encodeURIComponent(String(_)),K=this.V(_);for(_=0;_<K.length;_++){var M=j;K[_]!==""&&(M+="="+encodeURIComponent(String(K[_]))),l.push(M)}}return this.i=l.join("&")};function Hi(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function EI(l,f){f&&!l.j&&(_r(l),l.i=null,l.g.forEach(function(g,_){var M=_.toLowerCase();_!=M&&(Dg(this,_),Mg(this,M,g))},l)),l.j=f}function TI(l,f){const g=new ho;if(a.Image){const _=new Image;_.onload=m(wr,g,"TestLoadImage: loaded",!0,f,_),_.onerror=m(wr,g,"TestLoadImage: error",!1,f,_),_.onabort=m(wr,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=m(wr,g,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}function II(l,f){const g=new ho,_=new AbortController,M=setTimeout(()=>{_.abort(),wr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:_.signal}).then(j=>{clearTimeout(M),j.ok?wr(g,"TestPingServer: ok",!0,f):wr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),wr(g,"TestPingServer: error",!1,f)})}function wr(l,f,g,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(g)}catch{}}function SI(){this.g=new yr}function kI(l,f,g){const _=g||"";try{bg(l,function(M,j){let K=M;c(M)&&(K=Fn(M)),f.push(_+j+"="+encodeURIComponent(K))})}catch(M){throw f.push(_+"type="+encodeURIComponent("_badmap")),M}}function gl(l){this.l=l.Ub||null,this.j=l.eb||!1}E(gl,Bt),gl.prototype.g=function(){return new yl(this.l,this.j)},gl.prototype.i=function(l){return function(){return l}}({});function yl(l,f){F.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(yl,F),t=yl.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,vo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?yo(this):vo(this),this.readyState==3&&Vg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,yo(this))},t.Qa=function(l){this.g&&(this.response=l,yo(this))},t.ga=function(){this.g&&yo(this)};function yo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,vo(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function vo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function jg(l){let f="";return R(l,function(g,_){f+=_,f+=":",f+=g,f+=`\r
`}),f}function yh(l,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=jg(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Pe(l,f,g))}function je(l){F.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(je,F);var CI=/^https?$/i,AI=["POST","PUT"];t=je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ch.g(),this.v=this.o?fg(this.o):fg(ch),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(j){Fg(this,j);return}if(l=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)g.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const j of _.keys())g.set(j,_.get(j));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AI,f,void 0))||_||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of g)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bg(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){Fg(this,j)}};function Fg(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Ug(l),vl(l)}function Ug(l){l.A||(l.A=!0,B(l,"complete"),B(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,B(this,"complete"),B(this,"abort"),vl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vl(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zg(this):this.bb())},t.bb=function(){zg(this)};function zg(l){if(l.h&&typeof o<"u"&&(!l.v[1]||zn(l)!=4||l.Z()!=2)){if(l.u&&zn(l)==4)ae(l.Ea,0,l);else if(B(l,"readystatechange"),zn(l)==4){l.h=!1;try{const K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=K===0){var M=String(l.D).match(Rg)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),_=!CI.test(M?M.toLowerCase():"")}g=_}if(g)B(l,"complete"),B(l,"success");else{l.m=6;try{var j=2<zn(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Ug(l)}}finally{vl(l)}}}}function vl(l,f){if(l.g){Bg(l);const g=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||B(l,"ready");try{g.onreadystatechange=_}catch{}}}function Bg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function zn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),St(f)}};function $g(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function PI(l){const f={};l=(l.g&&2<=zn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(w(l[_]))continue;var g=b(l[_]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=f[M]||[];f[M]=j,j.push(g)}I(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function qg(l){this.Aa=0,this.i=[],this.j=new ho,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_o("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_o("baseRetryDelayMs",5e3,l),this.cb=_o("retryDelaySeedMs",1e4,l),this.Wa=_o("forwardChannelMaxRetries",2,l),this.wa=_o("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Sg(l&&l.concurrentRequestLimit),this.Da=new SI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qg.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,_){kt(0),this.W=l,this.H=f||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=Zg(this,null,this.W),wl(this)};function vh(l){if(Hg(l),l.G==3){var f=l.U++,g=Un(l.I);if(Pe(g,"SID",l.K),Pe(g,"RID",f),Pe(g,"TYPE","terminate"),wo(l,g),f=new vr(l,l.j,f),f.L=2,f.v=ml(Un(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=ey(f.j,null),f.g.ea(f.v)),f.F=Date.now(),dl(f)}Jg(l)}function _l(l){l.g&&(wh(l),l.g.cancel(),l.g=null)}function Hg(l){_l(l),l.u&&(a.clearTimeout(l.u),l.u=null),xl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function wl(l){if(!kg(l.h)&&!l.s){l.s=!0;var f=l.Ga;Te||P(),W||(Te(),W=!0),Y.add(f,l),l.B=0}}function bI(l,f){return Cg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=co(p(l.Ga,l,f),Xg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new vr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=x(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Kg(this,M,f),g=Un(this.I),Pe(g,"RID",l),Pe(g,"CVER",22),this.D&&Pe(g,"X-HTTP-Session-Id",this.D),wo(this,g),j&&(this.O?f="headers="+encodeURIComponent(String(jg(j)))+"&"+f:this.m&&yh(g,this.m,j)),gh(this.h,M),this.Ua&&Pe(g,"TYPE","init"),this.P?(Pe(g,"$req",f),Pe(g,"SID","null"),M.T=!0,dh(M,g,null)):dh(M,g,f),this.G=2}}else this.G==3&&(l?Wg(this,l):this.i.length==0||kg(this.h)||Wg(this))};function Wg(l,f){var g;f?g=f.l:g=l.U++;const _=Un(l.I);Pe(_,"SID",l.K),Pe(_,"RID",g),Pe(_,"AID",l.T),wo(l,_),l.m&&l.o&&yh(_,l.m,l.o),g=new vr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Kg(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),gh(l.h,g),dh(g,_,f)}function wo(l,f){l.H&&R(l.H,function(g,_){Pe(f,_,g)}),l.l&&bg({},function(g,_){Pe(f,_,g)})}function Kg(l,f,g){g=Math.min(l.i.length,g);var _=l.l?p(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const K=["count="+g];j==-1?0<g?(j=M[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Se=!0;for(let rt=0;rt<g;rt++){let ge=M[rt].g;const dt=M[rt].map;if(ge-=j,0>ge)j=Math.max(0,M[rt].g-100),Se=!1;else try{kI(dt,K,"req"+ge+"_")}catch{_&&_(dt)}}if(Se){_=K.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,_}function Gg(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Te||P(),W||(Te(),W=!0),Y.add(f,l),l.v=0}}function _h(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=co(p(l.Fa,l),Xg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Qg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=co(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),_l(this),Qg(this))};function wh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Qg(l){l.g=new vr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Un(l.qa);Pe(f,"RID","rpc"),Pe(f,"SID",l.K),Pe(f,"AID",l.T),Pe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Pe(f,"TO",l.ja),Pe(f,"TYPE","xmlhttp"),wo(l,f),l.m&&l.o&&yh(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=ml(Un(f)),g.m=null,g.P=!0,Eg(g,l)}t.Za=function(){this.C!=null&&(this.C=null,_l(this),_h(this),kt(19))};function xl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Yg(l,f){var g=null;if(l.g==f){xl(l),wh(l),l.g=null;var _=2}else if(mh(l.h,f))g=f.D,Ag(l.h,f),_=1;else return;if(l.G!=0){if(f.o)if(_==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;_=ul(),B(_,new vg(_,g)),wl(l)}else Gg(l);else if(M=f.s,M==3||M==0&&0<f.X||!(_==1&&bI(l,f)||_==2&&_h(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),M){case 1:di(l,5);break;case 4:di(l,10);break;case 3:di(l,6);break;default:di(l,2)}}}function Xg(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function di(l,f){if(l.j.info("Error code "+f),f==2){var g=p(l.fb,l),_=l.Xa;const M=!_;_=new hi(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||fl(_,"https"),ml(_),M?TI(_.toString(),g):II(_.toString(),g)}else kt(2);l.G=0,l.l&&l.l.sa(f),Jg(l),Hg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Jg(l){if(l.G=0,l.ka=[],l.l){const f=Pg(l.h);(f.length!=0||l.i.length!=0)&&(D(l.ka,f),D(l.ka,l.i),l.h.i.length=0,k(l.i),l.i.length=0),l.l.ra()}}function Zg(l,f,g){var _=g instanceof hi?Un(g):new hi(g);if(_.g!="")f&&(_.g=f+"."+_.g),pl(_,_.s);else{var M=a.location;_=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var j=new hi(null);_&&fl(j,_),f&&(j.g=f),M&&pl(j,M),g&&(j.l=g),_=j}return g=l.D,f=l.ya,g&&f&&Pe(_,g,f),Pe(_,"VER",l.la),wo(l,_),_}function ey(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new je(new gl({eb:g})):new je(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ty(){}t=ty.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function El(){}El.prototype.g=function(l,f){return new $t(l,f)};function $t(l,f){F.call(this),this.g=new qg(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!w(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!w(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Wi(this)}E($t,F),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){vh(this.g)},$t.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Fn(l),l=g);f.i.push(new fI(f.Ya++,l)),f.G==3&&wl(f)},$t.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,$t.aa.N.call(this)};function ny(l){lh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}E(ny,lh);function ry(){uh.call(this),this.status=1}E(ry,uh);function Wi(l){this.g=l}E(Wi,ty),Wi.prototype.ua=function(){B(this.g,"a")},Wi.prototype.ta=function(l){B(this.g,new ny(l))},Wi.prototype.sa=function(l){B(this.g,new ry)},Wi.prototype.ra=function(){B(this.g,"b")},El.prototype.createWebChannel=El.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,tE=function(){return new El},eE=function(){return ul()},Zx=ui,Af={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cl.NO_ERROR=0,cl.TIMEOUT=8,cl.HTTP_ERROR=6,mu=cl,_g.COMPLETE="complete",Jx=_g,pg.EventType=lo,lo.OPEN="a",lo.CLOSE="b",lo.ERROR="c",lo.MESSAGE="d",F.prototype.listen=F.prototype.K,Fo=pg,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Xx=je}).apply(typeof $l<"u"?$l:typeof self<"u"?self:typeof window<"u"?window:{});const Zv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new im("@firebase/firestore");function Po(){return Oi.logLevel}function Q(t,...e){if(Oi.logLevel<=de.DEBUG){const n=e.map(vm);Oi.debug(`Firestore (${Ys}): ${t}`,...n)}}function ar(t,...e){if(Oi.logLevel<=de.ERROR){const n=e.map(vm);Oi.error(`Firestore (${Ys}): ${t}`,...n)}}function Ds(t,...e){if(Oi.logLevel<=de.WARN){const n=e.map(vm);Oi.warn(`Firestore (${Ys}): ${t}`,...n)}}function vm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+t;throw ar(e),new Error(e)}function xe(t,e){t||ne()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class KR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GR{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new nE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new yt(e)}}class QR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new QR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new XR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function Ls(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new Je(0,0))}static max(){return new re(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends ka{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const eN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends ka{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return eN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ue.fromString(e))}static fromName(e){return new J(Ue.fromString(e).popFirst(5))}static empty(){return new J(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ue(e.slice()))}}function tN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Xr(i,J.empty(),e)}function nN(t){return new Xr(t.readTime,t.key,-1)}class Xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xr(re.min(),J.empty(),-1)}static max(){return new Xr(re.max(),J.empty(),-1)}}function rN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==iN)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function oN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_m.oe=-1;function jc(t){return t==null}function ic(t){return t===0&&1/t==-1/0}function aN(t){return typeof t=="number"&&Number.isInteger(t)&&!ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ql(this.root,e,this.comparator,!0)}}class ql{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??st.RED,this.left=i??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new st(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return st.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,s){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new lt(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sE("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const lN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(xe(!!t),typeof t=="string"){let e=0;const n=lN.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xm(t){const e=t.mapValue.fields.__previous_value__;return wm(e)?xm(e):e}function Ca(t){const e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Aa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl={mapValue:{}};function Li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wm(t)?4:hN(t)?9007199254740991:cN(t)?10:11:ne()}function Ln(t,e){if(t===e)return!0;const n=Li(t);if(n!==Li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ca(t).isEqual(Ca(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Jr(i.timestampValue),a=Jr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Di(i.bytesValue).isEqual(Di(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Be(i.doubleValue),a=Be(s.doubleValue);return o===a?ic(o)===ic(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ls(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(e_(o)!==e_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Ln(o[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function Pa(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Ms(t,e){if(t===e)return 0;const n=Li(t),r=Li(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Be(s.integerValue||s.doubleValue),u=Be(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return n_(t.timestampValue,e.timestampValue);case 4:return n_(Ca(t),Ca(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Di(s),u=Di(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=ye(a[c],u[c]);if(h!==0)return h}return ye(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ye(Be(s.latitude),Be(o.latitude));return a!==0?a:ye(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,h;const d=s.fields||{},p=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,E=(u=p.value)===null||u===void 0?void 0:u.arrayValue,k=ye(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:r_(m,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hl.mapValue&&o===Hl.mapValue)return 0;if(s===Hl.mapValue)return 1;if(o===Hl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let d=0;d<u.length&&d<h.length;++d){const p=ye(u[d],h[d]);if(p!==0)return p;const m=Ms(a[u[d]],c[h[d]]);if(m!==0)return m}return ye(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function n_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Jr(t),r=Jr(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function r_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ms(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function Vs(t){return Pf(t)}function Pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Pf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Pf(n.fields[o])}`;return i+"}"}(t.mapValue):ne()}function bf(t){return!!t&&"integerValue"in t}function Em(t){return!!t&&"arrayValue"in t}function i_(t){return!!t&&"nullValue"in t}function s_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gu(t){return!!t&&"mapValue"in t}function cN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Jo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ot(Jo(this.value))}}function oE(t){const e=[];return Fi(t.fields,(n,r)=>{const i=new ot([n]);if(gu(r)){const s=oE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,re.min(),re.min(),re.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new wt(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new wt(e,2,n,re.min(),re.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,re.min(),re.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.position=e,this.inclusive=n}}function o_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Ms(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n="asc"){this.field=e,this.dir=n}}function dN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class Ye extends aE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pN(e,n,r):n==="array-contains"?new yN(e,r):n==="in"?new vN(e,r):n==="not-in"?new _N(e,r):n==="array-contains-any"?new wN(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mN(e,r):new gN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ms(n,this.value)):n!==null&&Li(this.value)===Li(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends aE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mn(e,n)}matches(e){return lE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lE(t){return t.op==="and"}function uE(t){return fN(t)&&lE(t)}function fN(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function Rf(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(uE(t))return t.filters.map(e=>Rf(e)).join(",");{const e=t.filters.map(n=>Rf(n)).join(",");return`${t.op}(${e})`}}function cE(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(t,e):t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cE(o,i.filters[a]),!0):!1}(t,e):void ne()}function hE(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(hE).join(" ,")+"}"}(t):"Filter"}class pN extends Ye{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class mN extends Ye{constructor(e,n){super(e,"in",n),this.keys=dE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gN extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=dE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class yN extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Em(n)&&Pa(n.arrayValue,this.value)}}class vN extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pa(this.value.arrayValue,n)}}class _N extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pa(this.value.arrayValue,n)}}class wN extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Em(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function l_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xN(t,e,n,r,i,s,o)}function Tm(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vs(r)).join(",")),e.ue=n}return e.ue}function Im(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a_(t.startAt,e.startAt)&&a_(t.endAt,e.endAt)}function Nf(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function EN(t,e,n,r,i,s,o,a){return new Fc(t,e,n,r,i,s,o,a)}function Sm(t){return new Fc(t)}function u_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TN(t){return t.collectionGroup!==null}function Zo(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lt(ot.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new oc(s,r))}),n.has(ot.keyField().canonicalString())||e.ce.push(new oc(ot.keyField(),r))}return e.ce}function Nn(t){const e=ie(t);return e.le||(e.le=IN(e,Zo(t))),e.le}function IN(t,e){if(t.limitType==="F")return l_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new oc(i.field,s)});const n=t.endAt?new sc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sc(t.startAt.position,t.startAt.inclusive):null;return l_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Of(t,e,n){return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uc(t,e){return Im(Nn(t),Nn(e))&&t.limitType===e.limitType}function fE(t){return`${Tm(Nn(t))}|lt:${t.limitType}`}function Xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hE(i)).join(", ")}]`),jc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function zc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Zo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=o_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Zo(r),i)||r.endAt&&!function(o,a,u){const c=o_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Zo(r),i))}(t,e)}function SN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pE(t){return(e,n)=>{let r=!1;for(const i of Zo(t)){const s=kN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kN(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Ms(u,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new Me(J.comparator);function lr(){return CN}const mE=new Me(J.comparator);function Uo(...t){let e=mE;for(const n of t)e=e.insert(n.key,n);return e}function gE(t){let e=mE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return ea()}function yE(){return ea()}function ea(){return new Xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const AN=new Me(J.comparator),PN=new lt(J.comparator);function ce(...t){let e=PN;for(const n of t)e=e.add(n);return e}const bN=new lt(ye);function RN(){return bN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function vE(t){return{integerValue:""+t}}function NN(t,e){return aN(e)?vE(e):km(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this._=void 0}}function ON(t,e,n){return t instanceof ba?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wm(s)&&(s=xm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ra?wE(t,e):t instanceof Na?xE(t,e):function(i,s){const o=_E(i,s),a=c_(o)+c_(i.Pe);return bf(o)&&bf(i.Pe)?vE(a):km(i.serializer,a)}(t,e)}function DN(t,e,n){return t instanceof Ra?wE(t,e):t instanceof Na?xE(t,e):n}function _E(t,e){return t instanceof ac?function(r){return bf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ba extends Bc{}class Ra extends Bc{constructor(e){super(),this.elements=e}}function wE(t,e){const n=EE(e);for(const r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}class Na extends Bc{constructor(e){super(),this.elements=e}}function xE(t,e){let n=EE(e);for(const r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}class ac extends Bc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function c_(t){return Be(t.integerValue||t.doubleValue)}function EE(t){return Em(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.field=e,this.transform=n}}function MN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ra&&i instanceof Ra||r instanceof Na&&i instanceof Na?Ls(r.elements,i.elements,Ln):r instanceof ac&&i instanceof ac?Ln(r.Pe,i.Pe):r instanceof ba&&i instanceof ba}(t.transform,e.transform)}class VN{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $c{}function TE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SE(t.key,On.none()):new Ya(t.key,t.data,On.none());{const n=t.data,r=Ot.empty();let i=new lt(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ai(t.key,r,new Gt(i.toArray()),On.none())}}function jN(t,e,n){t instanceof Ya?function(i,s,o){const a=i.value.clone(),u=d_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(i,s,o){if(!yu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=d_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(IE(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ta(t,e,n,r){return t instanceof Ya?function(s,o,a,u){if(!yu(s.precondition,o))return a;const c=s.value.clone(),h=f_(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(s,o,a,u){if(!yu(s.precondition,o))return a;const c=f_(s.fieldTransforms,u,o),h=o.data;return h.setAll(IE(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return yu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function FN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_E(r.transform,i||null);s!=null&&(n===null&&(n=Ot.empty()),n.set(r.field,s))}return n||null}function h_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ls(r,i,(s,o)=>MN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ya extends $c{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends $c{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d_(t,e,n){const r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DN(o,a,n[i]))}return r}function f_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ON(s,o,e))}return r}class SE extends $c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UN extends $c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ta(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ta(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=TE(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(n,r)=>h_(n,r))&&Ls(this.baseMutations,e.baseMutations,(n,r)=>h_(n,r))}}class Cm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return AN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Cm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,fe;function qN(t){switch(t){default:return ne();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function kE(t){if(t===void 0)return ar("GRPC error has no .code"),$.UNKNOWN;switch(t){case He.OK:return $.OK;case He.CANCELLED:return $.CANCELLED;case He.UNKNOWN:return $.UNKNOWN;case He.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case He.INTERNAL:return $.INTERNAL;case He.UNAVAILABLE:return $.UNAVAILABLE;case He.UNAUTHENTICATED:return $.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case He.NOT_FOUND:return $.NOT_FOUND;case He.ALREADY_EXISTS:return $.ALREADY_EXISTS;case He.PERMISSION_DENIED:return $.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case He.ABORTED:return $.ABORTED;case He.OUT_OF_RANGE:return $.OUT_OF_RANGE;case He.UNIMPLEMENTED:return $.UNIMPLEMENTED;case He.DATA_LOSS:return $.DATA_LOSS;default:return ne()}}(fe=He||(He={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Ii([4294967295,4294967295],0);function p_(t){const e=HN().encode(t),n=new Yx;return n.update(e),new Uint8Array(n.digest())}function m_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ii([n,r],0),new Ii([i,s],0)]}class Am{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zo(`Invalid padding: ${n}`);if(r<0)throw new zo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ii.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ii.fromNumber(r)));return i.compare(WN)===1&&(i=new Ii([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=p_(e),[r,i]=m_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Am(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=p_(e),[r,i]=m_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qc(re.min(),i,new Me(ye),lr(),ce())}}class Xa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xa(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class CE{constructor(e,n){this.targetId=e,this.me=n}}class AE{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g_{constructor(){this.fe=0,this.ge=v_(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),n=ce(),r=ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Xa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=v_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class KN{constructor(e){this.Le=e,this.Be=new Map,this.ke=lr(),this.qe=y_(),this.Qe=new Me(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Nf(s))if(r===0){const o=new J(s.path);this.Ue(n,o,wt.newNoDocument(o,re.min()))}else xe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Di(r).toUint8Array()}catch(u){if(u instanceof sE)return Ds("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Am(o,i,s)}catch(u){return Ds(u instanceof zo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Nf(a.target)){const u=new J(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,wt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ce();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new qc(e,n,this.Qe,this.ke,r);return this.ke=lr(),this.qe=y_(),this.Qe=new Me(ye),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new g_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new lt(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new g_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function y_(){return new Me(J.comparator)}function v_(){return new Me(J.comparator)}const GN={asc:"ASCENDING",desc:"DESCENDING"},QN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"};class XN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Df(t,e){return t.useProto3Json||jc(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JN(t,e){return lc(t,e.toTimestamp())}function Dn(t){return xe(!!t),re.fromTimestamp(function(n){const r=Jr(n);return new Je(r.seconds,r.nanos)}(t))}function Pm(t,e){return Lf(t,e).canonicalString()}function Lf(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bE(t){const e=Ue.fromString(t);return xe(LE(e)),e}function Mf(t,e){return Pm(t.databaseId,e.path)}function nd(t,e){const n=bE(e);if(n.get(1)!==t.databaseId.projectId)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(NE(n))}function RE(t,e){return Pm(t.databaseId,e)}function ZN(t){const e=bE(t);return e.length===4?Ue.emptyPath():NE(e)}function Vf(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NE(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function __(t,e,n){return{name:Mf(t,e),fields:n.value.mapValue.fields}}function eO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(xe(h===void 0||typeof h=="string"),ht.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:kE(c.code);return new X(h,c.message||"")}(o);n=new AE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nd(t,r.document.name),s=Dn(r.document.updateTime),o=r.document.createTime?Dn(r.document.createTime):re.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=wt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new vu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nd(t,r.document),s=r.readTime?Dn(r.readTime):re.min(),o=wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new vu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nd(t,r.document),s=r.removedTargetIds||[];n=new vu([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new $N(i,s),a=r.targetId;n=new CE(a,o)}}return n}function tO(t,e){let n;if(e instanceof Ya)n={update:__(t,e.key,e.value)};else if(e instanceof SE)n={delete:Mf(t,e.key)};else if(e instanceof ai)n={update:__(t,e.key,e.data),updateMask:cO(e.fieldMask)};else{if(!(e instanceof UN))return ne();n={verify:Mf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ba)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ra)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Na)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:JN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function nO(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Dn(i.updateTime):Dn(s);return o.isEqual(re.min())&&(o=Dn(s)),new VN(o,i.transformResults||[])}(n,e))):[]}function rO(t,e){return{documents:[RE(t,e.path)]}}function iO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RE(t,i);const s=function(c){if(c.length!==0)return DE(Mn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Ji(p.field),direction:aO(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Df(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function sO(t){let e=ZN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const p=OE(d);return p instanceof Mn&&uE(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(E){return new oc(Zi(E.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,jc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(d){const p=!!d.before,m=d.values||[];return new sc(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,m=d.values||[];return new sc(m,p)}(n.endAt)),EN(e,i,o,s,a,"F",u,c)}function oO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zi(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zi(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zi(n.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zi(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(Zi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>OE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function aO(t){return GN[t]}function lO(t){return QN[t]}function uO(t){return YN[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function Zi(t){return ot.fromServerFormat(t.fieldPath)}function DE(t){return t instanceof Ye?function(n){if(n.op==="=="){if(s_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if(i_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if(i_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:lO(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const r=n.getFilters().map(i=>DE(i));return r.length===1?r[0]:{compositeFilter:{op:uO(n.op),filters:r}}}(t):ne()}function cO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,i,s=re.min(),o=re.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.ct=e}}function dO(t){const e=sO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Of(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.un=new pO}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Xr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class pO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new js(0)}static kn(){return new js(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ta(r.mutation,i,Gt.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Uo();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=lr();const o=ea(),a=function(){return ea()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ai)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ta(h.mutation,c,h.mutation.getFieldMask(),Je.now())):o.set(c.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new gO(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ea();let i=new Me((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Gt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const d=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,d=yE();h.forEach(p=>{if(!s.has(p)){const m=TE(n.get(p),r.get(p));m!==null&&d.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(xi());let a=-1,u=s;return o.next(c=>z.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ce())).next(h=>({batchId:a,changes:gE(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Uo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Uo();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,u=>{const c=function(d,p){return new Fc(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,wt.newInvalidDocument(h)))});let a=Uo();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&ta(h.mutation,c,Gt.empty(),Je.now()),zc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Dn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:dO(i.bundledQuery),readTime:Dn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.overlays=new Me(J.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xi();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=xi(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=xi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=xi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BN(n,r));let s=this.Ir.get(n);s===void 0&&(s=ce(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Tr=new lt(Ze.Er),this.dr=new lt(Ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new J(new Ue([])),r=new Ze(n,e),i=new Ze(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new J(new Ue([])),r=new Ze(n,e),i=new Ze(n,e+1);let s=ce();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new lt(Ze.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(ye);return n.forEach(i=>{const s=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new Ze(new J(s),0);let a=new lt(ye);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const s=new Ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ze(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.Mr=e,this.docs=function(){return new Me(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=lr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=lr();const o=n.path,a=new J(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||rN(nN(h),r)<=0||(i.has(h.key)||zc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TO(this)}getSize(e){return z.resolve(this.size)}}class TO extends mO{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.persistence=e,this.Nr=new Xs(n=>Tm(n),Im),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bm,this.targetCount=0,this.kr=js.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new js(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new _m(0),this.Kr=!1,this.Kr=!0,this.$r=new wO,this.referenceDelegate=e(this),this.Ur=new IO(this),this.indexManager=new fO,this.remoteDocumentCache=function(i){return new EO(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hO(n),this.Gr=new vO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _O,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new xO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new kO(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kO extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class Rm{constructor(e){this.persistence=e,this.Jr=new bm,this.Yr=null}static Zr(e){return new Rm(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=J.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Nm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hP()?8:oN(Et())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new CO;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Po()<=de.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Po()<=de.DEBUG&&Q("QueryEngine","Query:",Xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Po()<=de.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):z.resolve())}Yi(e,n){if(u_(n))return z.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Of(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Of(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return u_(n)||i.isEqual(re.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?z.resolve(null):(Po()<=de.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xi(n)),this.rs(e,o,n,tN(i,-1)).next(a=>a))})}ts(e,n){let r=new lt(pE(e));return n.forEach((i,s)=>{zc(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Po()<=de.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Me(ye),this._s=new Xs(s=>Tm(s),Im),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function bO(t,e,n,r){return new PO(t,e,n,r)}async function ME(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ce();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function RO(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const d=c.batch,p=d.keys();let m=z.resolve();return p.forEach(E=>{m=m.next(()=>h.getEntry(u,E)).next(k=>{const D=c.docVersions.get(E);xe(D!==null),k.version.compareTo(D)<0&&(d.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),h.addEntry(k)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function VE(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function NO(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(ht.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(k,D,v){return k.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,m,h)&&a.push(n.Ur.updateTargetData(s,m))});let u=lr(),c=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(OO(s,o,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(re.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function OO(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=lr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function DO(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LO(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Lr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function jf(t,e,n){const r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qa(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function w_(t,e,n){const r=ie(t);let i=re.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const d=ie(u),p=d._s.get(h);return p!==void 0?z.resolve(d.os.get(p)):d.Ur.getTargetData(c,h)}(r,o,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:ce())).next(a=>(MO(r,SN(e),a),{documents:a,Ts:s})))}function MO(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class x_{constructor(){this.activeTargetIds=RN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VO{constructor(){this.so=new x_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new x_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl=null;function rd(){return Wl===null?Wl=function(){return 268435456+Math.round(2147483648*Math.random())}():Wl++,"0x"+Wl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class zO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=rd(),u=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(h=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ds("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ys}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=FO[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=rd();return new Promise((o,a)=>{const u=new Xx;u.setWithCredentials(!0),u.listenOnce(Jx.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mu.NO_ERROR:const h=u.getResponseJson();Q(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case mu.TIMEOUT:Q(gt,`RPC '${e}' ${s} timed out`),a(new X($.DEADLINE_EXCEEDED,"Request time out"));break;case mu.HTTP_ERROR:const d=u.getStatus();if(Q(gt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const E=function(D){const v=D.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(m.status);a(new X(E,m.message))}else a(new X($.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new X($.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{Q(gt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Q(gt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=rd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tE(),a=eE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");Q(gt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const d=o.createWebChannel(h,u);let p=!1,m=!1;const E=new UO({Io:D=>{m?Q(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(p||(Q(gt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),Q(gt,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},To:()=>d.close()}),k=(D,v,w)=>{D.listen(v,T=>{try{w(T)}catch(L){setTimeout(()=>{throw L},0)}})};return k(d,Fo.EventType.OPEN,()=>{m||(Q(gt,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),k(d,Fo.EventType.CLOSE,()=>{m||(m=!0,Q(gt,`RPC '${e}' stream ${i} transport closed`),E.So())}),k(d,Fo.EventType.ERROR,D=>{m||(m=!0,Ds(gt,`RPC '${e}' stream ${i} transport errored:`,D),E.So(new X($.UNAVAILABLE,"The operation could not be completed")))}),k(d,Fo.EventType.MESSAGE,D=>{var v;if(!m){const w=D.data[0];xe(!!w);const T=w,L=T.error||((v=T[0])===null||v===void 0?void 0:v.error);if(L){Q(gt,`RPC '${e}' stream ${i} received error:`,L);const U=L.status;let R=function(S){const C=He[S];if(C!==void 0)return kE(C)}(U),I=L.message;R===void 0&&(R=$.INTERNAL,I="Unknown error status: "+U+" with message "+L.message),m=!0,E.So(new X(R,I)),d.close()}else Q(gt,`RPC '${e}' stream ${i} received:`,w),E.bo(w)}}),k(a,Zx.STAT_EVENT,D=>{D.stat===Af.PROXY?Q(gt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Af.NOPROXY&&Q(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){return new XN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new X($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BO extends FE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=eO(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Dn(o.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Vf(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Nf(u)?{documents:rO(s,u)}:{query:iO(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=PE(s,o.resumeToken);const c=Df(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=lc(s,o.snapshotVersion.toTimestamp());const c=Df(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=oO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Vf(this.serializer),n.removeTarget=e,this.a_(n)}}class $O extends FE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=nO(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Vf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tO(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Lf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Lf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class HO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ar(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ui(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ie(u);c.L_.add(4),await Ja(c),c.q_.set("Unknown"),c.L_.delete(4),await Wc(c)}(this))})}),this.q_=new HO(r,i)}}async function Wc(t){if(Ui(t))for(const e of t.B_)await e(!0)}async function Ja(t){for(const e of t.B_)await e(!1)}function UE(t,e){const n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Mm(n)?Lm(n):Js(n).r_()&&Dm(n,e))}function Om(t,e){const n=ie(t),r=Js(n);n.N_.delete(e),r.r_()&&zE(n,e),n.N_.size===0&&(r.r_()?r.o_():Ui(n)&&n.q_.set("Unknown"))}function Dm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Js(t).A_(e)}function zE(t,e){t.Q_.xe(e),Js(t).R_(e)}function Lm(t){t.Q_=new KN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Js(t).start(),t.q_.v_()}function Mm(t){return Ui(t)&&!Js(t).n_()&&t.N_.size>0}function Ui(t){return ie(t).L_.size===0}function BE(t){t.Q_=void 0}async function KO(t){t.q_.set("Online")}async function GO(t){t.N_.forEach((e,n)=>{Dm(t,e)})}async function QO(t,e){BE(t),Mm(t)?(t.q_.M_(e),Lm(t)):t.q_.set("Unknown")}async function YO(t,e,n){if(t.q_.set("Online"),e instanceof AE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uc(t,r)}else if(e instanceof vu?t.Q_.Ke(e):e instanceof CE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{const r=await VE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),zE(s,u);const d=new Lr(h.target,u,c,h.sequenceNumber);Dm(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await uc(t,r)}}async function uc(t,e,n){if(!Qa(e))throw e;t.L_.add(1),await Ja(t),t.q_.set("Offline"),n||(n=()=>VE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wc(t)})}function $E(t,e){return e().catch(n=>uc(t,n,e))}async function Kc(t){const e=ie(t),n=Zr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;XO(e);)try{const i=await DO(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,JO(e,i)}catch(i){await uc(e,i)}qE(e)&&HE(e)}function XO(t){return Ui(t)&&t.O_.length<10}function JO(t,e){t.O_.push(e);const n=Zr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function qE(t){return Ui(t)&&!Zr(t).n_()&&t.O_.length>0}function HE(t){Zr(t).start()}async function ZO(t){Zr(t).p_()}async function eD(t){const e=Zr(t);for(const n of t.O_)e.m_(n.mutations)}async function tD(t,e,n){const r=t.O_.shift(),i=Cm.from(r,e,n);await $E(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kc(t)}async function nD(t,e){e&&Zr(t).V_&&await async function(r,i){if(function(o){return qN(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();Zr(r).s_(),await $E(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kc(r)}}(t,e),qE(t)&&HE(t)}async function T_(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Ui(n);n.L_.add(3),await Ja(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wc(n)}async function rD(t,e){const n=ie(t);e?(n.L_.delete(2),await Wc(n)):e||(n.L_.add(2),await Ja(n),n.q_.set("Unknown"))}function Js(t){return t.K_||(t.K_=function(n,r,i){const s=ie(n);return s.w_(),new BO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:KO.bind(null,t),Ro:GO.bind(null,t),mo:QO.bind(null,t),d_:YO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Mm(t)?Lm(t):t.q_.set("Unknown")):(await t.K_.stop(),BE(t))})),t.K_}function Zr(t){return t.U_||(t.U_=function(n,r,i){const s=ie(n);return s.w_(),new $O(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ZO.bind(null,t),mo:nD.bind(null,t),f_:eD.bind(null,t),g_:tD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kc(t)):(await t.U_.stop(),t.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Vm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(t,e){if(ar("AsyncQueue",`${e}: ${t}`),Qa(t))return new X($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Uo(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new xs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.W_=new Me(J.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fs{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fs(e,n,xs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class sD{constructor(){this.queries=S_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=S_(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new X($.ABORTED,"Firestore shutting down"))}}function S_(){return new Xs(t=>fE(t),Uc)}async function oD(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new iD,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=jm(o,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Fm(n)}async function aD(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lD(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Fm(n)}function uD(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Fm(t){t.Y_.forEach(e=>{e.next()})}var Ff,k_;(k_=Ff||(Ff={})).ea="default",k_.Cache="cache";class cD{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.key=e}}class KE{constructor(e){this.key=e}}class hD{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=pE(e),this.Ra=new xs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new I_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),m=zc(this.query,d)?d:null,E=!!p&&this.mutatedKeys.has(p.key),k=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let D=!1;p&&m?p.data.isEqual(m.data)?E!==k&&(r.track({type:3,doc:m}),D=!0):this.ga(p,m)||(r.track({type:2,doc:m}),D=!0,(u&&this.Aa(m,u)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),D=!0):p&&!m&&(r.track({type:1,doc:p}),D=!0,(u||c)&&(a=!0)),D&&(m?(o=o.add(m),s=k?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(m,E){const k=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return k(m)-k(E)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Fs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new I_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new KE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new WE(r))}),n}ba(e){this.Ta=e.Ts,this.da=ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Fs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class dD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fD{constructor(e){this.key=e,this.va=!1}}class pD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Xs(a=>fE(a),Uc),this.Ma=new Map,this.xa=new Set,this.Oa=new Me(J.comparator),this.Na=new Map,this.La=new bm,this.Ba={},this.ka=new Map,this.qa=js.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mD(t,e,n=!0){const r=ZE(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await GE(r,e,n,!0),i}async function gD(t,e){const n=ZE(t);await GE(n,e,!0,!1)}async function GE(t,e,n,r){const i=await LO(t.localStore,Nn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await yD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&UE(t.remoteStore,i),a}async function yD(t,e,n,r,i){t.Ka=(d,p,m)=>async function(k,D,v,w){let T=D.view.ma(v);T.ns&&(T=await w_(k.localStore,D.query,!1).then(({documents:I})=>D.view.ma(I,T)));const L=w&&w.targetChanges.get(D.targetId),U=w&&w.targetMismatches.get(D.targetId)!=null,R=D.view.applyChanges(T,k.isPrimaryClient,L,U);return A_(k,D.targetId,R.wa),R.snapshot}(t,d,p,m);const s=await w_(t.localStore,e,!0),o=new hD(e,s.Ts),a=o.ma(s.documents),u=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);A_(t,n,c.wa);const h=new dD(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function vD(t,e,n){const r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Uc(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Om(r.remoteStore,i.targetId),Uf(r,i.targetId)}).catch(Ga)):(Uf(r,i.targetId),await jf(r.localStore,i.targetId,!0))}async function _D(t,e){const n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Om(n.remoteStore,r.targetId))}async function wD(t,e,n){const r=CD(t);try{const i=await function(o,a){const u=ie(o),c=Je.now(),h=a.reduce((m,E)=>m.add(E.key),ce());let d,p;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=lr(),k=ce();return u.cs.getEntries(m,h).next(D=>{E=D,E.forEach((v,w)=>{w.isValidDocument()||(k=k.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,E)).next(D=>{d=D;const v=[];for(const w of a){const T=FN(w,d.get(w.key).overlayedDocument);T!=null&&v.push(new ai(w.key,T,oE(T.value.mapValue),On.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,v,a)}).next(D=>{p=D;const v=D.applyToLocalDocumentSet(d,k);return u.documentOverlayCache.saveOverlays(m,D.batchId,v)})}).then(()=>({batchId:p.batchId,changes:gE(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Me(ye)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Za(r,i.changes),await Kc(r.remoteStore)}catch(i){const s=jm(i,"Failed to persist write");n.reject(s)}}async function QE(t,e){const n=ie(t);try{const r=await NO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?xe(o.va):i.removedDocuments.size>0&&(xe(o.va),o.va=!1))}),await Za(n,r,e)}catch(r){await Ga(r)}}function C_(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ie(o);u.onlineState=a;let c=!1;u.queries.forEach((h,d)=>{for(const p of d.j_)p.Z_(a)&&(c=!0)}),c&&Fm(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xD(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Me(J.comparator);o=o.insert(s,wt.newNoDocument(s,re.min()));const a=ce().add(s),u=new qc(re.min(),new Map,new Me(ye),o,a);await QE(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Um(r)}else await jf(r.localStore,e,!1).then(()=>Uf(r,e,n)).catch(Ga)}async function ED(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await RO(n.localStore,e);XE(n,r,null),YE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Za(n,i)}catch(i){await Ga(i)}}async function TD(t,e,n){const r=ie(t);try{const i=await function(o,a){const u=ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(xe(d!==null),h=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);XE(r,e,n),YE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Za(r,i)}catch(i){await Ga(i)}}function YE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function XE(t,e,n){const r=ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Uf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JE(t,r)})}function JE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Om(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Um(t))}function A_(t,e,n){for(const r of n)r instanceof WE?(t.La.addReference(r.key,e),ID(t,r)):r instanceof KE?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JE(t,r.key)):ne()}function ID(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.xa.add(r),Um(t))}function Um(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new J(Ue.fromString(e)),r=t.qa.next();t.Na.set(r,new fD(n)),t.Oa=t.Oa.insert(n,r),UE(t.remoteStore,new Lr(Nn(Sm(n.path)),r,"TargetPurposeLimboResolution",_m.oe))}}async function Za(t,e,n){const r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Nm.Wi(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const h=ie(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,p=>z.forEach(p.$i,m=>h.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>z.forEach(p.Ui,m=>h.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Qa(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const m=h.os.get(p),E=m.snapshotVersion,k=m.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(p,k)}}}(r.localStore,s))}async function SD(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await ME(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new X($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Za(n,r.hs)}}function kD(t,e){const n=ie(t),r=n.Na.get(e);if(r&&r.va)return ce().add(r.key);{let i=ce();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function ZE(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.Ca.d_=lD.bind(null,e.eventManager),e.Ca.$a=uD.bind(null,e.eventManager),e}function CD(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TD.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return bO(this.persistence,new AO,e.initialUser,this.serializer)}Ga(e){return new SO(Rm.Zr,this.serializer)}Wa(e){return new VO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class zf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SD.bind(null,this.syncEngine),await rD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sD}()}createDatastore(e){const n=Hc(e.databaseInfo.databaseId),r=function(s){return new zO(s)}(e.databaseInfo);return function(s,o,a,u){return new qO(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new WO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>C_(this.syncEngine,n,0),function(){return E_.D()?new E_:new jO}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const d=new pD(i,s,o,a,u,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);Q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ja(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zf.provider={build:()=>new zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=rE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sd(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ME(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bD(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>T_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>T_(e.remoteStore,i)),t._onlineComponents=e}async function bD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await sd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await sd(t,new cc)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await sd(t,new cc);return t._offlineComponents}async function eT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await P_(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await P_(t,new zf))),t._onlineComponents}function RD(t){return eT(t).then(e=>e.syncEngine)}async function ND(t){const e=await eT(t),n=e.eventManager;return n.onListen=mD.bind(null,e.syncEngine),n.onUnlisten=vD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_D.bind(null,e.syncEngine),n}function OD(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new AD({next:p=>{h.Za(),o.enqueueAndForget(()=>aD(s,d));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new X($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&u&&u.source==="server"?c.reject(new X($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new cD(Sm(a.path),h,{includeMetadataChanges:!0,_a:!0});return oD(s,d)}(await ND(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e,n){if(!n)throw new X($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LD(t,e,n,r){if(e===!0&&r===!0)throw new X($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R_(t){if(!J.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zm(t);throw new X($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WR;switch(r.type){case"firstParty":return new YR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=b_.get(n);r&&(Q("ComponentProvider","Removing Datastore"),b_.delete(n),r.terminate())}(this),Promise.resolve()}}function MD(t,e,n,r={}){var i;const s=(t=Mi(t,Bm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=yt.MOCK_USER;else{a=iP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new yt(c)}t._authCredentials=new KR(new nE(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $m(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class Oa extends $m{constructor(e,n,r){super(e,n,Sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new J(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function el(t,e,...n){if(t=ct(t),arguments.length===1&&(e=rE.newId()),DD("doc","path",e),t instanceof Bm){const r=Ue.fromString(e,...n);return R_(r),new Xt(t,null,new J(r))}{if(!(t instanceof Xt||t instanceof Oa))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return R_(r),new Xt(t.firestore,t instanceof Oa?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jE(this,"async_queue_retry"),this.Vu=()=>{const r=id();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=id();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=id();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Gr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qa(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Vm.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Gc extends Bm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new O_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function VD(t,e){const n=typeof t=="object"?t:px(),r=typeof t=="string"?t:"(default)",i=om(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nP("firestore");s&&MD(i,...s)}return i}function nT(t){if(t._terminated)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jD(t),t._firestoreClient}function jD(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new uN(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new PD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(ht.fromBase64String(e))}catch(n){throw new X($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Us(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=/^__.*__$/;class UD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ya(e,this.data,n,this.fieldTransforms)}}class rT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Wm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(iT(this.Cu)&&FD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class zD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hc(e)}Qu(e,n,r,i=!1){return new Wm({Cu:e,methodName:n,qu:r,path:ot.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sT(t){const e=t._freezeSettings(),n=Hc(t._databaseId);return new zD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BD(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Gm("Data must be an object, but it was:",o,r);const a=oT(r,o);let u,c;if(s.merge)u=new Gt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const p=Bf(e,d,n);if(!o.contains(p))throw new X($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);lT(h,p)||h.push(p)}u=new Gt(h),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new UD(new Ot(a),u,c)}class Xc extends Yc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}class Km extends Yc{_toFieldTransform(e){return new LN(e.path,new ba)}isEqual(e){return e instanceof Km}}function $D(t,e,n,r){const i=t.Qu(1,e,n);Gm("Data must be an object, but it was:",i,r);const s=[],o=Ot.empty();Fi(r,(u,c)=>{const h=Qm(e,u,n);c=ct(c);const d=i.Nu(h);if(c instanceof Xc)s.push(h);else{const p=Jc(c,d);p!=null&&(s.push(h),o.set(h,p))}});const a=new Gt(s);return new rT(o,a,i.fieldTransforms)}function qD(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Bf(e,r,n)],u=[i];if(s.length%2!=0)throw new X($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Bf(e,s[p])),u.push(s[p+1]);const c=[],h=Ot.empty();for(let p=a.length-1;p>=0;--p)if(!lT(c,a[p])){const m=a[p];let E=u[p];E=ct(E);const k=o.Nu(m);if(E instanceof Xc)c.push(m);else{const D=Jc(E,k);D!=null&&(c.push(m),h.set(m,D))}}const d=new Gt(c);return new rT(h,d,o.fieldTransforms)}function Jc(t,e){if(aT(t=ct(t)))return Gm("Unsupported field value:",e,t),oT(t,e);if(t instanceof Yc)return function(r,i){if(!iT(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Jc(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Je.fromDate(r);return{timestampValue:lc(i.serializer,s)}}if(r instanceof Je){const s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(i.serializer,s)}}if(r instanceof qm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Us)return{bytesValue:PE(i.serializer,r._byteString)};if(r instanceof Xt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Pm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hm)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return km(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${zm(r)}`)}(t,e)}function oT(t,e){const n={};return iE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,(r,i)=>{const s=Jc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function aT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof qm||t instanceof Us||t instanceof Xt||t instanceof Yc||t instanceof Hm)}function Gm(t,e,n){if(!aT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Bf(t,e,n){if((e=ct(e))instanceof Qc)return e._internalPath;if(typeof e=="string")return Qm(t,e);throw hc("Field path arguments must be of type string or ",t,!1,void 0,n)}const HD=new RegExp("[~\\*/\\[\\]]");function Qm(t,e,n){if(e.search(HD)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qc(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new X($.INVALID_ARGUMENT,a+t+u)}function lT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WD extends uT{data(){return super.data()}}function cT(t,e){return typeof e=="string"?Qm(t,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}class KD{convertValue(e,n="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Be(o.doubleValue));return new Hm(s)}convertGeoPoint(e){return new qm(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ca(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);xe(LE(r));const i=new Aa(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||ar(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hT extends uT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new YD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class YD extends hT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){t=Mi(t,Xt);const e=Mi(t.firestore,Gc);return OD(nT(e),t._key).then(n=>eL(e,t,n))}class JD extends KD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function ZD(t,e,n){t=Mi(t,Xt);const r=Mi(t.firestore,Gc),i=GD(t.converter,e,n);return dT(r,[BD(sT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,On.none())])}function Ym(t,e,n,...r){t=Mi(t,Xt);const i=Mi(t.firestore,Gc),s=sT(i);let o;return o=typeof(e=ct(e))=="string"||e instanceof Qc?qD(s,"updateDoc",t._key,e,n,r):$D(s,"updateDoc",t._key,e),dT(i,[o.toMutation(t._key,On.exists(!0))])}function dT(t,e){return function(r,i){const s=new Gr;return r.asyncQueue.enqueueAndForget(async()=>wD(await RD(r),i,s)),s.promise}(nT(t),e)}function eL(t,e,n){const r=n.docs.get(e._key),i=new JD(t);return new hT(t,i,e._key,r,new QD(n.hasPendingWrites,n.fromCache),e.converter)}function zs(){return new Km("serverTimestamp")}(function(e,n=!0){(function(i){Ys=i})(Gs),Ns(new bi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Gc(new GR(r.getProvider("auth-internal")),new JR(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kr(Zv,"4.7.3",e),Kr(Zv,"4.7.3","esm2017")})();const tL={apiKey:"your_firebase_api_key",authDomain:"your_project.firebaseapp.com",projectId:"your_project_id",storageBucket:"your_project.appspot.com",messagingSenderId:"your_sender_id",appId:"your_app_id"},fT=fx(tL),tl=BR(fT),nl=VD(fT),nL=new Wn;async function rL(t,e,n){const r=await I2(tl,t,e);return await C2(r.user,{displayName:n}),r.user}async function iL(t,e){return(await S2(tl,t,e)).user}async function sL(){return(await X2(tl,nL)).user}async function pT(){await R2(tl)}function oL(t){return b2(tl,t)}async function $f(t,e){const n=el(nl,"users",t);await ZD(n,{...e,createdAt:zs(),updatedAt:zs(),progress:{},preferredLanguage:"en"},{merge:!0})}async function _u(t){const e=el(nl,"users",t),n=await XD(e);return n.exists()?n.data():null}async function mT(t,e){const n=el(nl,"users",t);await Ym(n,{...e,updatedAt:zs()})}async function aL(t,e,n={}){const r=el(nl,"users",t);await Ym(r,{[`progress.${e}`]:{completedAt:zs(),...n},updatedAt:zs()})}async function lL(t){const e=await _u(t);return(e==null?void 0:e.progress)||{}}async function uL(t,e){const n=el(nl,"users",t);await Ym(n,{preferredLanguage:e,updatedAt:zs()})}const gT=V.createContext(null);function cL({children:t}){const[e,n]=V.useState(null),[r,i]=V.useState(null),[s,o]=V.useState(!0);V.useEffect(()=>oL(async c=>{if(n(c),c){let h=await _u(c.uid);h||(await $f(c.uid,{displayName:c.displayName||"",email:c.email}),h=await _u(c.uid)),i(h)}else i(null);o(!1)}),[]);const a=async()=>{if(e){const u=await _u(e.uid);i(u)}};return y.jsx(gT.Provider,{value:{user:e,profile:r,loading:s,refreshProfile:a},children:t})}function pr(){const t=V.useContext(gT);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t}const hL=[{id:"math10",name:"Mathematics",icon:"",color:"#6366f1",description:"NCERT Class 10 Mathematics  Real Numbers to Statistics",chapters:[{id:"math10_ch1",number:1,title:"Real Numbers",topics:[{id:"math10_ch1_t1",title:"Euclid's Division Lemma",concept:`Euclid's Division Lemma states that for any two positive integers **a** and **b**, there exist unique integers **q** (quotient) and **r** (remainder) such that:

> **a = bq + r**, where 0  r < b

This lemma is the foundation of the Euclidean algorithm used to find the **HCF (Highest Common Factor)** of two numbers.

### Key Points
- The division algorithm is essentially repeated application of Euclid's lemma
- HCF(a, b) = HCF(b, r) until r = 0
- When r = 0, the last non-zero divisor is the HCF`,examples:[{question:"Find the HCF of 135 and 225 using Euclid's Division Algorithm.",solution:`**Step 1:** 225 = 135  1 + 90
**Step 2:** 135 = 90  1 + 45
**Step 3:** 90 = 45  2 + 0

Since remainder = 0, **HCF(135, 225) = 45**`},{question:"Show that any positive odd integer is of the form 6q+1, 6q+3, or 6q+5.",solution:`By Euclid's lemma, a = 6q + r where r = 0,1,2,3,4,5
- r=0  6q (even)
- r=1  6q+1 (odd) 
- r=2  6q+2 (even)
- r=3  6q+3 (odd) 
- r=4  6q+4 (even)
- r=5  6q+5 (odd) 

So all odd integers have form 6q+1, 6q+3, or 6q+5.`}],practice:[{question:"Find HCF(56, 98) using Euclid's Algorithm.",options:["14","7","21","28"],answer:0},{question:"For integers a and b (b0), Euclid's Lemma states a = bq + r where r satisfies:",options:["0 < r < b","0  r < b","0  r  b","r > 0"],answer:1}]},{id:"math10_ch1_t2",title:"The Fundamental Theorem of Arithmetic",concept:`Every composite number can be expressed (factorised) as a product of primes, and this factorisation is **unique**, apart from the order in which the prime factors occur.

### Canonical Form
For any integer n > 1: **n = p^a  p^a  ...  p^a**

### Applications
- **HCF** = Product of smallest powers of common prime factors
- **LCM** = Product of greatest powers of all prime factors
- **HCF  LCM = Product of the two numbers**`,examples:[{question:"Find LCM and HCF of 12 and 18 using prime factorisation.",solution:`12 = 2  3
18 = 2  3

HCF = 2  3 = **6**
LCM = 2  3 = **36**

Verification: 6  36 = 216 = 12  18 `}],practice:[{question:"HCF(6,20)  LCM(6,20) = ?",options:["120","60","30","240"],answer:0},{question:"Prime factorisation of 140 is:",options:["2  5  7","2  5  7","2  5  7","2  5  7"],answer:0}]},{id:"math10_ch1_t3",title:"Irrational Numbers",concept:`A number is **irrational** if it cannot be expressed in the form p/q where p and q are integers and q  0.

### Proof that 2 is Irrational
Assume 2 = p/q (in lowest terms). Then 2q = p, so p is even  p is even  p = 2m.
Substituting: 2q = 4m  q = 2m  q is even. Contradiction! So 2 is irrational.

### Key Irrationals
2, 3, 5, , e are all irrational numbers.`,examples:[{question:"Prove that 3 is irrational.",solution:"Assume 3 = p/q in lowest terms  3q = p  p is divisible by 3  p = 3m  3q = 9m  q = 3m  q is divisible by 3. Both p and q are divisible by 3, contradicting that p/q is in lowest terms. Hence 3 is irrational."}],practice:[{question:"Which of the following is irrational?",options:["4","(9/4)","5","0.333..."],answer:2},{question:"5 + 2 is:",options:["Rational","Irrational","Integer","Natural number"],answer:1}]}]},{id:"math10_ch2",number:2,title:"Polynomials",topics:[{id:"math10_ch2_t1",title:"Zeroes of a Polynomial",concept:`The **zeroes** of a polynomial p(x) are the values of x for which p(x) = 0.

### Geomentric Meaning
- For a **linear polynomial** ax+b: 1 zero (x-intercept of line)
- For a **quadratic polynomial** ax+bx+c: at most 2 zeroes (intersection with x-axis)
- For a **cubic polynomial**: at most 3 zeroes

### Relationship between Zeroes and Coefficients (Quadratic)
If  and  are zeroes of ax + bx + c:
- ** +  = -b/a** (sum of zeroes)
- **   = c/a** (product of zeroes)`,examples:[{question:"Find zeroes of x  5x + 6 and verify the relationship.",solution:`x  5x + 6 = (x2)(x3)
Zeroes:  = 2,  = 3

Sum: 2+3 = 5 = (5)/1 = b/a 
Product: 23 = 6 = 6/1 = c/a `}],practice:[{question:"If zeroes of x3x+k are equal, then k =",options:["9/4","3/2","9","4"],answer:0},{question:"Sum of zeroes of 2x8x+6 is:",options:["4","-4","3","-3"],answer:0}]}]},{id:"math10_ch3",number:3,title:"Pair of Linear Equations in Two Variables",topics:[{id:"math10_ch3_t1",title:"Graphical Method of Solution",concept:`A pair of linear equations in two variables:
- **ax + by + c = 0**
- **ax + by + c = 0**

### Types of Solutions
| Condition | Graph | Solution |
|---|---|---|
| a/a  b/b | Intersecting lines | Unique solution |
| a/a = b/b = c/c | Coincident lines | Infinite solutions |
| a/a = b/b  c/c | Parallel lines | No solution |`,examples:[{question:"Check if x+y=5 and 2x+2y=10 have unique/no/infinite solutions.",solution:`a/a = 1/2, b/b = 1/2, c/c = 5/10 = 1/2
Since a/a = b/b = c/c, the lines are **coincident  Infinite solutions**`}],practice:[{question:"If a/a = b/b  c/c, the pair of equations has:",options:["One solution","No solution","Infinite solutions","Two solutions"],answer:1}]}]},{id:"math10_ch4",number:4,title:"Quadratic Equations",topics:[{id:"math10_ch4_t1",title:"Nature of Roots & Discriminant",concept:`For ax + bx + c = 0, the **Discriminant D = b  4ac** determines the nature of roots.

| D | Nature of Roots |
|---|---|
| D > 0 | Two distinct real roots |
| D = 0 | Two equal real roots |
| D < 0 | No real roots (complex) |

**Quadratic Formula:** x = (b  D) / 2a`,examples:[{question:"Find the nature of roots of 2x4x+3=0.",solution:`D = (4)  4(2)(3) = 16  24 = **8 < 0**
The equation has **no real roots**.`}],practice:[{question:"For x4x+4=0, the discriminant D is:",options:["0","4","16","-4"],answer:0},{question:"If D>0, the quadratic has:",options:["No real roots","Equal roots","Two distinct real roots","Imaginary roots"],answer:2}]}]},{id:"math10_ch6",number:6,title:"Triangles",topics:[{id:"math10_ch6_t1",title:"Similarity of Triangles",concept:`Two triangles are **similar** if their corresponding angles are equal and corresponding sides are proportional.

### Criteria for Similarity
- **AA (Angle-Angle)**: Two angles of one triangle equal two angles of another
- **SAS**: Two sides proportional and included angle equal
- **SSS**: All three pairs of sides proportional

### Basic Proportionality Theorem (Thales)
If a line is drawn parallel to one side of a triangle intersecting other two sides, it divides those two sides in the same ratio.`,examples:[{question:"In ABC, DE  BC. If AD=3, DB=6, AE=4, find EC.",solution:`By BPT: AD/DB = AE/EC
3/6 = 4/EC
EC = 46/3 = **8**`}],practice:[{question:"In similar triangles, ratio of areas equals:",options:["Ratio of sides","Square of ratio of sides","Cube of ratio of sides","None"],answer:1}]}]},{id:"math10_ch8",number:8,title:"Introduction to Trigonometry",topics:[{id:"math10_ch8_t1",title:"Trigonometric Ratios",concept:`In a right-angled triangle with angle :

| Ratio | Formula |
|---|---|
| **sin ** | Opposite / Hypotenuse |
| **cos ** | Adjacent / Hypotenuse |
| **tan ** | Opposite / Adjacent |
| **cosec ** | 1/sin  |
| **sec ** | 1/cos  |
| **cot ** | 1/tan  |

### Standard Values
| Angle | sin | cos | tan |
|---|---|---|---|
| 0 | 0 | 1 | 0 |
| 30 | 1/2 | 3/2 | 1/3 |
| 45 | 1/2 | 1/2 | 1 |
| 60 | 3/2 | 1/2 | 3 |
| 90 | 1 | 0 |  |`,examples:[{question:"In ABC, right-angled at B, AB=12, BC=5. Find sin A and cos A.",solution:`AC = (AB+BC) = (144+25) = 169 = 13
sin A = BC/AC = **5/13**
cos A = AB/AC = **12/13**`}],practice:[{question:"sin + cos = ?",options:["0","1","2","-1"],answer:1},{question:"tan 45 = ?",options:["0","1/2","1","3"],answer:2}]}]},{id:"math10_ch14",number:14,title:"Statistics",topics:[{id:"math10_ch14_t1",title:"Mean, Median and Mode",concept:`### Mean (Arithmetic Average)
- **Direct Method**: Mean = fx / f
- **Assumed Mean Method**: Mean = a + fd/f

### Median
The middle value when data is arranged in order.
For grouped data: **Median = l + [(n/2  cf) / f]  h**

### Mode
The value that appears most frequently.
For grouped data: **Mode = l + [(ff) / (2fff)]  h**

### Empirical Relation
**Mode = 3 Median  2 Mean**`,examples:[{question:"Find the mean of: Class 0-10: 5, 10-20: 10, 20-30: 15, 30-40: 12, 40-50: 8",solution:`Midpoints: 5,15,25,35,45
f = 50
fx = 55+1015+1525+1235+845 = 25+150+375+420+360 = 1330
Mean = 1330/50 = **26.6**`}],practice:[{question:"The mode of 2,3,3,4,5,5,5,6 is:",options:["3","4","5","6"],answer:2}]}]}]},{id:"science10",name:"Science",icon:"",color:"#10b981",description:"NCERT Class 10 Science  Physics, Chemistry & Biology",chapters:[{id:"sci10_ch1",number:1,title:"Chemical Reactions and Equations",topics:[{id:"sci10_ch1_t1",title:"Types of Chemical Reactions",concept:`### 1. Combination Reaction
Two or more substances combine to form one product.
> A + B  AB

### 2. Decomposition Reaction
One compound breaks into two or more simpler substances.
> AB  A + B

### 3. Displacement Reaction
A more reactive element displaces a less reactive element.
> A + BC  AC + B

### 4. Double Displacement
Ions of two compounds exchange places.
> AB + CD  AD + CB

### 5. Oxidation & Reduction (Redox)
- **Oxidation**: Loss of electrons / gain of oxygen
- **Reduction**: Gain of electrons / loss of oxygen`,examples:[{question:"Identify the type: 2Mg + O  2MgO",solution:"This is a **Combination reaction**  two elements (Mg and O) combine to form one compound (MgO). Magnesium is also **oxidised**."}],practice:[{question:"Fe + CuSO  FeSO + Cu is an example of:",options:["Combination","Decomposition","Displacement","Double displacement"],answer:2},{question:"Which reaction involves breaking of bonds only?",options:["Combination","Decomposition","Displacement","Redox"],answer:1}]}]},{id:"sci10_ch10",number:10,title:"Light  Reflection and Refraction",topics:[{id:"sci10_ch10_t1",title:"Reflection & Mirror Formula",concept:`### Laws of Reflection
1. Angle of incidence = Angle of reflection
2. Incident ray, normal, and reflected ray are coplanar

### Mirror Formula
**1/v + 1/u = 1/f**
where v = image distance, u = object distance, f = focal length

**f = R/2** (R = radius of curvature)

**Magnification m = v/u = h'/h**

### Sign Convention (New Cartesian)
- All distances measured from pole
- Distances in direction of incident light: positive
- Against incident light: negative`,examples:[{question:"An object 10 cm tall is placed 30 cm from a concave mirror of focal length 15 cm. Find image distance and magnification.",solution:`u = 30 cm, f = 15 cm
1/v = 1/f  1/u = 1/15  (1/30) = 1/15 + 1/30 = 1/30
v = **30 cm** (real, inverted image)
m = v/u = (30)/(30) = **1** (same size, inverted)`}],practice:[{question:"Focal length of a concave mirror with R = 24 cm:",options:["12 cm","24 cm","48 cm","6 cm"],answer:0}]}]},{id:"sci10_ch13",number:13,title:"Magnetic Effects of Electric Current",topics:[{id:"sci10_ch13_t1",title:"Oersted's Experiment & Fleming's Rules",concept:`### Oersted's Experiment
A current-carrying conductor produces a magnetic field around it (discovered by Hans Christian Oersted in 1820).

### Fleming's Left Hand Rule
For **motors** (force on current-carrying conductor in a magnetic field):
- **Forefinger**  Magnetic field (B)
- **Middle finger**  Current direction (I)
- **Thumb**  Force/Motion direction (F)

### Fleming's Right Hand Rule
For **generators** (induced EMF direction):
- **Forefinger**  Magnetic field
- **Thumb**  Motion direction
- **Middle finger**  Induced current direction`,examples:[{question:"In an electric motor, the coil rotates due to:",solution:"The coil carrying current in a magnetic field experiences a **force** (torque) according to Fleming's Left Hand Rule. This force causes rotation, converting electrical energy to mechanical energy."}],practice:[{question:"Fleming's Right Hand Rule is used for:",options:["Electric motor","Electric generator","Transformer","Resistor"],answer:1}]}]}]},{id:"sst10",name:"Social Science",icon:"",color:"#f59e0b",description:"NCERT Class 10  History, Geography, Political Science, Economics",chapters:[{id:"sst10_hist_ch1",number:1,title:"The Rise of Nationalism in Europe",topics:[{id:"sst10_hist_ch1_t1",title:"French Revolution and Nationalism",concept:`The **French Revolution (1789)** was the first clear expression of nationalism. Key ideas:

- **Liberty, Equality, Fraternity**  core ideals
- French state was seen as representing the will of the nation
- Napoleonic Code abolished feudal privileges and introduced uniform laws

### Spread of Nationalism
- Napoleon's armies carried ideas of nationalism across Europe
- Conservatives and liberals both responded to nationalist ideas
- Industrialisation created new classes with nationalist consciousness`,examples:[{question:"How did the French Revolution promote nationalism?",solution:"The French Revolution promoted nationalism by uniting citizens under a common identity, establishing that sovereignty lies with the people (not the king), using national symbols (flag, anthem), and spreading revolutionary ideals through Napoleon's conquests across Europe."}],practice:[{question:"The term 'La Patrie' means:",options:["The Citizen","The Fatherland","The Republic","The Nation"],answer:1}]}]}]},{id:"english10",name:"English",icon:"",color:"#8b5cf6",description:"NCERT Class 10 English  First Flight & Footprints Without Feet",chapters:[{id:"eng10_ch1",number:1,title:"A Letter to God",topics:[{id:"eng10_ch1_t1",title:"Theme & Summary",concept:`**'A Letter to God'** by G.L. Fuentes is a story about unwavering faith.

### Summary
Lencho, a poor farmer, has his crops destroyed by a hailstorm. He writes a letter to God asking for 100 pesos to replant. Post office workers, moved by his faith, collect 70 pesos and send it anonymously. Lencho, receiving only 70, writes again calling the post office employees 'a bunch of crooks'  believing they stole 30 pesos.

### Themes
1. **Unwavering faith**  Lencho's unshakeable belief in God
2. **Irony**  The same people he calls crooks are the ones who helped him
3. **Human goodness vs. Cynicism**`,examples:[{question:"What is the central irony of the story?",solution:"The central irony is that Lencho, who has complete faith in God, accuses the genuinely helpful post office workers of stealing. He trusts an unseen God completely but is suspicious of kind human beings he can see."}],practice:[{question:"Who wrote 'A Letter to God'?",options:["Premchand","G.L. Fuentes","R.K. Narayan","Ruskin Bond"],answer:1}]}]}]},{id:"hindi10",name:"Hindi",icon:"",color:"#ef4444",description:"NCERT  10     ",chapters:[{id:"hindi10_ch1",number:1,title:"  ",topics:[{id:"hindi10_ch1_t1",title:"  ",concept:`****        -   

###    
                                

###    
     'Bitter medicine'           `,examples:[{question:"      ?",solution:"          -              ''   "}],practice:[{question:"     ?",options:["",""," "," B  C"],answer:3}]}]}]}],D_={subjects:hL},dL={pcm:{name:"PCM (Physics, Chemistry, Mathematics)",subjects:[{id:"phy12",name:"Physics",icon:"",color:"#3b82f6",description:"NCERT Class 12 Physics",chapters:[{id:"phy12_ch1",number:1,title:"Electric Charges and Fields",topics:[{id:"phy12_ch1_t1",title:"Coulomb's Law",concept:`The electrostatic force between two point charges q and q separated by distance r:

## F = kqq/r

where **k = 9  10 Nm/C** (Coulomb's constant) = 1/(4)

### Key Properties
- Acts along the line joining the charges
- Inverse square law (like gravity)
- Can be attractive (unlike charges) or repulsive (like charges)
- Superposition principle: Net force = vector sum of individual forces`,examples:[{question:"Two charges of 2C and 3C are placed 20 cm apart. Find the force.",solution:`F = kqq/r = 910  210  310 / (0.20)
= 910  610/ 0.04
= **1.35 N** (repulsive, both positive)`}],practice:[{question:"If distance between charges is doubled, force becomes:",options:["4 times","2 times","1/2 times","1/4 times"],answer:3}]}]},{id:"phy12_ch7",number:7,title:"Alternating Current",topics:[{id:"phy12_ch7_t1",title:"RMS Value and Power",concept:`For AC, **RMS (Root Mean Square)** value is the effective value.

- **V_rms = V/2**  0.707 V
- **I_rms = I/2**

### Power in AC Circuit
- **Instantaneous power**: p = vi
- **Average power**: P = V_rms  I_rms  cos 
- **cos ** = power factor ( = phase difference)

### Special Cases
| Circuit | Power Factor | Power |
|---|---|---|
| Pure R | cos 0 = 1 | P = IR |
| Pure L | cos 90 = 0 | P = 0 |
| Pure C | cos 90 = 0 | P = 0 |`,examples:[{question:"Peak voltage of AC is 311 V. Find RMS voltage.",solution:`V_rms = 311/2 = 311/1.414  **220 V**
(This is why household supply is called 220 V)`}],practice:[{question:"Power factor of a purely inductive circuit is:",options:["1","0","0.5","3/2"],answer:1}]}]}]},{id:"chem12",name:"Chemistry",icon:"",color:"#10b981",description:"NCERT Class 12 Chemistry",chapters:[{id:"chem12_ch1",number:1,title:"Solutions",topics:[{id:"chem12_ch1_t1",title:"Concentration Terms",concept:`### Molarity (M)
Moles of solute per litre of solution
> **M = n/V(L)**

### Molality (m)
Moles of solute per kg of solvent
> **m = n/W(kg)**  independent of temperature!

### Mole Fraction
> **_A = n_A/(n_A + n_B)**

### Mass % (w/w)
> **(mass of solute/mass of solution)  100**

### ppm
> **(mass of solute/mass of solution)  10**`,examples:[{question:"Find molarity of 4g NaOH in 500 mL solution. (MW of NaOH = 40)",solution:`Moles of NaOH = 4/40 = 0.1 mol
Volume = 500 mL = 0.5 L
Molarity = 0.1/0.5 = **0.2 M**`}],practice:[{question:"Which concentration term is independent of temperature?",options:["Molarity","Normality","Molality","% w/v"],answer:2}]},{id:"chem12_ch1_t2",title:"Raoult's Law & Colligative Properties",concept:`**Raoult's Law**: Partial pressure of a component  its mole fraction
> P_A = P_A  _A

### Colligative Properties (depend only on number of solute particles)
1. **Relative lowering of vapour pressure**: P/P = _B
2. **Elevation of boiling point**: T_b = K_b  m
3. **Depression of freezing point**: T_f = K_f  m
4. **Osmotic pressure**:  = CRT = nRT/V`,examples:[{question:"Calculate T_f for 18g glucose in 1 kg water. K_f = 1.86Ckg/mol",solution:`Moles glucose = 18/180 = 0.1 mol
m = 0.1/1 = 0.1 mol/kg
T_f = K_f  m = 1.86  0.1 = **0.186C**`}],practice:[{question:"Osmotic pressure depends on:",options:["Nature of solute","Number of particles","Size of particles","Charge of ions"],answer:1}]}]},{id:"chem12_ch10",number:10,title:"Haloalkanes and Haloarenes",topics:[{id:"chem12_ch10_t1",title:"Nucleophilic Substitution Reactions",concept:`Haloalkanes undergo **nucleophilic substitution** where a nucleophile replaces the halide.

### SN2 Reaction
- One step, back-side attack
- Inversion of configuration (Walden Inversion)
- Reactivity: CHX > 1 > 2 > 3

### SN1 Reaction
- Two steps, forms carbocation intermediate
- Racemisation
- Reactivity: 3 > 2 > 1

### Factors Affecting Rate
- Nature of nucleophile (strong Nu  SN2)
- Nature of electrophile (tertiary  SN1)
- Solvent (polar protic  SN1, polar aprotic  SN2)`,examples:[{question:"Why does (CH)CBr undergo SN1 but CHBr undergoes SN2?",solution:`**SN1**: (CH)CBr is tertiary  forms stable 3 carbocation easily. Steric hindrance prevents back-side attack.
**SN2**: CHBr is primary with no steric hindrance, back-side attack by nucleophile is easy.`}],practice:[{question:"SN2 reactions involve:",options:["Carbocation intermediate","Racemisation","Inversion of configuration","Two steps"],answer:2}]}]}]},{id:"math12",name:"Mathematics",icon:"",color:"#6366f1",description:"NCERT Class 12 Mathematics",chapters:[{id:"math12_ch5",number:5,title:"Continuity and Differentiability",topics:[{id:"math12_ch5_t1",title:"Differentiability and Chain Rule",concept:`### Differentiability
A function f is differentiable at x = a if:
**f'(a) = lim[h0] [f(a+h)  f(a)] / h** exists

All differentiable functions are continuous but **not vice versa**.

### Chain Rule
If y = f(g(x)), then:
**dy/dx = f'(g(x))  g'(x) = dy/du  du/dx**

### Key Derivatives
| Function | Derivative |
|---|---|
| x | nx |
| e | e |
| ln x | 1/x |
| sin x | cos x |
| cos x | sin x |
| tan x | secx |`,examples:[{question:"Find dy/dx if y = sin(x)",solution:`Let u = x, y = sin u
dy/dx = cos u  2x = **2xcos(x)**`}],practice:[{question:"d/dx[e^(sin x)] = ?",options:["e^(sin x)","cos x  e^(sin x)","sin x  e^(cos x)","e^(cos x)"],answer:1}]}]},{id:"math12_ch8",number:8,title:"Application of Integrals",topics:[{id:"math12_ch8_t1",title:"Area Under Curves",concept:`Area bounded by curve y = f(x), x-axis, and x = a to x = b:

## A = [a to b] |f(x)| dx

### Area Between Two Curves
If f(x)  g(x) on [a,b]:
**A = [a to b] [f(x)  g(x)] dx**

### Common Areas
- Circle x+y=r: **A = r**
- Ellipse x/a+y/b=1: **A = ab**
- Parabola y=4ax from 0 to h: **A = (4/3)(ah)**`,examples:[{question:"Find area bounded by y = x, x-axis, x=0 to x=2.",solution:"A = [0 to 2] x dx = [x/3] = 8/3  0 = **8/3 sq. units**"}],practice:[{question:"Area of circle x+y=16 is:",options:["16","4","8","32"],answer:0}]}]}]}]},pcb:{name:"PCB (Physics, Chemistry, Biology)",subjects:[{id:"bio12",name:"Biology",icon:"",color:"#22c55e",description:"NCERT Class 12 Biology",chapters:[{id:"bio12_ch1",number:1,title:"Sexual Reproduction in Flowering Plants",topics:[{id:"bio12_ch1_t1",title:"Double Fertilisation",concept:`**Double fertilisation** is unique to flowering plants (angiosperms).

### Process
1. Pollen tube carries **2 male gametes** to embryo sac
2. **First fusion**: One male gamete + egg cell  **zygote (2n)**  develops into embryo
3. **Second fusion**: Other male gamete + 2 polar nuclei  **Primary Endosperm Nucleus (PEN, 3n)**  develops into endosperm

### Significance
- Endosperm provides nutrition to embryo
- Zygote develops into seed/embryo
- Ovary develops into fruit`,examples:[{question:"Why is the process called 'double fertilisation'?",solution:"Because **two fusion events** occur simultaneously: (1) male gamete fuses with egg to form zygote, (2) another male gamete fuses with polar nuclei to form PEN. This double fusion is unique to angiosperms."}],practice:[{question:"Ploidy of primary endosperm nucleus:",options:["n","2n","3n","4n"],answer:2}]}]}]}]}},Qi={streams:dL},fL=[{id:"ds",name:"Data Structures",icon:"",color:"#6366f1",description:"Arrays, Linked Lists, Trees, Graphs, Hash Tables",chapters:[{id:"ds_ch1",number:1,title:"Arrays and Strings",topics:[{id:"ds_ch1_t1",title:"Array Fundamentals & Complexity",concept:`An **array** is a contiguous block of memory storing elements of the same type.

### Time Complexities
| Operation | Array | Dynamic Array |
|---|---|---|
| Access | O(1) | O(1) |
| Search | O(n) | O(n) |
| Insertion (end) | O(1) amort. | O(1) amort. |
| Insertion (middle) | O(n) | O(n) |
| Deletion | O(n) | O(n) |

### Key Properties
- Random access via index in O(1)
- Cache-friendly (contiguous memory)
- Fixed size in static arrays; dynamic arrays double when full
- 2D arrays: row-major order in most languages`,examples:[{question:"Two Sum Problem: Find indices of two numbers that sum to target.",solution:`**Optimal  Hash Map O(n)**:
\`\`\`
map = {}
for i, num in enumerate(nums):
    complement = target - num
    if complement in map:
        return [map[complement], i]
    map[num] = i
\`\`\`
For each element, check if its complement exists in map  O(n) time, O(n) space.`}],practice:[{question:"Accessing element at index k in an array is:",options:["O(1)","O(n)","O(log n)","O(k)"],answer:0},{question:"Inserting at the beginning of an array of size n requires:",options:["O(1)","O(n)","O(log n)","O(n)"],answer:1}]},{id:"ds_ch1_t2",title:"Sliding Window Technique",concept:`**Sliding Window** is a technique to reduce nested loops to a single pass  O(n)  O(n).

### Fixed Window
Maintain a window of fixed size k, slide one step at a time.
\`\`\`
window_sum = sum(arr[0:k])
max_sum = window_sum
for i in range(k, n):
    window_sum += arr[i] - arr[i-k]
    max_sum = max(max_sum, window_sum)
\`\`\`

### Variable Window
Expand window from right, shrink from left when condition violated.
\`\`\`
left = 0
for right in range(n):
    # expand window
    while condition_violated:
        left++  # shrink window
    # update answer
\`\`\``,examples:[{question:"Find max sum of subarray of size k.",solution:`Use fixed sliding window:
1. Compute sum of first k elements
2. Slide window: add arr[i], remove arr[i-k]
3. Track maximum
Time: O(n), Space: O(1)`}],practice:[{question:"Sliding window reduces time complexity from:",options:["O(n) to O(1)","O(n) to O(n)","O(n log n) to O(n)","O(2n) to O(n)"],answer:1}]}]},{id:"ds_ch2",number:2,title:"Linked Lists",topics:[{id:"ds_ch2_t1",title:"Singly & Doubly Linked Lists",concept:`A **Linked List** is a sequence of nodes where each node stores data and a pointer to the next node.

### Types
- **Singly**: Each node has \`data\` and \`next\`
- **Doubly**: Each node has \`data\`, \`next\`, and \`prev\`
- **Circular**: Last node points to head

### Complexities
| Operation | Array | Linked List |
|---|---|---|
| Access | O(1) | O(n) |
| Search | O(n) | O(n) |
| Insert head | O(n) | O(1) |
| Insert tail | O(1)* | O(n) or O(1)** |
| Delete head | O(n) | O(1) |

### Common Techniques
- **Two pointers** (slow/fast): Detect cycle, find middle
- **Reverse in-place**: Swap next pointers iteratively`,examples:[{question:"Detect cycle in linked list (Floyd's Algorithm).",solution:`\`\`\`
slow = head
fast = head
while fast and fast.next:
    slow = slow.next
    fast = fast.next.next
    if slow == fast:
        return True  # Cycle detected
return False
\`\`\`
Slow moves 1 step, fast moves 2 steps. If cycle exists, they meet. O(n) time, O(1) space.`}],practice:[{question:"Insertion at head of linked list is:",options:["O(n)","O(log n)","O(1)","O(n)"],answer:2}]}]},{id:"ds_ch3",number:3,title:"Trees",topics:[{id:"ds_ch3_t1",title:"Binary Search Tree (BST)",concept:`A **BST** is a binary tree where for every node:
- All nodes in **left subtree < current node**
- All nodes in **right subtree > current node**

### Operations
| Operation | Average | Worst (Skewed) |
|---|---|---|
| Search | O(log n) | O(n) |
| Insert | O(log n) | O(n) |
| Delete | O(log n) | O(n) |

### Traversals
- **Inorder (L-Root-R)**: Gives sorted output!
- **Preorder (Root-L-R)**: Used to copy tree
- **Postorder (L-R-Root)**: Used to delete tree

### Balanced BSTs
- **AVL Tree**: Height difference  1
- **Red-Black Tree**: Used in Java TreeMap, C++ map`,examples:[{question:"Find kth smallest element in a BST.",solution:`Use **Inorder traversal** (gives sorted order):
\`\`\`
count = 0
def inorder(node):
    if not node: return None
    res = inorder(node.left)
    if res: return res
    count += 1
    if count == k: return node.val
    return inorder(node.right)
\`\`\`
O(k) time solution.`}],practice:[{question:"Inorder traversal of BST gives:",options:["Random order","Sorted ascending order","Sorted descending order","Level order"],answer:1}]}]}]},{id:"algo",name:"Algorithms",icon:"",color:"#f59e0b",description:"Sorting, Searching, Dynamic Programming, Greedy",chapters:[{id:"algo_ch1",number:1,title:"Sorting Algorithms",topics:[{id:"algo_ch1_t1",title:"Merge Sort & Quick Sort",concept:`### Merge Sort
- **Divide and Conquer**: Split into halves, sort each, merge
- Time: **O(n log n)** always
- Space: O(n) extra
- **Stable sort**

### Quick Sort
- Pick pivot, partition array, recurse
- Time: O(n log n) average, **O(n) worst**
- Space: O(log n)
- **Unstable** but **in-place**
- Typically faster in practice due to cache effects

### Comparison
| | Merge Sort | Quick Sort |
|---|---|---|
| Worst case | O(n log n) | O(n) |
| Space | O(n) | O(log n) |
| Stable | Yes | No |
| Best for | Linked lists | Arrays |`,examples:[{question:"Trace QuickSort on [3,1,4,1,5,9,2,6] with pivot = last element.",solution:`Pivot = 6. Partition: [3,1,4,1,5,2] | **6** | [9]
Recurse left with pivot 2: [1,1] | **2** | [3,4,5]
...
Final: [1,1,2,3,4,5,6,9]`}],practice:[{question:"Worst case of QuickSort occurs when:",options:["Array is random","Array is sorted","Array has duplicates","Array size is power of 2"],answer:1}]}]},{id:"algo_ch3",number:3,title:"Dynamic Programming",topics:[{id:"algo_ch3_t1",title:"Memoization vs Tabulation",concept:`**Dynamic Programming** solves problems by breaking them into overlapping subproblems and storing results.

### Conditions
1. **Optimal substructure**: Optimal solution built from optimal sub-solutions
2. **Overlapping subproblems**: Same subproblems computed multiple times

### Approaches
**Memoization (Top-Down)**:
- Recursive + cache
- Natural to write, uses call stack

**Tabulation (Bottom-Up)**:
- Iterative, fills table
- No recursion overhead, better space in some cases

### Famous Problems
- Fibonacci, Knapsack, LCS, LIS, Coin Change, Edit Distance, Matrix Chain Multiplication`,examples:[{question:"0/1 Knapsack: max value with weight capacity W.",solution:`**DP Table Approach**:
\`\`\`
dp[i][w] = max value using first i items within weight w
dp[i][w] = max(dp[i-1][w],  # skip item i
               dp[i-1][w-wt[i]] + val[i])  # take item i
\`\`\`
Base case: dp[0][w] = 0 for all w
Answer: dp[n][W]
Time: O(nW), Space: O(nW)`}],practice:[{question:"Which of these is NOT a DP problem?",options:["Fibonacci","Longest Common Subsequence","Binary Search","Coin Change"],answer:2}]}]}]},{id:"os",name:"Operating Systems",icon:"",color:"#8b5cf6",description:"Processes, Threads, Scheduling, Memory Management, File Systems",chapters:[{id:"os_ch1",number:1,title:"Processes and Threads",topics:[{id:"os_ch1_t1",title:"Process vs Thread",concept:`### Process
- An **executing instance** of a program
- Has its own: memory space, code, data, stack, heap, file descriptors
- Process creation is expensive (fork())
- Communication via IPC (pipes, sockets, shared memory)

### Thread
- **Lightweight process**, shares address space with parent process
- Shares: code, data, heap, file descriptors
- Own: stack, registers, program counter
- Thread creation much faster than process

### PCB (Process Control Block)
OS data structure storing: PID, state, PC, registers, memory maps, scheduled info

### Process States
**New  Ready  Running  Waiting  Terminated**`,examples:[{question:"Why are threads called lightweight processes?",solution:"Threads share the address space of their parent process  no need to copy memory, page tables, or file descriptors. Creating a thread is ~10x faster than creating a process. Context switching between threads of the same process is also faster since no page table switch is needed."}],practice:[{question:"Which is NOT shared between threads of the same process?",options:["Heap","Code segment","Stack","File descriptors"],answer:2}]}]},{id:"os_ch2",number:2,title:"CPU Scheduling",topics:[{id:"os_ch2_t1",title:"Scheduling Algorithms",concept:`### Scheduling Criteria
- **CPU Utilisation**: Keep CPU as busy as possible
- **Throughput**: Processes completed / time
- **Turnaround Time**: Completion  Arrival (lower = better)
- **Waiting Time**: Time in ready queue
- **Response Time**: First response  Arrival

### Algorithms
| Algorithm | Preemptive | Notes |
|---|---|---|
| FCFS | No | Simple, convoy effect |
| SJF | No | Optimal avg wait, starvation |
| SRTF | Yes | Preemptive SJF |
| Round Robin | Yes | For time-sharing, fair |
| Priority | Yes/No | Starvation possible |
| MLQ | Yes | Multiple queues |`,examples:[{question:"Calculate average waiting time for FCFS: P1(6ms), P2(8ms), P3(7ms) arriving at t=0.",solution:`FCFS Order: P1  P2  P3
P1 wait = 0
P2 wait = 6
P3 wait = 6+8 = 14
Average = (0+6+14)/3 = **6.67 ms**`}],practice:[{question:"Which scheduling causes 'convoy effect'?",options:["Round Robin","SJF","FCFS","Priority"],answer:2}]}]}]},{id:"dbms",name:"DBMS",icon:"",color:"#ef4444",description:"Database concepts, SQL, Normalization, Transactions",chapters:[{id:"dbms_ch1",number:1,title:"SQL Fundamentals",topics:[{id:"dbms_ch1_t1",title:"Joins in SQL",concept:`**JOIN** combines rows from two or more tables based on a related column.

### Types of Joins
\`\`\`sql
-- INNER JOIN: only matching rows from both tables
SELECT * FROM A INNER JOIN B ON A.id = B.id;

-- LEFT JOIN: all rows from left + matching from right
SELECT * FROM A LEFT JOIN B ON A.id = B.id;

-- RIGHT JOIN: all rows from right + matching from left
SELECT * FROM A RIGHT JOIN B ON A.id = B.id;

-- FULL OUTER JOIN: all rows from both
SELECT * FROM A FULL OUTER JOIN B ON A.id = B.id;

-- CROSS JOIN: Cartesian product
SELECT * FROM A CROSS JOIN B;
\`\`\``,examples:[{question:"Find all employees and their department names (some employees may not have a department).",solution:"```sql\nSELECT e.name, d.dept_name\nFROM employees e\nLEFT JOIN departments d ON e.dept_id = d.id;\n```\nUse LEFT JOIN to include employees without a department (d.dept_name will be NULL)."}],practice:[{question:"Which JOIN returns only rows with matches in BOTH tables?",options:["LEFT JOIN","RIGHT JOIN","INNER JOIN","FULL JOIN"],answer:2}]}]},{id:"dbms_ch2",number:2,title:"Normalization",topics:[{id:"dbms_ch2_t1",title:"Normal Forms (1NF to BCNF)",concept:`**Normalization** reduces data redundancy and improves data integrity.

### 1NF (First Normal Form)
- Atomic values (no repeating groups)
- Each column has a single value

### 2NF
- In 1NF
- No **partial dependency** (non-key attribute depends on part of composite key)

### 3NF
- In 2NF
- No **transitive dependency** (non-key  non-key  key)

### BCNF (Boyce-Codd)
- Stronger than 3NF
- For every FD X  Y, X must be a super key

### Anomalies removed by Normalization
- **Insertion anomaly**: Can't insert without unrelated data
- **Deletion anomaly**: Deleting one fact deletes another
- **Update anomaly**: Must update multiple rows`,examples:[{question:"Is this in 3NF? StudentIDCourseIDInstructor, InstructorDepartment",solution:`**No  transitive dependency exists**: StudentID,CourseID  Instructor  Department
Department depends on Instructor (non-key), not on the primary key directly.
**Fix**: Split into two tables:
1. Enrollment(StudentID, CourseID, Instructor)
2. InstructorDept(Instructor, Department)`}],practice:[{question:"Transitive dependency is eliminated in:",options:["1NF","2NF","3NF","BCNF"],answer:2}]}]}]},{id:"cn",name:"Computer Networks",icon:"",color:"#0ea5e9",description:"OSI Model, TCP/IP, HTTP, DNS, Routing Protocols",chapters:[{id:"cn_ch1",number:1,title:"OSI and TCP/IP Model",topics:[{id:"cn_ch1_t1",title:"OSI 7-Layer Model",concept:`### OSI Model Layers (Top to Bottom)
| Layer | Name | Protocol | Function |
|---|---|---|---|
| 7 | Application | HTTP, FTP, SMTP | User interface |
| 6 | Presentation | SSL, JPEG | Data format, encryption |
| 5 | Session | NetBIOS | Sessions between apps |
| 4 | Transport | TCP, UDP | End-to-end delivery |
| 3 | Network | IP, ICMP | Routing |
| 2 | Data Link | Ethernet, MAC | Frames, error detection |
| 1 | Physical | Cables, Wi-Fi | Bits over medium |

**Mnemonic**: **A**ll **P**eople **S**eem **T**o **N**eed **D**ata **P**rocessing`,examples:[{question:"At which OSI layer does routing occur?",solution:"**Layer 3  Network Layer**. Routers operate at this layer. IP addresses are used for logical addressing and routing packets from source to destination across multiple networks."}],practice:[{question:"TCP/UDP operate at which layer?",options:["Layer 2","Layer 3","Layer 4","Layer 5"],answer:2}]}]}]},{id:"oops",name:"Object Oriented Programming",icon:"",color:"#f97316",description:"OOP Concepts, Design Patterns, SOLID Principles",chapters:[{id:"oops_ch1",number:1,title:"Core OOP Concepts",topics:[{id:"oops_ch1_t1",title:"Inheritance, Polymorphism, Encapsulation",concept:`### The Four Pillars of OOP

**1. Encapsulation**
Bundling data + methods; hiding internal state.
\`\`\`java
private int balance;  // hidden
public int getBalance() { return balance; }  // controlled access
\`\`\`

**2. Inheritance**
Child class inherits properties of parent.
\`\`\`java
class Animal { void speak() {} }
class Dog extends Animal { void speak() { System.out.println("Woof"); } }
\`\`\`

**3. Polymorphism**
- Compile-time (overloading): Same method name, different params
- Runtime (overriding): Child class overrides parent method

**4. Abstraction**
- Abstract classes & interfaces hide implementation details
- Show only what is necessary`,examples:[{question:"Difference between Abstract Class and Interface.",solution:`**Abstract Class**:
- Can have concrete + abstract methods
- Can have state (fields)
- Single inheritance only
- Use when: sharing default implementation

**Interface**:
- All methods abstract (Java 8+: default methods)
- No state (only constants)
- Multiple implementation allowed
- Use when: defining a contract/capability`}],practice:[{question:"Method overloading is an example of:",options:["Runtime polymorphism","Compile-time polymorphism","Inheritance","Abstraction"],answer:1}]}]}]}],pL={subjects:fL},mL=[{code:"en",name:"English",native:"English"},{code:"hi",name:"Hindi",native:""},{code:"ta",name:"Tamil",native:""},{code:"te",name:"Telugu",native:""},{code:"bn",name:"Bengali",native:""},{code:"kn",name:"Kannada",native:""},{code:"mr",name:"Marathi",native:""},{code:"gu",name:"Gujarati",native:""},{code:"ml",name:"Malayalam",native:""},{code:"pa",name:"Punjabi",native:""}];function yT(t,e=null){switch(t){case"10":return{type:"grade",subjects:D_.subjects};case"11":return e&&Qi.streams[e]?{type:"stream",subjects:Qi.streams[e].subjects}:{type:"stream",subjects:Qi.streams.pcm.subjects};case"12":return e&&Qi.streams[e]?{type:"stream",subjects:Qi.streams[e].subjects}:{type:"stream",subjects:Qi.streams.pcm.subjects};case"engineering":return{type:"engineering",subjects:pL.subjects};default:return{type:"grade",subjects:D_.subjects}}}function vT(t,e,n){const{subjects:r}=yT(t,e);return r.find(i=>i.id===n)||null}function L_(t,e,n,r){const i=vT(t,e,n);return i&&i.chapters.find(s=>s.id===r)||null}const dc=[{value:"10",label:"Class 10"},{value:"11",label:"Class 11"},{value:"12",label:"Class 12"},{value:"engineering",label:"Engineering / B.Tech"}],Xm={11:[{value:"pcm",label:"PCM (Physics, Chemistry, Maths)"},{value:"pcb",label:"PCB (Physics, Chemistry, Biology)"}],12:[{value:"pcm",label:"PCM (Physics, Chemistry, Maths)"},{value:"pcb",label:"PCB (Physics, Chemistry, Biology)"}]},_T=V.createContext(null);function Kl({children:t}){const{profile:e}=pr(),n=(e==null?void 0:e.class)||"10",r=(e==null?void 0:e.stream)||null,[i,s]=V.useState(null),[o,a]=V.useState(null),[u,c]=V.useState(null),[h,d]=V.useState((e==null?void 0:e.preferredLanguage)||"en"),{subjects:p}=yT(n,r),m=i?vT(n,r,i):null,E=i&&o?L_(n,r,i,o):null,k=E&&u&&E.topics.find(R=>R.id===u)||null,D=(E==null?void 0:E.topics)||[],v=(m==null?void 0:m.chapters)||[],w=V.useCallback(R=>{s(R),a(null),c(null)},[]),T=V.useCallback(R=>{var x,S;a(R);const I=i?L_(n,r,i,R):null;c(((S=(x=I==null?void 0:I.topics)==null?void 0:x[0])==null?void 0:S.id)||null)},[i,n,r]),L=V.useCallback(R=>c(R),[]),U={userClass:n,userStream:r,subjects:p,chapters:v,topics:D,selectedSubjectId:i,selectedChapterId:o,selectedTopicId:u,selectedSubject:m,selectedChapter:E,selectedTopic:k,language:h,setLanguage:d,selectSubject:w,selectChapter:T,selectTopic:L};return y.jsx(_T.Provider,{value:U,children:t})}function Zc(){const t=V.useContext(_T);if(!t)throw new Error("useLearning must be used inside LearningProvider");return t}const wT=V.createContext(null);function Gl({children:t}){const{user:e}=pr(),[n,r]=V.useState({}),[i,s]=V.useState(!1);V.useEffect(()=>{if(!e){r({});return}s(!0),lL(e.uid).then(h=>{r(h||{}),s(!1)}).catch(()=>s(!1))},[e]);const o=V.useCallback(async(h,d={})=>{!e||n[h]||(await aL(e.uid,h,d),r(p=>({...p,[h]:{completedAt:new Date().toISOString(),...d}})))},[e,n]),a=V.useCallback(h=>!!n[h],[n]),u=V.useCallback((h=[])=>{const d=h.flatMap(m=>m.topics||[]);if(!d.length)return 0;const p=d.filter(m=>n[m.id]).length;return Math.round(p/d.length*100)},[n]),c=V.useCallback((h=[])=>{if(!h.length)return 0;const d=h.filter(p=>n[p.id]).length;return Math.round(d/h.length*100)},[n]);return y.jsx(wT.Provider,{value:{progress:n,loading:i,markComplete:o,isComplete:a,subjectProgress:u,chapterProgress:c},children:t})}function eh(){const t=V.useContext(wT);if(!t)throw new Error("useProgress must be used inside ProgressProvider");return t}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(t,e)=>{const n=V.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:u,...c},h)=>V.createElement("svg",{ref:h,...gL,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${yL(t)}`,a].join(" "),...c},[...e.map(([d,p])=>V.createElement(d,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=Ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Ee("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Ee("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=Ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Ee("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=Ee("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=Ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=Ee("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),DL=[{icon:_L,title:"AI Concept Coach",desc:"Step-by-step hints and mastery tracking powered by LLaMA 3",color:"from-indigo-500 to-purple-600"},{icon:IL,title:"Multilingual",desc:"Learn in Hindi, Tamil, Telugu, Bengali and 7 more Indian languages",color:"from-emerald-500 to-teal-600"},{icon:rl,title:"NCERT Aligned",desc:"Class 10, 12, and Engineering CS  curated curriculum context",color:"from-amber-500 to-orange-600"},{icon:NL,title:"Progress Tracking",desc:"Spaced repetition, mastery tracking, and exam readiness insights",color:"from-rose-500 to-pink-600"}],LL=[{label:"Class 10",desc:"Maths, Science, SST, English, Hindi",emoji:""},{label:"Class 12",desc:"PCM, PCB streams",emoji:""},{label:"Engineering",desc:"DSA, OS, DBMS, CN, OOP",emoji:""}];function ML(){return y.jsxs("div",{className:"min-h-screen bg-[#0b0b18] overflow-hidden",children:[y.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-indigo-600/15 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute top-1/3 right-1/4 w-80 h-80 bg-purple-600/10 rounded-full blur-[100px]"}),y.jsx("div",{className:"absolute bottom-0 left-1/3 w-72 h-72 bg-blue-600/10 rounded-full blur-[100px]"})]}),y.jsxs("nav",{className:"relative z-10 max-w-7xl mx-auto px-6 h-16 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:y.jsx(Bs,{className:"w-4 h-4 text-white"})}),y.jsxs("span",{className:"font-bold text-white text-base",children:["Vidya",y.jsx("span",{className:"gradient-text",children:"AI"})]})]}),y.jsxs(vt,{to:"/auth",className:"btn-primary text-sm",children:["Get Started ",y.jsx(Es,{className:"w-4 h-4"})]})]}),y.jsxs("section",{className:"relative z-10 max-w-5xl mx-auto px-6 pt-20 pb-16 text-center",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 glass rounded-full px-4 py-1.5 mb-6 text-xs text-indigo-300 border border-indigo-500/20",children:[y.jsx(Bs,{className:"w-3 h-3"}),"Powered by LLaMA 3  AMD Hackathon 2026"]}),y.jsxs("h1",{className:"text-5xl sm:text-6xl font-extrabold text-white mb-6 leading-tight",children:["Learn Smarter with",y.jsx("br",{}),y.jsx("span",{className:"gradient-text",children:"AI Personalised Coaching"})]}),y.jsxs("p",{className:"text-xl text-white/50 mb-10 max-w-2xl mx-auto leading-relaxed",children:["Your AI tutor that explains concepts step-by-step, answers questions in your language, and adapts to how ",y.jsx("em",{children:"you"})," learn."]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[y.jsxs(vt,{to:"/auth",className:"btn-primary text-base px-8 py-3 animate-pulse-glow",children:["Start Learning Free ",y.jsx(Es,{className:"w-5 h-5"})]}),y.jsx(vt,{to:"/auth",className:"btn-secondary text-base px-8 py-3",children:"Explore Curriculum"})]}),y.jsx("div",{className:"flex flex-wrap justify-center gap-3 mt-10",children:LL.map(t=>y.jsxs("div",{className:"glass rounded-xl px-4 py-2.5 flex items-center gap-2 text-sm",children:[y.jsx("span",{className:"text-lg",children:t.emoji}),y.jsxs("div",{className:"text-left",children:[y.jsx("div",{className:"font-semibold text-white text-xs",children:t.label}),y.jsx("div",{className:"text-white/40 text-xs",children:t.desc})]})]},t.label))})]}),y.jsxs("section",{className:"relative z-10 max-w-5xl mx-auto px-6 py-16",children:[y.jsxs("h2",{className:"text-2xl font-bold text-white text-center mb-10",children:["Everything you need to ",y.jsx("span",{className:"gradient-text",children:"master your subjects"})]}),y.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:DL.map(t=>y.jsxs("div",{className:"glass rounded-2xl p-5 card-hover",children:[y.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${t.color} flex items-center justify-center mb-4`,children:y.jsx(t.icon,{className:"w-5 h-5 text-white"})}),y.jsx("h3",{className:"font-semibold text-white mb-1 text-sm",children:t.title}),y.jsx("p",{className:"text-white/40 text-xs leading-relaxed",children:t.desc})]},t.title))})]}),y.jsx("section",{className:"relative z-10 max-w-5xl mx-auto px-6 pb-16",children:y.jsxs("div",{className:"glass rounded-2xl p-6 sm:p-10 text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"The 3-Panel Learning Experience"}),y.jsx("p",{className:"text-white/40 text-sm mb-8",children:"Designed for deep focus  browse topics, read enriched content, chat with AI  all in one view"}),y.jsx("div",{className:"grid grid-cols-3 gap-3 text-left max-w-3xl mx-auto",children:[{label:"Topics",icon:"",desc:"Browse & track completion",color:"border-indigo-500/40"},{label:"Content",icon:"",desc:"Concept  Examples  Practice  in any language",color:"border-purple-500/40"},{label:"AI Tutor",icon:"",desc:"Multilingual chat, step-by-step hints",color:"border-blue-500/40"}].map(t=>y.jsxs("div",{className:`glass rounded-xl p-4 border ${t.color}`,children:[y.jsx("div",{className:"text-2xl mb-2",children:t.icon}),y.jsx("div",{className:"font-semibold text-white text-sm mb-1",children:t.label}),y.jsx("div",{className:"text-white/40 text-xs",children:t.desc})]},t.label))})]})}),y.jsxs("section",{className:"relative z-10 text-center pb-20 px-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ready to ace your exams?"}),y.jsxs(vt,{to:"/auth",className:"btn-primary text-base px-10 py-3",children:["Get Started  It's Free ",y.jsx(Es,{className:"w-5 h-5"})]})]})]})}function VL(){const[t,e]=V.useState("login"),[n,r]=V.useState({name:"",email:"",password:"",class:"10",stream:""}),[i,s]=V.useState(!1),[o,a]=V.useState(!1),u=hr(),c=(m,E)=>r(k=>({...k,[m]:E})),h=async m=>{m.preventDefault(),a(!0);try{if(t==="signup"){const E=await rL(n.email,n.password,n.name);await $f(E.uid,{displayName:n.name,email:n.email,class:n.class,stream:n.stream||null}),Wt.success("Welcome to VidyaAI! ")}else await iL(n.email,n.password),Wt.success("Welcome back!");u("/subjects")}catch(E){const k=E.code==="auth/invalid-credential"?"Invalid email or password":E.code==="auth/email-already-in-use"?"Email already registered":E.code==="auth/weak-password"?"Password must be at least 6 characters":E.message;Wt.error(k)}finally{a(!1)}},d=async()=>{a(!0);try{const m=await sL();await $f(m.uid,{displayName:m.displayName,email:m.email,class:"10",stream:null}),Wt.success("Signed in with Google!"),u("/subjects")}catch{Wt.error("Google sign-in failed")}finally{a(!1)}},p=Xm[n.class];return y.jsxs("div",{className:"min-h-screen bg-[#0b0b18] flex items-center justify-center px-4 relative overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-indigo-600/15 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-purple-600/12 rounded-full blur-[100px]"})]}),y.jsxs("div",{className:"relative z-10 w-full max-w-md animate-fade-in",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs(vt,{to:"/",className:"inline-flex items-center gap-2 mb-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:y.jsx(Bs,{className:"w-5 h-5 text-white"})}),y.jsxs("span",{className:"font-bold text-white text-xl",children:["Vidya",y.jsx("span",{className:"gradient-text",children:"AI"})]})]}),y.jsx("p",{className:"text-white/40 text-sm",children:"Your personalised AI learning companion"})]}),y.jsxs("div",{className:"glass-strong rounded-2xl p-8",children:[y.jsx("div",{className:"flex bg-white/5 rounded-xl p-1 mb-6",children:["login","signup"].map(m=>y.jsx("button",{onClick:()=>e(m),className:`flex-1 py-2 text-sm font-medium rounded-lg capitalize transition-all ${t===m?"bg-indigo-600 text-white shadow-lg":"text-white/40 hover:text-white"}`,children:m==="login"?"Log In":"Sign Up"},m))}),y.jsxs("form",{onSubmit:h,className:"space-y-4",children:[t==="signup"&&y.jsxs("div",{className:"relative",children:[y.jsx(th,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30"}),y.jsx("input",{type:"text",placeholder:"Full name",value:n.name,onChange:m=>c("name",m.target.value),required:!0,className:"input-field pl-10"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(AL,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30"}),y.jsx("input",{type:"email",placeholder:"Email address",value:n.email,onChange:m=>c("email",m.target.value),required:!0,className:"input-field pl-10"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(CL,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30"}),y.jsx("input",{type:i?"text":"password",placeholder:"Password",value:n.password,onChange:m=>c("password",m.target.value),required:!0,className:"input-field pl-10 pr-10"}),y.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/30 hover:text-white/60",children:i?y.jsx(EL,{className:"w-4 h-4"}):y.jsx(TL,{className:"w-4 h-4"})})]}),t==="signup"&&y.jsxs(y.Fragment,{children:[y.jsx("select",{value:n.class,onChange:m=>c("class",m.target.value),className:"input-field cursor-pointer",children:dc.map(m=>y.jsx("option",{value:m.value,className:"bg-[#1a1a2e]",children:m.label},m.value))}),p&&y.jsxs("select",{value:n.stream,onChange:m=>c("stream",m.target.value),className:"input-field cursor-pointer",required:!0,children:[y.jsx("option",{value:"",children:"Select stream"}),p.map(m=>y.jsx("option",{value:m.value,className:"bg-[#1a1a2e]",children:m.label},m.value))]})]}),y.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full justify-center py-3 text-sm",children:o?y.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):y.jsxs(y.Fragment,{children:[t==="login"?"Log In":"Create Account"," ",y.jsx(Es,{className:"w-4 h-4"})]})})]}),y.jsxs("div",{className:"flex items-center gap-3 my-4",children:[y.jsx("div",{className:"flex-1 h-px bg-white/10"}),y.jsx("span",{className:"text-white/30 text-xs",children:"or continue with"}),y.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),y.jsxs("button",{onClick:d,disabled:o,className:"btn-secondary w-full justify-center py-3 text-sm",children:[y.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]})]})]})}function jL(){const{user:t,refreshProfile:e}=pr(),n=hr(),[r,i]=V.useState("10"),[s,o]=V.useState(""),[a,u]=V.useState(!1),c=Xm[r],h=async()=>{if(c&&!s){Wt.error("Please select a stream");return}u(!0);try{await mT(t.uid,{class:r,stream:s||null}),await e(),Wt.success("Profile saved!"),n("/subjects")}catch{Wt.error("Failed to save profile")}finally{u(!1)}};return y.jsxs("div",{className:"min-h-screen bg-[#0b0b18] flex items-center justify-center px-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none",children:y.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-indigo-600/15 rounded-full blur-[120px]"})}),y.jsxs("div",{className:"relative z-10 w-full max-w-md animate-fade-in",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mx-auto mb-4 shadow-xl",children:y.jsx(SL,{className:"w-7 h-7 text-white"})}),y.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Tell us about yourself"}),y.jsx("p",{className:"text-white/40 text-sm",children:"We'll personalise your learning experience"})]}),y.jsxs("div",{className:"glass-strong rounded-2xl p-8 space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-semibold text-white/60 uppercase tracking-wider mb-3 block",children:"Your Class / Level"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:dc.map(d=>y.jsx("button",{onClick:()=>{i(d.value),o("")},className:`py-3 px-4 rounded-xl text-sm font-medium transition-all border ${r===d.value?"bg-indigo-600/40 border-indigo-500 text-white":"bg-white/5 border-white/10 text-white/50 hover:text-white hover:border-white/20"}`,children:d.label},d.value))})]}),c&&y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-semibold text-white/60 uppercase tracking-wider mb-3 block",children:"Your Stream"}),y.jsx("div",{className:"space-y-2",children:c.map(d=>y.jsx("button",{onClick:()=>o(d.value),className:`w-full py-3 px-4 rounded-xl text-sm text-left font-medium transition-all border ${s===d.value?"bg-indigo-600/40 border-indigo-500 text-white":"bg-white/5 border-white/10 text-white/50 hover:text-white hover:border-white/20"}`,children:d.label},d.value))})]}),y.jsx("button",{onClick:h,disabled:a,className:"btn-primary w-full justify-center py-3",children:a?y.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):y.jsxs(y.Fragment,{children:["Start Learning ",y.jsx(Es,{className:"w-4 h-4"})]})})]})]})]})}function FL({pct:t,size:e=40,stroke:n=3}){const r=(e-n*2)/2,i=2*Math.PI*r,s=i-t/100*i;return y.jsxs("svg",{width:e,height:e,className:"progress-ring flex-shrink-0",children:[y.jsx("circle",{cx:e/2,cy:e/2,r,strokeWidth:n,stroke:"rgba(255,255,255,0.08)",fill:"none"}),y.jsx("circle",{cx:e/2,cy:e/2,r,strokeWidth:n,stroke:"#6366f1",fill:"none",strokeLinecap:"round",strokeDasharray:i,strokeDashoffset:s,style:{transition:"stroke-dashoffset 0.5s ease"}})]})}function UL(){var i;const{subjects:t}=Zc(),{subjectProgress:e}=eh(),{profile:n}=pr(),r=hr();return y.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"mb-8 flex items-start justify-between gap-4",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl font-bold text-white mb-1",children:["Welcome back, ",y.jsx("span",{className:"gradient-text",children:((i=n==null?void 0:n.displayName)==null?void 0:i.split(" ")[0])||"Student"})," "]}),y.jsxs("p",{className:"text-white/40 text-sm",children:[(n==null?void 0:n.class)==="engineering"?"Engineering subjects":`Class ${n==null?void 0:n.class} ${n!=null&&n.stream?` ${n.stream.toUpperCase()}`:""}`,"  pick a subject to continue"]})]}),y.jsxs(vt,{to:"/profile",className:"btn-secondary text-xs py-2 px-3 flex-shrink-0",children:[y.jsx(Hf,{className:"w-3.5 h-3.5"})," Profile"]})]}),t.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx("p",{className:"text-white/30 mb-4",children:"No subjects found for your class/stream."}),y.jsx(vt,{to:"/profile",className:"btn-primary",children:"Update Profile"})]}):y.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((s,o)=>{var u;const a=e(s.chapters||[]);return y.jsxs("div",{onClick:()=>r(`/chapters/${s.id}`),className:"glass rounded-2xl p-5 card-hover cursor-pointer group animate-fade-in",style:{animationDelay:`${o*60}ms`},children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl flex-shrink-0",style:{background:`${s.color}22`,border:`1px solid ${s.color}44`},children:s.icon}),y.jsx(FL,{pct:a})]}),y.jsx("h2",{className:"font-bold text-white text-base mb-1 group-hover:text-indigo-300 transition-colors",children:s.name}),y.jsx("p",{className:"text-white/40 text-xs mb-4 line-clamp-2",children:s.description}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-white/30",children:[y.jsx(rl,{className:"w-3.5 h-3.5"}),((u=s.chapters)==null?void 0:u.length)||0," chapters"]}),y.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-400",children:[a,"% done ",y.jsx(Es,{className:"w-3.5 h-3.5"})]})]}),y.jsx("div",{className:"mt-3 h-1 bg-white/5 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${a}%`,background:s.color}})})]},s.id)})})]})}function zL({pct:t,color:e="#6366f1"}){return y.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${t}%`,background:e}})})}function BL(){var a;const{subjectId:t}=K1(),e=hr(),{subjects:n,selectedSubject:r,selectSubject:i}=Zc(),{chapterProgress:s}=eh();V.useEffect(()=>{t&&i(t)},[t,i]);const o=r||n.find(u=>u.id===t);return o?y.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-6 text-sm text-white/40",children:[y.jsxs(vt,{to:"/subjects",className:"hover:text-white flex items-center gap-1 transition-colors",children:[y.jsx(xT,{className:"w-4 h-4"})," Subjects"]}),y.jsx("span",{children:"/"}),y.jsx("span",{className:"text-white/70",children:o.name})]}),y.jsxs("div",{className:"glass rounded-2xl p-6 mb-6 flex items-center gap-4",children:[y.jsx("div",{className:"w-14 h-14 rounded-xl text-3xl flex items-center justify-center flex-shrink-0",style:{background:`${o.color}22`,border:`1px solid ${o.color}44`},children:o.icon}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-white",children:o.name}),y.jsx("p",{className:"text-white/40 text-sm",children:o.description})]}),y.jsxs("div",{className:"ml-auto text-right hidden sm:block",children:[y.jsx("div",{className:"text-2xl font-bold text-white",children:(a=o.chapters)==null?void 0:a.length}),y.jsx("div",{className:"text-white/40 text-xs",children:"chapters"})]})]}),y.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(o.chapters||[]).map((u,c)=>{var p;const h=s(u.topics||[]),d=h===100;return y.jsxs("div",{onClick:()=>e(`/learn/${o.id}/${u.id}`),className:"glass rounded-2xl p-5 card-hover cursor-pointer group animate-fade-in",style:{animationDelay:`${c*50}ms`},children:[y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[y.jsxs("div",{className:"px-2 py-0.5 rounded-md text-xs font-mono text-white/40 bg-white/5",children:["Ch. ",String(u.number).padStart(2,"0")]}),d&&y.jsx(qf,{className:"w-4 h-4 text-emerald-400"})]}),y.jsx("h3",{className:"font-semibold text-white mb-2 text-sm group-hover:text-indigo-300 transition-colors leading-snug",children:u.title}),y.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-white/30 mb-3",children:[y.jsx(rl,{className:"w-3.5 h-3.5"}),((p=u.topics)==null?void 0:p.length)||0," topics"]}),y.jsx(zL,{pct:h,color:o.color}),y.jsxs("div",{className:"text-right mt-1 text-xs text-white/30",children:[h,"% complete"]})]},u.id)})})]}):y.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-10 text-center",children:[y.jsx("p",{className:"text-white/40",children:"Subject not found."}),y.jsx(vt,{to:"/subjects",className:"btn-primary mt-4",children:"Back to Subjects"})]})}async function $L({messages:t,context:e,language:n}){return{role:"assistant",content:` **VidyaAI Demo Mode**

I'm your AI tutor! To enable live AI responses, please add your Groq API key to the \`.env\` file.

Get a free key at [console.groq.com](https://console.groq.com)  it takes 30 seconds!

For now, I can tell you that **${(e==null?void 0:e.topic)||"this topic"}** is a great choice to study. `}}const qL={hi:"Hindi ()",ta:"Tamil ()",te:"Telugu ()",bn:"Bengali ()",kn:"Kannada ()",mr:"Marathi ()",gu:"Gujarati ()",ml:"Malayalam ()",pa:"Punjabi ()",en:"English"},V_=new Map;async function j_(t,e,n=""){if(e==="en")return t;const r=`${n}|${e}`;return V_.has(r)?V_.get(r):`[${qL[e]||e} translation would appear here]

${t}`}function HL(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const WL=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,KL=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,GL={};function F_(t,e){return(GL.jsx?KL:WL).test(t)}const QL=/[ \t\n\f\r]/g;function YL(t){return typeof t=="object"?t.type==="text"?U_(t.value):!1:U_(t)}function U_(t){return t.replace(QL,"")===""}class il{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}il.prototype.normal={};il.prototype.property={};il.prototype.space=void 0;function kT(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new il(n,r,e)}function Wf(t){return t.toLowerCase()}class Ft{constructor(e,n){this.attribute=n,this.property=e}}Ft.prototype.attribute="";Ft.prototype.booleanish=!1;Ft.prototype.boolean=!1;Ft.prototype.commaOrSpaceSeparated=!1;Ft.prototype.commaSeparated=!1;Ft.prototype.defined=!1;Ft.prototype.mustUseProperty=!1;Ft.prototype.number=!1;Ft.prototype.overloadedBoolean=!1;Ft.prototype.property="";Ft.prototype.spaceSeparated=!1;Ft.prototype.space=void 0;let XL=0;const oe=zi(),We=zi(),Kf=zi(),H=zi(),ke=zi(),Ts=zi(),qt=zi();function zi(){return 2**++XL}const Gf=Object.freeze(Object.defineProperty({__proto__:null,boolean:oe,booleanish:We,commaOrSpaceSeparated:qt,commaSeparated:Ts,number:H,overloadedBoolean:Kf,spaceSeparated:ke},Symbol.toStringTag,{value:"Module"})),od=Object.keys(Gf);class Jm extends Ft{constructor(e,n,r,i){let s=-1;if(super(e,n),z_(this,"space",i),typeof r=="number")for(;++s<od.length;){const o=od[s];z_(this,od[s],(r&Gf[o])===Gf[o])}}}Jm.prototype.defined=!0;function z_(t,e,n){n&&(t[e]=n)}function Zs(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new Jm(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[Wf(r)]=r,n[Wf(s.attribute)]=r}return new il(e,n,t.space)}const CT=Zs({properties:{ariaActiveDescendant:null,ariaAtomic:We,ariaAutoComplete:null,ariaBusy:We,ariaChecked:We,ariaColCount:H,ariaColIndex:H,ariaColSpan:H,ariaControls:ke,ariaCurrent:null,ariaDescribedBy:ke,ariaDetails:null,ariaDisabled:We,ariaDropEffect:ke,ariaErrorMessage:null,ariaExpanded:We,ariaFlowTo:ke,ariaGrabbed:We,ariaHasPopup:null,ariaHidden:We,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ke,ariaLevel:H,ariaLive:null,ariaModal:We,ariaMultiLine:We,ariaMultiSelectable:We,ariaOrientation:null,ariaOwns:ke,ariaPlaceholder:null,ariaPosInSet:H,ariaPressed:We,ariaReadOnly:We,ariaRelevant:null,ariaRequired:We,ariaRoleDescription:ke,ariaRowCount:H,ariaRowIndex:H,ariaRowSpan:H,ariaSelected:We,ariaSetSize:H,ariaSort:null,ariaValueMax:H,ariaValueMin:H,ariaValueNow:H,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function AT(t,e){return e in t?t[e]:e}function PT(t,e){return AT(t,e.toLowerCase())}const JL=Zs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ts,acceptCharset:ke,accessKey:ke,action:null,allow:null,allowFullScreen:oe,allowPaymentRequest:oe,allowUserMedia:oe,alt:null,as:null,async:oe,autoCapitalize:null,autoComplete:ke,autoFocus:oe,autoPlay:oe,blocking:ke,capture:null,charSet:null,checked:oe,cite:null,className:ke,cols:H,colSpan:null,content:null,contentEditable:We,controls:oe,controlsList:ke,coords:H|Ts,crossOrigin:null,data:null,dateTime:null,decoding:null,default:oe,defer:oe,dir:null,dirName:null,disabled:oe,download:Kf,draggable:We,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:oe,formTarget:null,headers:ke,height:H,hidden:Kf,high:H,href:null,hrefLang:null,htmlFor:ke,httpEquiv:ke,id:null,imageSizes:null,imageSrcSet:null,inert:oe,inputMode:null,integrity:null,is:null,isMap:oe,itemId:null,itemProp:ke,itemRef:ke,itemScope:oe,itemType:ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:oe,low:H,manifest:null,max:null,maxLength:H,media:null,method:null,min:null,minLength:H,multiple:oe,muted:oe,name:null,nonce:null,noModule:oe,noValidate:oe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:oe,optimum:H,pattern:null,ping:ke,placeholder:null,playsInline:oe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:oe,referrerPolicy:null,rel:ke,required:oe,reversed:oe,rows:H,rowSpan:H,sandbox:ke,scope:null,scoped:oe,seamless:oe,selected:oe,shadowRootClonable:oe,shadowRootDelegatesFocus:oe,shadowRootMode:null,shape:null,size:H,sizes:null,slot:null,span:H,spellCheck:We,src:null,srcDoc:null,srcLang:null,srcSet:null,start:H,step:null,style:null,tabIndex:H,target:null,title:null,translate:null,type:null,typeMustMatch:oe,useMap:null,value:We,width:H,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ke,axis:null,background:null,bgColor:null,border:H,borderColor:null,bottomMargin:H,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:oe,declare:oe,event:null,face:null,frame:null,frameBorder:null,hSpace:H,leftMargin:H,link:null,longDesc:null,lowSrc:null,marginHeight:H,marginWidth:H,noResize:oe,noHref:oe,noShade:oe,noWrap:oe,object:null,profile:null,prompt:null,rev:null,rightMargin:H,rules:null,scheme:null,scrolling:We,standby:null,summary:null,text:null,topMargin:H,valueType:null,version:null,vAlign:null,vLink:null,vSpace:H,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:oe,disableRemotePlayback:oe,prefix:null,property:null,results:H,security:null,unselectable:null},space:"html",transform:PT}),ZL=Zs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:qt,accentHeight:H,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:H,amplitude:H,arabicForm:null,ascent:H,attributeName:null,attributeType:null,azimuth:H,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:H,by:null,calcMode:null,capHeight:H,className:ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:H,diffuseConstant:H,direction:null,display:null,dur:null,divisor:H,dominantBaseline:null,download:oe,dx:null,dy:null,edgeMode:null,editable:null,elevation:H,enableBackground:null,end:null,event:null,exponent:H,externalResourcesRequired:null,fill:null,fillOpacity:H,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ts,g2:Ts,glyphName:Ts,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:H,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:H,horizOriginX:H,horizOriginY:H,id:null,ideographic:H,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:H,k:H,k1:H,k2:H,k3:H,k4:H,kernelMatrix:qt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:H,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:H,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:H,overlineThickness:H,paintOrder:null,panose1:null,path:null,pathLength:H,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:H,pointsAtY:H,pointsAtZ:H,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:qt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:qt,rev:qt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:qt,requiredFeatures:qt,requiredFonts:qt,requiredFormats:qt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:H,specularExponent:H,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:H,strikethroughThickness:H,string:null,stroke:null,strokeDashArray:qt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:H,strokeOpacity:H,strokeWidth:null,style:null,surfaceScale:H,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:qt,tabIndex:H,tableValues:null,target:null,targetX:H,targetY:H,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:qt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:H,underlineThickness:H,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:H,values:null,vAlphabetic:H,vMathematical:H,vectorEffect:null,vHanging:H,vIdeographic:H,version:null,vertAdvY:H,vertOriginX:H,vertOriginY:H,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:H,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:AT}),bT=Zs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),RT=Zs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:PT}),NT=Zs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),e4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},t4=/[A-Z]/g,B_=/-[a-z]/g,n4=/^data[-\w.:]+$/i;function r4(t,e){const n=Wf(e);let r=e,i=Ft;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&n4.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(B_,s4);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!B_.test(s)){let o=s.replace(t4,i4);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Jm}return new i(r,e)}function i4(t){return"-"+t.toLowerCase()}function s4(t){return t.charAt(1).toUpperCase()}const o4=kT([CT,JL,bT,RT,NT],"html"),Zm=kT([CT,ZL,bT,RT,NT],"svg");function a4(t){return t.join(" ").trim()}var eg={},$_=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,l4=/\n/g,u4=/^\s*/,c4=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,h4=/^:\s*/,d4=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,f4=/^[;\s]*/,p4=/^\s+|\s+$/g,m4=`
`,q_="/",H_="*",gi="",g4="comment",y4="declaration";function v4(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(E){var k=E.match(l4);k&&(n+=k.length);var D=E.lastIndexOf(m4);r=~D?E.length-D:r+E.length}function s(){var E={line:n,column:r};return function(k){return k.position=new o(E),c(),k}}function o(E){this.start=E,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(E){var k=new Error(e.source+":"+n+":"+r+": "+E);if(k.reason=E,k.filename=e.source,k.line=n,k.column=r,k.source=t,!e.silent)throw k}function u(E){var k=E.exec(t);if(k){var D=k[0];return i(D),t=t.slice(D.length),k}}function c(){u(u4)}function h(E){var k;for(E=E||[];k=d();)k!==!1&&E.push(k);return E}function d(){var E=s();if(!(q_!=t.charAt(0)||H_!=t.charAt(1))){for(var k=2;gi!=t.charAt(k)&&(H_!=t.charAt(k)||q_!=t.charAt(k+1));)++k;if(k+=2,gi===t.charAt(k-1))return a("End of comment missing");var D=t.slice(2,k-2);return r+=2,i(D),t=t.slice(k),r+=2,E({type:g4,comment:D})}}function p(){var E=s(),k=u(c4);if(k){if(d(),!u(h4))return a("property missing ':'");var D=u(d4),v=E({type:y4,property:W_(k[0].replace($_,gi)),value:D?W_(D[0].replace($_,gi)):gi});return u(f4),v}}function m(){var E=[];h(E);for(var k;k=p();)k!==!1&&(E.push(k),h(E));return E}return c(),m()}function W_(t){return t?t.replace(p4,gi):gi}var _4=v4,w4=Tu&&Tu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eg,"__esModule",{value:!0});eg.default=E4;const x4=w4(_4);function E4(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,x4.default)(t),i=typeof e=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:a}=s;i?e(o,a,s):a&&(n=n||{},n[o]=a)}),n}var nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.camelCase=void 0;var T4=/^--[a-zA-Z0-9_-]+$/,I4=/-([a-z])/g,S4=/^[^-]+$/,k4=/^-(webkit|moz|ms|o|khtml)-/,C4=/^-(ms)-/,A4=function(t){return!t||S4.test(t)||T4.test(t)},P4=function(t,e){return e.toUpperCase()},K_=function(t,e){return"".concat(e,"-")},b4=function(t,e){return e===void 0&&(e={}),A4(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(C4,K_):t=t.replace(k4,K_),t.replace(I4,P4))};nh.camelCase=b4;var R4=Tu&&Tu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},N4=R4(eg),O4=nh;function Qf(t,e){var n={};return!t||typeof t!="string"||(0,N4.default)(t,function(r,i){r&&i&&(n[(0,O4.camelCase)(r,e)]=i)}),n}Qf.default=Qf;var D4=Qf;const L4=rp(D4),OT=DT("end"),tg=DT("start");function DT(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function M4(t){const e=tg(t),n=OT(t);if(e&&n)return{start:e,end:n}}function na(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?G_(t.position):"start"in t||"end"in t?G_(t):"line"in t||"column"in t?Yf(t):""}function Yf(t){return Q_(t&&t.line)+":"+Q_(t&&t.column)}function G_(t){return Yf(t&&t.start)+"-"+Yf(t&&t.end)}function Q_(t){return t&&typeof t=="number"?t:1}class Tt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=na(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Tt.prototype.file="";Tt.prototype.name="";Tt.prototype.reason="";Tt.prototype.message="";Tt.prototype.stack="";Tt.prototype.column=void 0;Tt.prototype.line=void 0;Tt.prototype.ancestors=void 0;Tt.prototype.cause=void 0;Tt.prototype.fatal=void 0;Tt.prototype.place=void 0;Tt.prototype.ruleId=void 0;Tt.prototype.source=void 0;const ng={}.hasOwnProperty,V4=new Map,j4=/[A-Z]/g,F4=new Set(["table","tbody","thead","tfoot","tr"]),U4=new Set(["td","th"]),LT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function z4(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Q4(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=G4(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Zm:o4,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=MT(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function MT(t,e,n){if(e.type==="element")return B4(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return $4(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return H4(t,e,n);if(e.type==="mdxjsEsm")return q4(t,e);if(e.type==="root")return W4(t,e,n);if(e.type==="text")return K4(t,e)}function B4(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Zm,t.schema=i),t.ancestors.push(e);const s=jT(t,e.tagName,!1),o=Y4(t,e);let a=ig(t,e);return F4.has(e.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!YL(u):!0})),VT(t,o,s,e),rg(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function $4(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Da(t,e.position)}function q4(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Da(t,e.position)}function H4(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Zm,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:jT(t,e.name,!0),o=X4(t,e),a=ig(t,e);return VT(t,o,s,e),rg(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function W4(t,e,n){const r={};return rg(r,ig(t,e)),t.create(e,t.Fragment,r,n)}function K4(t,e){return e.value}function VT(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function rg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function G4(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function Q4(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=tg(r);return e(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function Y4(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&ng.call(e.properties,i)){const s=J4(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&U4.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function X4(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Da(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Da(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function ig(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:V4;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const a=MT(t,s,o);a!==void 0&&n.push(a)}return n}function J4(t,e,n){const r=r4(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?HL(n):a4(n)),r.property==="style"){let i=typeof n=="object"?n:Z4(t,String(n));return t.stylePropertyNameCase==="css"&&(i=eM(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?e4[r.property]||r.property:r.attribute,n]}}function Z4(t,e){try{return L4(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Tt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=LT+"#cannot-parse-style-attribute",i}}function jT(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=F_(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=F_(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return ng.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Da(t)}function Da(t,e){const n=new Tt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=LT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function eM(t){const e={};let n;for(n in t)ng.call(t,n)&&(e[tM(n)]=t[n]);return e}function tM(t){let e=t.replace(j4,nM);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function nM(t){return"-"+t.toLowerCase()}const ad={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rM={};function iM(t,e){const n=rM,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return FT(t,r,i)}function FT(t,e,n){if(sM(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Y_(t.children,e,n)}return Array.isArray(t)?Y_(t,e,n):""}function Y_(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=FT(t[i],e,n);return r.join("")}function sM(t){return!!(t&&typeof t=="object")}const X_=document.createElement("i");function sg(t){const e="&"+t+";";X_.innerHTML=e;const n=X_.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Vn(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function sn(t,e){return t.length>0?(Vn(t,t.length,0,e),t):e}const J_={}.hasOwnProperty;function oM(t){const e={};let n=-1;for(;++n<t.length;)aM(e,t[n]);return e}function aM(t,e){let n;for(n in e){const i=(J_.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){J_.call(i,o)||(i[o]=[]);const a=s[o];lM(i[o],Array.isArray(a)?a:a?[a]:[])}}}function lM(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Vn(t,0,0,r)}function UT(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Is(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cn=li(/[A-Za-z]/),Qt=li(/[\dA-Za-z]/),uM=li(/[#-'*+\--9=?A-Z^-~]/);function Xf(t){return t!==null&&(t<32||t===127)}const Jf=li(/\d/),cM=li(/[\dA-Fa-f]/),hM=li(/[!-/:-@[-`{-~]/);function te(t){return t!==null&&t<-2}function jt(t){return t!==null&&(t<0||t===32)}function ve(t){return t===-2||t===-1||t===32}const dM=li(new RegExp("\\p{P}|\\p{S}","u")),fM=li(/\s/);function li(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function eo(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Qt(t.charCodeAt(n+1))&&Qt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ae(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return ve(u)?(t.enter(n),a(u)):e(u)}function a(u){return ve(u)&&s++<i?(t.consume(u),a):(t.exit(n),e(u))}}const pM={tokenize:mM};function mM(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ae(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return te(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const gM={tokenize:yM},Z_={tokenize:vM};function yM(t){const e=this,n=[];let r=0,i,s,o;return a;function a(T){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,u,c)(T)}return c(T)}function u(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const L=e.events.length;let U=L,R;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){R=e.events[U][1].end;break}v(r);let I=L;for(;I<e.events.length;)e.events[I][1].end={...R},I++;return Vn(e.events,U+1,0,e.events.slice(L)),e.events.length=I,c(T)}return a(T)}function c(T){if(r===n.length){if(!i)return p(T);if(i.currentConstruct&&i.currentConstruct.concrete)return E(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Z_,h,d)(T)}function h(T){return i&&w(),v(r),p(T)}function d(T){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,E(T)}function p(T){return e.containerState={},t.attempt(Z_,m,E)(T)}function m(T){return r++,n.push([e.currentConstruct,e.containerState]),p(T)}function E(T){if(T===null){i&&w(),v(0),t.consume(T);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),k(T)}function k(T){if(T===null){D(t.exit("chunkFlow"),!0),v(0),t.consume(T);return}return te(T)?(t.consume(T),D(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(T),k)}function D(T,L){const U=e.sliceStream(T);if(L&&U.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(U),e.parser.lazy[T.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<o&&(!i.events[R][1].end||i.events[R][1].end.offset>o))return;const I=e.events.length;let x=I,S,C;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){if(S){C=e.events[x][1].end;break}S=!0}for(v(r),R=I;R<e.events.length;)e.events[R][1].end={...C},R++;Vn(e.events,x+1,0,e.events.slice(I)),e.events.length=R}}function v(T){let L=n.length;for(;L-- >T;){const U=n[L];e.containerState=U[1],U[0].exit.call(e,t)}n.length=T}function w(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function vM(t,e,n){return Ae(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function e0(t){if(t===null||jt(t)||fM(t))return 1;if(dM(t))return 2}function og(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Zf={name:"attention",resolveAll:_M,tokenize:wM};function _M(t,e){let n=-1,r,i,s,o,a,u,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},p={...t[n][1].start};t0(d,-u),t0(p,u),o={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=sn(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=sn(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=sn(c,og(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=sn(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=sn(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Vn(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function wM(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=e0(r);let s;return o;function o(u){return s=u,t.enter("attentionSequence"),a(u)}function a(u){if(u===s)return t.consume(u),a;const c=t.exit("attentionSequence"),h=e0(u),d=!h||h===2&&i||n.includes(u),p=!i||i===2&&h||n.includes(r);return c._open=!!(s===42?d:d&&(i||!p)),c._close=!!(s===42?p:p&&(h||!d)),e(u)}}function t0(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const xM={name:"autolink",tokenize:EM};function EM(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return Cn(m)?(t.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Qt(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(t.consume(m),r=0,u):(m===43||m===45||m===46||Qt(m))&&r++<32?(t.consume(m),a):(r=0,c(m))}function u(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||Xf(m)?n(m):(t.consume(m),u)}function c(m){return m===64?(t.consume(m),h):uM(m)?(t.consume(m),c):n(m)}function h(m){return Qt(m)?d(m):n(m)}function d(m){return m===46?(t.consume(m),r=0,h):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||Qt(m))&&r++<63){const E=m===45?p:d;return t.consume(m),E}return n(m)}}const rh={partial:!0,tokenize:TM};function TM(t,e,n){return r;function r(s){return ve(s)?Ae(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||te(s)?e(s):n(s)}}const zT={continuation:{tokenize:SM},exit:kM,name:"blockQuote",tokenize:IM};function IM(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return ve(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function SM(t,e,n){const r=this;return i;function i(o){return ve(o)?Ae(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(zT,e,n)(o)}}function kM(t){t.exit("blockQuote")}const BT={name:"characterEscape",tokenize:CM};function CM(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return hM(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const $T={name:"characterReference",tokenize:AM};function AM(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),u}function u(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Qt,h(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=cM,h):(t.enter("characterReferenceValue"),s=7,o=Jf,h(d))}function h(d){if(d===59&&i){const p=t.exit("characterReferenceValue");return o===Qt&&!sg(r.sliceSerialize(p))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),h):n(d)}}const n0={partial:!0,tokenize:bM},r0={concrete:!0,name:"codeFenced",tokenize:PM};function PM(t,e,n){const r=this,i={partial:!0,tokenize:U};let s=0,o=0,a;return u;function u(R){return c(R)}function c(R){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,a=R,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(R)}function h(R){return R===a?(o++,t.consume(R),h):o<3?n(R):(t.exit("codeFencedFenceSequence"),ve(R)?Ae(t,d,"whitespace")(R):d(R))}function d(R){return R===null||te(R)?(t.exit("codeFencedFence"),r.interrupt?e(R):t.check(n0,k,L)(R)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(R))}function p(R){return R===null||te(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(R)):ve(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ae(t,m,"whitespace")(R)):R===96&&R===a?n(R):(t.consume(R),p)}function m(R){return R===null||te(R)?d(R):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(R))}function E(R){return R===null||te(R)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(R)):R===96&&R===a?n(R):(t.consume(R),E)}function k(R){return t.attempt(i,L,D)(R)}function D(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),v}function v(R){return s>0&&ve(R)?Ae(t,w,"linePrefix",s+1)(R):w(R)}function w(R){return R===null||te(R)?t.check(n0,k,L)(R):(t.enter("codeFlowValue"),T(R))}function T(R){return R===null||te(R)?(t.exit("codeFlowValue"),w(R)):(t.consume(R),T)}function L(R){return t.exit("codeFenced"),e(R)}function U(R,I,x){let S=0;return C;function C(se){return R.enter("lineEnding"),R.consume(se),R.exit("lineEnding"),b}function b(se){return R.enter("codeFencedFence"),ve(se)?Ae(R,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):O(se)}function O(se){return se===a?(R.enter("codeFencedFenceSequence"),A(se)):x(se)}function A(se){return se===a?(S++,R.consume(se),A):S>=o?(R.exit("codeFencedFenceSequence"),ve(se)?Ae(R,pe,"whitespace")(se):pe(se)):x(se)}function pe(se){return se===null||te(se)?(R.exit("codeFencedFence"),I(se)):x(se)}}}function bM(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const ld={name:"codeIndented",tokenize:NM},RM={partial:!0,tokenize:OM};function NM(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Ae(t,s,"linePrefix",5)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):te(c)?t.attempt(RM,o,u)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||te(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function u(c){return t.exit("codeIndented"),e(c)}}function OM(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):te(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Ae(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):te(o)?i(o):n(o)}}const DM={name:"codeText",previous:MM,resolve:LM,tokenize:VM};function LM(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function MM(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function VM(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),u(d))}function u(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),u):d===96?(s=t.enter("codeTextSequence"),i=0,h(d)):te(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||te(d)?(t.exit("codeTextData"),u(d)):(t.consume(d),c)}function h(d){return d===96?(t.consume(d),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class jM{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bo(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bo(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bo(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);bo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bo(this.left,n.reverse())}}}function bo(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function qT(t){const e={};let n=-1,r,i,s,o,a,u,c;const h=new jM(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,FM(h,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},a=h.slice(i,n),a.unshift(r),h.splice(i,n-i+1,a))}}return Vn(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function FM(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],c={};let h,d,p=-1,m=n,E=0,k=0;const D=[k];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),d&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(k=p+1,D.push(k),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):D.pop(),p=D.length;p--;){const v=a.slice(D[p],D[p+1]),w=s.pop();u.push([w,w+v.length-1]),t.splice(w,2,v)}for(u.reverse(),p=-1;++p<u.length;)c[E+u[p][0]]=E+u[p][1],E+=u[p][1]-u[p][0]-1;return c}const UM={resolve:BM,tokenize:$M},zM={partial:!0,tokenize:qM};function BM(t){return qT(t),t}function $M(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):te(a)?t.check(zM,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function qM(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ae(t,s,"linePrefix")}function s(o){if(o===null||te(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function HT(t,e,n,r,i,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let h=0;return d;function d(v){return v===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(v),t.exit(s),p):v===null||v===32||v===41||Xf(v)?n(v):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),k(v))}function p(v){return v===62?(t.enter(s),t.consume(v),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(t.exit("chunkString"),t.exit(a),p(v)):v===null||v===60||te(v)?n(v):(t.consume(v),v===92?E:m)}function E(v){return v===60||v===62||v===92?(t.consume(v),m):m(v)}function k(v){return!h&&(v===null||v===41||jt(v))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(v)):h<c&&v===40?(t.consume(v),h++,k):v===41?(t.consume(v),h--,k):v===null||v===32||v===40||Xf(v)?n(v):(t.consume(v),v===92?D:k)}function D(v){return v===40||v===41||v===92?(t.consume(v),k):k(v)}}function WT(t,e,n,r,i,s){const o=this;let a=0,u;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),h}function h(m){return a>999||m===null||m===91||m===93&&!u||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):te(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||te(m)||a++>999?(t.exit("chunkString"),h(m)):(t.consume(m),u||(u=!ve(m)),m===92?p:d)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,d):d(m)}}function KT(t,e,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,u):n(p)}function u(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),u(o)):p===null?n(p):te(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Ae(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===o||p===null||te(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?d:h)}function d(p){return p===o||p===92?(t.consume(p),h):h(p)}}function ra(t,e){let n;return r;function r(i){return te(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ve(i)?Ae(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const HM={name:"definition",tokenize:KM},WM={partial:!0,tokenize:GM};function KM(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return WT.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=Is(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),u):n(m)}function u(m){return jt(m)?ra(t,c)(m):c(m)}function c(m){return HT(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return t.attempt(WM,d,d)(m)}function d(m){return ve(m)?Ae(t,p,"whitespace")(m):p(m)}function p(m){return m===null||te(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function GM(t,e,n){return r;function r(a){return jt(a)?ra(t,i)(a):n(a)}function i(a){return KT(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return ve(a)?Ae(t,o,"whitespace")(a):o(a)}function o(a){return a===null||te(a)?e(a):n(a)}}const QM={name:"hardBreakEscape",tokenize:YM};function YM(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return te(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const XM={name:"headingAtx",resolve:JM,tokenize:ZM};function JM(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Vn(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function ZM(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||jt(h)?(t.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),u(h)):h===null||te(h)?(t.exit("atxHeading"),e(h)):ve(h)?Ae(t,a,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function u(h){return h===35?(t.consume(h),u):(t.exit("atxHeadingSequence"),a(h))}function c(h){return h===null||h===35||jt(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),c)}}const eV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],i0=["pre","script","style","textarea"],tV={concrete:!0,name:"htmlFlow",resolveTo:iV,tokenize:sV},nV={partial:!0,tokenize:aV},rV={partial:!0,tokenize:oV};function iV(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function sV(t,e,n){const r=this;let i,s,o,a,u;return c;function c(N){return h(N)}function h(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),d}function d(N){return N===33?(t.consume(N),p):N===47?(t.consume(N),s=!0,k):N===63?(t.consume(N),i=3,r.interrupt?e:P):Cn(N)?(t.consume(N),o=String.fromCharCode(N),D):n(N)}function p(N){return N===45?(t.consume(N),i=2,m):N===91?(t.consume(N),i=5,a=0,E):Cn(N)?(t.consume(N),i=4,r.interrupt?e:P):n(N)}function m(N){return N===45?(t.consume(N),r.interrupt?e:P):n(N)}function E(N){const ze="CDATA[";return N===ze.charCodeAt(a++)?(t.consume(N),a===ze.length?r.interrupt?e:O:E):n(N)}function k(N){return Cn(N)?(t.consume(N),o=String.fromCharCode(N),D):n(N)}function D(N){if(N===null||N===47||N===62||jt(N)){const ze=N===47,nt=o.toLowerCase();return!ze&&!s&&i0.includes(nt)?(i=1,r.interrupt?e(N):O(N)):eV.includes(o.toLowerCase())?(i=6,ze?(t.consume(N),v):r.interrupt?e(N):O(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?w(N):T(N))}return N===45||Qt(N)?(t.consume(N),o+=String.fromCharCode(N),D):n(N)}function v(N){return N===62?(t.consume(N),r.interrupt?e:O):n(N)}function w(N){return ve(N)?(t.consume(N),w):C(N)}function T(N){return N===47?(t.consume(N),C):N===58||N===95||Cn(N)?(t.consume(N),L):ve(N)?(t.consume(N),T):C(N)}function L(N){return N===45||N===46||N===58||N===95||Qt(N)?(t.consume(N),L):U(N)}function U(N){return N===61?(t.consume(N),R):ve(N)?(t.consume(N),U):T(N)}function R(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),u=N,I):ve(N)?(t.consume(N),R):x(N)}function I(N){return N===u?(t.consume(N),u=null,S):N===null||te(N)?n(N):(t.consume(N),I)}function x(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||jt(N)?U(N):(t.consume(N),x)}function S(N){return N===47||N===62||ve(N)?T(N):n(N)}function C(N){return N===62?(t.consume(N),b):n(N)}function b(N){return N===null||te(N)?O(N):ve(N)?(t.consume(N),b):n(N)}function O(N){return N===45&&i===2?(t.consume(N),Ve):N===60&&i===1?(t.consume(N),Te):N===62&&i===4?(t.consume(N),he):N===63&&i===3?(t.consume(N),P):N===93&&i===5?(t.consume(N),Y):te(N)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(nV,le,A)(N)):N===null||te(N)?(t.exit("htmlFlowData"),A(N)):(t.consume(N),O)}function A(N){return t.check(rV,pe,le)(N)}function pe(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),se}function se(N){return N===null||te(N)?A(N):(t.enter("htmlFlowData"),O(N))}function Ve(N){return N===45?(t.consume(N),P):O(N)}function Te(N){return N===47?(t.consume(N),o="",W):O(N)}function W(N){if(N===62){const ze=o.toLowerCase();return i0.includes(ze)?(t.consume(N),he):O(N)}return Cn(N)&&o.length<8?(t.consume(N),o+=String.fromCharCode(N),W):O(N)}function Y(N){return N===93?(t.consume(N),P):O(N)}function P(N){return N===62?(t.consume(N),he):N===45&&i===2?(t.consume(N),P):O(N)}function he(N){return N===null||te(N)?(t.exit("htmlFlowData"),le(N)):(t.consume(N),he)}function le(N){return t.exit("htmlFlow"),e(N)}}function oV(t,e,n){const r=this;return i;function i(o){return te(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function aV(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(rh,e,n)}}const lV={name:"htmlText",tokenize:uV};function uV(t,e,n){const r=this;let i,s,o;return a;function a(P){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(P),u}function u(P){return P===33?(t.consume(P),c):P===47?(t.consume(P),U):P===63?(t.consume(P),T):Cn(P)?(t.consume(P),x):n(P)}function c(P){return P===45?(t.consume(P),h):P===91?(t.consume(P),s=0,E):Cn(P)?(t.consume(P),w):n(P)}function h(P){return P===45?(t.consume(P),m):n(P)}function d(P){return P===null?n(P):P===45?(t.consume(P),p):te(P)?(o=d,Te(P)):(t.consume(P),d)}function p(P){return P===45?(t.consume(P),m):d(P)}function m(P){return P===62?Ve(P):P===45?p(P):d(P)}function E(P){const he="CDATA[";return P===he.charCodeAt(s++)?(t.consume(P),s===he.length?k:E):n(P)}function k(P){return P===null?n(P):P===93?(t.consume(P),D):te(P)?(o=k,Te(P)):(t.consume(P),k)}function D(P){return P===93?(t.consume(P),v):k(P)}function v(P){return P===62?Ve(P):P===93?(t.consume(P),v):k(P)}function w(P){return P===null||P===62?Ve(P):te(P)?(o=w,Te(P)):(t.consume(P),w)}function T(P){return P===null?n(P):P===63?(t.consume(P),L):te(P)?(o=T,Te(P)):(t.consume(P),T)}function L(P){return P===62?Ve(P):T(P)}function U(P){return Cn(P)?(t.consume(P),R):n(P)}function R(P){return P===45||Qt(P)?(t.consume(P),R):I(P)}function I(P){return te(P)?(o=I,Te(P)):ve(P)?(t.consume(P),I):Ve(P)}function x(P){return P===45||Qt(P)?(t.consume(P),x):P===47||P===62||jt(P)?S(P):n(P)}function S(P){return P===47?(t.consume(P),Ve):P===58||P===95||Cn(P)?(t.consume(P),C):te(P)?(o=S,Te(P)):ve(P)?(t.consume(P),S):Ve(P)}function C(P){return P===45||P===46||P===58||P===95||Qt(P)?(t.consume(P),C):b(P)}function b(P){return P===61?(t.consume(P),O):te(P)?(o=b,Te(P)):ve(P)?(t.consume(P),b):S(P)}function O(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),i=P,A):te(P)?(o=O,Te(P)):ve(P)?(t.consume(P),O):(t.consume(P),pe)}function A(P){return P===i?(t.consume(P),i=void 0,se):P===null?n(P):te(P)?(o=A,Te(P)):(t.consume(P),A)}function pe(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||jt(P)?S(P):(t.consume(P),pe)}function se(P){return P===47||P===62||jt(P)?S(P):n(P)}function Ve(P){return P===62?(t.consume(P),t.exit("htmlTextData"),t.exit("htmlText"),e):n(P)}function Te(P){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),W}function W(P){return ve(P)?Ae(t,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):Y(P)}function Y(P){return t.enter("htmlTextData"),o(P)}}const ag={name:"labelEnd",resolveAll:fV,resolveTo:pV,tokenize:mV},cV={tokenize:gV},hV={tokenize:yV},dV={tokenize:vV};function fV(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Vn(t,0,t.length,n),t}function pV(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",u,e],["enter",c,e]],a=sn(a,t.slice(s+1,s+r+3)),a=sn(a,[["enter",h,e]]),a=sn(a,og(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=sn(a,[["exit",h,e],t[o-2],t[o-1],["exit",c,e]]),a=sn(a,t.slice(o+1)),a=sn(a,[["exit",u,e]]),Vn(t,s,t.length,a),t}function mV(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?d(p):(o=r.parser.defined.includes(Is(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),u):n(p)}function u(p){return p===40?t.attempt(cV,h,o?h:d)(p):p===91?t.attempt(hV,h,o?c:d)(p):o?h(p):d(p)}function c(p){return t.attempt(dV,h,d)(p)}function h(p){return e(p)}function d(p){return s._balanced=!0,n(p)}}function gV(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return jt(d)?ra(t,s)(d):s(d)}function s(d){return d===41?h(d):HT(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return jt(d)?ra(t,u)(d):h(d)}function a(d){return n(d)}function u(d){return d===34||d===39||d===40?KT(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function c(d){return jt(d)?ra(t,h)(d):h(d)}function h(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function yV(t,e,n){const r=this;return i;function i(a){return WT.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Is(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function vV(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const _V={name:"labelStartImage",resolveAll:ag.resolveAll,tokenize:wV};function wV(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const xV={name:"labelStartLink",resolveAll:ag.resolveAll,tokenize:EV};function EV(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const ud={name:"lineEnding",tokenize:TV};function TV(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ae(t,e,"linePrefix")}}const wu={name:"thematicBreak",tokenize:IV};function IV(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||te(c))?(t.exit("thematicBreak"),e(c)):n(c)}function u(c){return c===i?(t.consume(c),r++,u):(t.exit("thematicBreakSequence"),ve(c)?Ae(t,a,"whitespace")(c):a(c))}}const Rt={continuation:{tokenize:AV},exit:bV,name:"list",tokenize:CV},SV={partial:!0,tokenize:RV},kV={partial:!0,tokenize:PV};function CV(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const E=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Jf(m)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(wu,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(m)}return n(m)}function u(m){return Jf(m)&&++o<10?(t.consume(m),u):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(rh,r.interrupt?n:h,t.attempt(SV,p,d))}function h(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function d(m){return ve(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function AV(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(rh,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ae(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!ve(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(kV,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ae(t,t.attempt(Rt,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function PV(t,e,n){const r=this;return Ae(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function bV(t){t.exit(this.containerState.type)}function RV(t,e,n){const r=this;return Ae(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!ve(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const s0={name:"setextUnderline",resolveTo:NV,tokenize:OV};function NV(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function OV(t,e,n){const r=this;let i;return s;function s(c){let h=r.events.length,d;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){d=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),ve(c)?Ae(t,u,"lineSuffix")(c):u(c))}function u(c){return c===null||te(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const DV={tokenize:LV};function LV(t){const e=this,n=t.attempt(rh,r,t.attempt(this.parser.constructs.flowInitial,i,Ae(t,t.attempt(this.parser.constructs.flow,i,t.attempt(UM,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const MV={resolveAll:QT()},VV=GT("string"),jV=GT("text");function GT(t){return{resolveAll:QT(t==="text"?FV:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return c(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),u)}function c(h){if(h===null)return!0;const d=i[h];let p=-1;if(d)for(;++p<d.length;){const m=d[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function QT(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function FV(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const UV={42:Rt,43:Rt,45:Rt,48:Rt,49:Rt,50:Rt,51:Rt,52:Rt,53:Rt,54:Rt,55:Rt,56:Rt,57:Rt,62:zT},zV={91:HM},BV={[-2]:ld,[-1]:ld,32:ld},$V={35:XM,42:wu,45:[s0,wu],60:tV,61:s0,95:wu,96:r0,126:r0},qV={38:$T,92:BT},HV={[-5]:ud,[-4]:ud,[-3]:ud,33:_V,38:$T,42:Zf,60:[xM,lV],91:xV,92:[QM,BT],93:ag,95:Zf,96:DM},WV={null:[Zf,MV]},KV={null:[42,95]},GV={null:[]},QV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:KV,contentInitial:zV,disable:GV,document:UV,flow:$V,flowInitial:BV,insideSpan:WV,string:qV,text:HV},Symbol.toStringTag,{value:"Module"}));function YV(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:I(U),check:I(R),consume:w,enter:T,exit:L,interrupt:I(R,{interrupt:!0})},c={code:null,containerState:{},defineSkip:k,events:[],now:E,parser:t,previous:null,sliceSerialize:p,sliceStream:m,write:d};let h=e.tokenize.call(c,u);return e.resolveAll&&s.push(e),c;function d(b){return o=sn(o,b),D(),o[o.length-1]!==null?[]:(x(e,0),c.events=og(s,c.events,c),c.events)}function p(b,O){return JV(m(b),O)}function m(b){return XV(o,b)}function E(){const{_bufferIndex:b,_index:O,line:A,column:pe,offset:se}=r;return{_bufferIndex:b,_index:O,line:A,column:pe,offset:se}}function k(b){i[b.line]=b.column,C()}function D(){let b;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(b=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===b&&r._bufferIndex<O.length;)v(O.charCodeAt(r._bufferIndex));else v(O)}}function v(b){h=h(b)}function w(b){te(b)?(r.line++,r.column=1,r.offset+=b===-3?2:1,C()):b!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=b}function T(b,O){const A=O||{};return A.type=b,A.start=E(),c.events.push(["enter",A,c]),a.push(A),A}function L(b){const O=a.pop();return O.end=E(),c.events.push(["exit",O,c]),O}function U(b,O){x(b,O.from)}function R(b,O){O.restore()}function I(b,O){return A;function A(pe,se,Ve){let Te,W,Y,P;return Array.isArray(pe)?le(pe):"tokenize"in pe?le([pe]):he(pe);function he(Ie){return It;function It(En){const mr=En!==null&&Ie[En],hn=En!==null&&Ie.null,jn=[...Array.isArray(mr)?mr:mr?[mr]:[],...Array.isArray(hn)?hn:hn?[hn]:[]];return le(jn)(En)}}function le(Ie){return Te=Ie,W=0,Ie.length===0?Ve:N(Ie[W])}function N(Ie){return It;function It(En){return P=S(),Y=Ie,Ie.partial||(c.currentConstruct=Ie),Ie.name&&c.parser.constructs.disable.null.includes(Ie.name)?nt():Ie.tokenize.call(O?Object.assign(Object.create(c),O):c,u,ze,nt)(En)}}function ze(Ie){return b(Y,P),se}function nt(Ie){return P.restore(),++W<Te.length?N(Te[W]):Ve}}}function x(b,O){b.resolveAll&&!s.includes(b)&&s.push(b),b.resolve&&Vn(c.events,O,c.events.length-O,b.resolve(c.events.slice(O),c)),b.resolveTo&&(c.events=b.resolveTo(c.events,c))}function S(){const b=E(),O=c.previous,A=c.currentConstruct,pe=c.events.length,se=Array.from(a);return{from:pe,restore:Ve};function Ve(){r=b,c.previous=O,c.currentConstruct=A,c.events.length=pe,a=se,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function XV(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function JV(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function ZV(t){const r={constructs:oM([QV,...(t||{}).extensions||[]]),content:i(pM),defined:[],document:i(gM),flow:i(DV),lazy:{},string:i(VV),text:i(jV)};return r;function i(s){return o;function o(a){return YV(r,s,a)}}}function ej(t){for(;!qT(t););return t}const o0=/[\0\t\n\r]/g;function tj(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const u=[];let c,h,d,p,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(o0.lastIndex=d,c=o0.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){e=s.slice(d);break}if(m===10&&d===p&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<p&&(u.push(s.slice(d,p)),t+=p-d),m){case 0:{u.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,u.push(-2);t++<h;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}d=p+1}return a&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const nj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rj(t){return t.replace(nj,ij)}function ij(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return UT(n.slice(s?2:1),s?16:10)}return sg(n)||t}const YT={}.hasOwnProperty;function sj(t,e,n){return typeof e!="string"&&(n=e,e=void 0),oj(n)(ej(ZV(n).document().write(tj()(t,e,!0))))}function oj(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(so),autolinkProtocol:S,autolinkEmail:S,atxHeading:s(Bi),blockQuote:s(hn),characterEscape:S,characterReference:S,codeFenced:s(jn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(jn,o),codeText:s(to,o),codeTextData:S,data:S,codeFlowValue:S,definition:s(no),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ro),hardBreakEscape:s(io),hardBreakTrailing:s(io),htmlFlow:s(ol,o),htmlFlowData:S,htmlText:s(ol,o),htmlTextData:S,image:s(oh),label:o,link:s(so),listItem:s(al),listItemValue:p,listOrdered:s($i,d),listUnordered:s($i),paragraph:s(ah),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Bi),strong:s(oo),thematicBreak:s(ll)},exit:{atxHeading:u(),atxHeadingSequence:U,autolink:u(),autolinkEmail:mr,autolinkProtocol:En,blockQuote:u(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:nt,characterReferenceMarkerNumeric:nt,characterReferenceValue:Ie,characterReference:It,codeFenced:u(D),codeFencedFence:k,codeFencedFenceInfo:m,codeFencedFenceMeta:E,codeFlowValue:C,codeIndented:u(v),codeText:u(se),codeTextData:C,data:C,definition:u(),definitionDestinationString:L,definitionLabelString:w,definitionTitleString:T,emphasis:u(),hardBreakEscape:u(O),hardBreakTrailing:u(O),htmlFlow:u(A),htmlFlowData:C,htmlText:u(pe),htmlTextData:C,image:u(Te),label:Y,labelText:W,lineEnding:b,link:u(Ve),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ze,resourceDestinationString:P,resourceTitleString:he,resource:le,setextHeading:u(x),setextHeadingLineSequence:I,setextHeadingText:R,strong:u(),thematicBreak:u()}};XT(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(F){let B={type:"root",children:[]};const Z={stack:[B],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:h,data:n},ae=[];let _e=-1;for(;++_e<F.length;)if(F[_e][1].type==="listOrdered"||F[_e][1].type==="listUnordered")if(F[_e][0]==="enter")ae.push(_e);else{const Ut=ae.pop();_e=i(F,Ut,_e)}for(_e=-1;++_e<F.length;){const Ut=e[F[_e][0]];YT.call(Ut,F[_e][1].type)&&Ut[F[_e][1].type].call(Object.assign({sliceSerialize:F[_e][2].sliceSerialize},Z),F[_e][1])}if(Z.tokenStack.length>0){const Ut=Z.tokenStack[Z.tokenStack.length-1];(Ut[1]||a0).call(Z,void 0,Ut[0])}for(B.position={start:Tr(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:Tr(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},_e=-1;++_e<e.transforms.length;)B=e.transforms[_e](B)||B;return B}function i(F,B,Z){let ae=B-1,_e=-1,Ut=!1,zt,tn,gr,Fn;for(;++ae<=Z;){const St=F[ae];switch(St[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{St[0]==="enter"?_e++:_e--,Fn=void 0;break}case"lineEndingBlank":{St[0]==="enter"&&(zt&&!Fn&&!_e&&!gr&&(gr=ae),Fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Fn=void 0}if(!_e&&St[0]==="enter"&&St[1].type==="listItemPrefix"||_e===-1&&St[0]==="exit"&&(St[1].type==="listUnordered"||St[1].type==="listOrdered")){if(zt){let yr=ae;for(tn=void 0;yr--;){const Bt=F[yr];if(Bt[1].type==="lineEnding"||Bt[1].type==="lineEndingBlank"){if(Bt[0]==="exit")continue;tn&&(F[tn][1].type="lineEndingBlank",Ut=!0),Bt[1].type="lineEnding",tn=yr}else if(!(Bt[1].type==="linePrefix"||Bt[1].type==="blockQuotePrefix"||Bt[1].type==="blockQuotePrefixWhitespace"||Bt[1].type==="blockQuoteMarker"||Bt[1].type==="listItemIndent"))break}gr&&(!tn||gr<tn)&&(zt._spread=!0),zt.end=Object.assign({},tn?F[tn][1].start:St[1].end),F.splice(tn||ae,0,["exit",zt,St[2]]),ae++,Z++}if(St[1].type==="listItemPrefix"){const yr={type:"listItem",_spread:!1,start:Object.assign({},St[1].start),end:void 0};zt=yr,F.splice(ae,0,["enter",yr,St[2]]),ae++,Z++,gr=void 0,Fn=!0}}}return F[B][1]._spread=Ut,Z}function s(F,B){return Z;function Z(ae){a.call(this,F(ae),ae),B&&B.call(this,ae)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(F,B,Z){this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([B,Z||void 0]),F.position={start:Tr(B.start),end:void 0}}function u(F){return B;function B(Z){F&&F.call(this,Z),c.call(this,Z)}}function c(F,B){const Z=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==F.type&&(B?B.call(this,F,ae[0]):(ae[1]||a0).call(this,F,ae[0]));else throw new Error("Cannot close `"+F.type+"` ("+na({start:F.start,end:F.end})+"): its not open");Z.position.end=Tr(F.end)}function h(){return iM(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(F){if(this.data.expectingFirstListItemValue){const B=this.stack[this.stack.length-2];B.start=Number.parseInt(this.sliceSerialize(F),10),this.data.expectingFirstListItemValue=void 0}}function m(){const F=this.resume(),B=this.stack[this.stack.length-1];B.lang=F}function E(){const F=this.resume(),B=this.stack[this.stack.length-1];B.meta=F}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const F=this.resume(),B=this.stack[this.stack.length-1];B.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const F=this.resume(),B=this.stack[this.stack.length-1];B.value=F.replace(/(\r?\n|\r)$/g,"")}function w(F){const B=this.resume(),Z=this.stack[this.stack.length-1];Z.label=B,Z.identifier=Is(this.sliceSerialize(F)).toLowerCase()}function T(){const F=this.resume(),B=this.stack[this.stack.length-1];B.title=F}function L(){const F=this.resume(),B=this.stack[this.stack.length-1];B.url=F}function U(F){const B=this.stack[this.stack.length-1];if(!B.depth){const Z=this.sliceSerialize(F).length;B.depth=Z}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function I(F){const B=this.stack[this.stack.length-1];B.depth=this.sliceSerialize(F).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function S(F){const Z=this.stack[this.stack.length-1].children;let ae=Z[Z.length-1];(!ae||ae.type!=="text")&&(ae=ao(),ae.position={start:Tr(F.start),end:void 0},Z.push(ae)),this.stack.push(ae)}function C(F){const B=this.stack.pop();B.value+=this.sliceSerialize(F),B.position.end=Tr(F.end)}function b(F){const B=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Z=B.children[B.children.length-1];Z.position.end=Tr(F.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(B.type)&&(S.call(this,F),C.call(this,F))}function O(){this.data.atHardBreak=!0}function A(){const F=this.resume(),B=this.stack[this.stack.length-1];B.value=F}function pe(){const F=this.resume(),B=this.stack[this.stack.length-1];B.value=F}function se(){const F=this.resume(),B=this.stack[this.stack.length-1];B.value=F}function Ve(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const B=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=B,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function Te(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const B=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=B,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function W(F){const B=this.sliceSerialize(F),Z=this.stack[this.stack.length-2];Z.label=rj(B),Z.identifier=Is(B).toLowerCase()}function Y(){const F=this.stack[this.stack.length-1],B=this.resume(),Z=this.stack[this.stack.length-1];if(this.data.inReference=!0,Z.type==="link"){const ae=F.children;Z.children=ae}else Z.alt=B}function P(){const F=this.resume(),B=this.stack[this.stack.length-1];B.url=F}function he(){const F=this.resume(),B=this.stack[this.stack.length-1];B.title=F}function le(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function ze(F){const B=this.resume(),Z=this.stack[this.stack.length-1];Z.label=B,Z.identifier=Is(this.sliceSerialize(F)).toLowerCase(),this.data.referenceType="full"}function nt(F){this.data.characterReferenceType=F.type}function Ie(F){const B=this.sliceSerialize(F),Z=this.data.characterReferenceType;let ae;Z?(ae=UT(B,Z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ae=sg(B);const _e=this.stack[this.stack.length-1];_e.value+=ae}function It(F){const B=this.stack.pop();B.position.end=Tr(F.end)}function En(F){C.call(this,F);const B=this.stack[this.stack.length-1];B.url=this.sliceSerialize(F)}function mr(F){C.call(this,F);const B=this.stack[this.stack.length-1];B.url="mailto:"+this.sliceSerialize(F)}function hn(){return{type:"blockquote",children:[]}}function jn(){return{type:"code",lang:null,meta:null,value:""}}function to(){return{type:"inlineCode",value:""}}function no(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ro(){return{type:"emphasis",children:[]}}function Bi(){return{type:"heading",depth:0,children:[]}}function io(){return{type:"break"}}function ol(){return{type:"html",value:""}}function oh(){return{type:"image",title:null,url:"",alt:null}}function so(){return{type:"link",title:null,url:"",children:[]}}function $i(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function al(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function ah(){return{type:"paragraph",children:[]}}function oo(){return{type:"strong",children:[]}}function ao(){return{type:"text",value:""}}function ll(){return{type:"thematicBreak"}}}function Tr(t){return{line:t.line,column:t.column,offset:t.offset}}function XT(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?XT(t,r):aj(t,r)}}function aj(t,e){let n;for(n in e)if(YT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function a0(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+na({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+na({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+na({start:e.start,end:e.end})+") is still open")}function lj(t){const e=this;e.parser=n;function n(r){return sj(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function uj(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function cj(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function hj(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function dj(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fj(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pj(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=eo(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,c),t.applyData(e,c)}function mj(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gj(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function JT(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function yj(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return JT(t,e);const i={src:eo(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function vj(t,e){const n={src:eo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function _j(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function wj(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return JT(t,e);const i={href:eo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function xj(t,e){const n={href:eo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Ej(t,e,n){const r=t.all(e),i=n?Tj(n):ZT(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function Tj(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=ZT(n[r])}return e}function ZT(t){const e=t.spread;return e??t.children.length>1}function Ij(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Sj(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function kj(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Cj(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Aj(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=tg(e.children[1]),u=OT(e.children[e.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Pj(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let u=-1;const c=[];for(;++u<a;){const d=e.children[u],p={},m=o?o[u]:void 0;m&&(p.align=m);let E={type:"element",tagName:s,properties:p,children:[]};d&&(E.children=t.all(d),t.patch(d,E),E=t.applyData(d,E)),c.push(E)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function bj(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const l0=9,u0=32;function Rj(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(c0(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(c0(e.slice(i),i>0,!1)),s.join("")}function c0(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===l0||s===u0;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===l0||s===u0;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Nj(t,e){const n={type:"text",value:Rj(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Oj(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Dj={blockquote:uj,break:cj,code:hj,delete:dj,emphasis:fj,footnoteReference:pj,heading:mj,html:gj,imageReference:yj,image:vj,inlineCode:_j,linkReference:wj,link:xj,listItem:Ej,list:Ij,paragraph:Sj,root:kj,strong:Cj,table:Aj,tableCell:bj,tableRow:Pj,text:Nj,thematicBreak:Oj,toml:Ql,yaml:Ql,definition:Ql,footnoteDefinition:Ql};function Ql(){}const eI=-1,ih=0,ia=1,fc=2,lg=3,ug=4,cg=5,hg=6,tI=7,nI=8,h0=typeof self=="object"?self:globalThis,Lj=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case ih:case eI:return n(o,i);case ia:{const a=n([],i);for(const u of o)a.push(r(u));return a}case fc:{const a=n({},i);for(const[u,c]of o)a[r(u)]=r(c);return a}case lg:return n(new Date(o),i);case ug:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case cg:{const a=n(new Map,i);for(const[u,c]of o)a.set(r(u),r(c));return a}case hg:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case tI:{const{name:a,message:u}=o;return n(new h0[a](u),i)}case nI:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new h0[s](o),i)};return r},d0=t=>Lj(new Map,t)(0),Yi="",{toString:Mj}={},{keys:Vj}=Object,Ro=t=>{const e=typeof t;if(e!=="object"||!t)return[ih,e];const n=Mj.call(t).slice(8,-1);switch(n){case"Array":return[ia,Yi];case"Object":return[fc,Yi];case"Date":return[lg,Yi];case"RegExp":return[ug,Yi];case"Map":return[cg,Yi];case"Set":return[hg,Yi];case"DataView":return[ia,n]}return n.includes("Array")?[ia,n]:n.includes("Error")?[tI,n]:[fc,n]},Yl=([t,e])=>t===ih&&(e==="function"||e==="symbol"),jj=(t,e,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=Ro(o);switch(a){case ih:{let h=o;switch(u){case"bigint":a=nI,h=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([eI],o)}return i([a,h],o)}case ia:{if(u){let p=o;return u==="DataView"?p=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(p=new Uint8Array(o)),i([u,[...p]],o)}const h=[],d=i([a,h],o);for(const p of o)h.push(s(p));return d}case fc:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],d=i([a,h],o);for(const p of Vj(o))(t||!Yl(Ro(o[p])))&&h.push([s(p),s(o[p])]);return d}case lg:return i([a,o.toISOString()],o);case ug:{const{source:h,flags:d}=o;return i([a,{source:h,flags:d}],o)}case cg:{const h=[],d=i([a,h],o);for(const[p,m]of o)(t||!(Yl(Ro(p))||Yl(Ro(m))))&&h.push([s(p),s(m)]);return d}case hg:{const h=[],d=i([a,h],o);for(const p of o)(t||!Yl(Ro(p)))&&h.push(s(p));return d}}const{message:c}=o;return i([a,{name:u,message:c}],o)};return s},f0=(t,{json:e,lossy:n}={})=>{const r=[];return jj(!(e||n),!!e,new Map,r)(t),r},pc=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?d0(f0(t,e)):structuredClone(t):(t,e)=>d0(f0(t,e));function Fj(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Uj(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function zj(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Fj,r=t.options.footnoteBackLabel||Uj,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[u]);if(!c)continue;const h=t.all(c),d=String(c.identifier).toUpperCase(),p=eo(d.toLowerCase());let m=0;const E=[],k=t.footnoteCounts.get(d);for(;k!==void 0&&++m<=k;){E.length>0&&E.push({type:"text",value:" "});let w=typeof n=="string"?n:n(u,m);typeof w=="string"&&(w={type:"text",value:w}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const D=h[h.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const w=D.children[D.children.length-1];w&&w.type==="text"?w.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...E)}else h.push(...E);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(h,!0)};t.patch(c,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...pc(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const rI=function(t){if(t==null)return Hj;if(typeof t=="function")return sh(t);if(typeof t=="object")return Array.isArray(t)?Bj(t):$j(t);if(typeof t=="string")return qj(t);throw new Error("Expected function, string, or object as test")};function Bj(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=rI(t[n]);return sh(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function $j(t){const e=t;return sh(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function qj(t){return sh(e);function e(n){return n&&n.type===t}}function sh(t){return e;function e(n,r,i){return!!(Wj(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Hj(){return!0}function Wj(t){return t!==null&&typeof t=="object"&&"type"in t}const iI=[],Kj=!0,p0=!1,Gj="skip";function Qj(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=rI(i),o=r?-1:1;a(t,void 0,[])();function a(u,c,h){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const m=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(u.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=iI,E,k,D;if((!e||s(u,c,h[h.length-1]||void 0))&&(m=Yj(n(u,h)),m[0]===p0))return m;if("children"in u&&u.children){const v=u;if(v.children&&m[0]!==Gj)for(k=(r?v.children.length:-1)+o,D=h.concat(v);k>-1&&k<v.children.length;){const w=v.children[k];if(E=a(w,k,D)(),E[0]===p0)return E;k=typeof E[1]=="number"?E[1]:k+o}}return m}}}function Yj(t){return Array.isArray(t)?t:typeof t=="number"?[Kj,t]:t==null?iI:[t]}function sI(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),Qj(t,s,a,i);function a(u,c){const h=c[c.length-1],d=h?h.children.indexOf(u):void 0;return o(u,d,h)}}const ep={}.hasOwnProperty,Xj={};function Jj(t,e){const n=e||Xj,r=new Map,i=new Map,s=new Map,o={...Dj,...n.handlers},a={all:c,applyData:e3,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:Zj,wrap:n3};return sI(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?r:i,p=String(h.identifier).toUpperCase();d.has(p)||d.set(p,h)}}),a;function u(h,d){const p=h.type,m=a.handlers[p];if(ep.call(a.handlers,p)&&m)return m(a,h,d);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in h){const{children:k,...D}=h,v=pc(D);return v.children=a.all(h),v}return pc(h)}return(a.options.unknownHandler||t3)(a,h,d)}function c(h){const d=[];if("children"in h){const p=h.children;let m=-1;for(;++m<p.length;){const E=a.one(p[m],h);if(E){if(m&&p[m-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=m0(E.value)),!Array.isArray(E)&&E.type==="element")){const k=E.children[0];k&&k.type==="text"&&(k.value=m0(k.value))}Array.isArray(E)?d.push(...E):d.push(E)}}}return d}}function Zj(t,e){t.position&&(e.position=M4(t))}function e3(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,pc(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function t3(t,e){const n=e.data||{},r="value"in e&&!(ep.call(n,"hProperties")||ep.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function n3(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function m0(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function g0(t,e){const n=Jj(t,e),r=n.one(t,void 0),i=zj(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function r3(t,e){return t&&"run"in t?async function(n,r){const i=g0(n,{file:r,...e});await t.run(i,r)}:function(n,r){return g0(n,{file:r,...t||e})}}function y0(t){if(t)throw t}var xu=Object.prototype.hasOwnProperty,oI=Object.prototype.toString,v0=Object.defineProperty,_0=Object.getOwnPropertyDescriptor,w0=function(e){return typeof Array.isArray=="function"?Array.isArray(e):oI.call(e)==="[object Array]"},x0=function(e){if(!e||oI.call(e)!=="[object Object]")return!1;var n=xu.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&xu.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||xu.call(e,i)},E0=function(e,n){v0&&n.name==="__proto__"?v0(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},T0=function(e,n){if(n==="__proto__")if(xu.call(e,n)){if(_0)return _0(e,n).value}else return;return e[n]},i3=function t(){var e,n,r,i,s,o,a=arguments[0],u=1,c=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(e=arguments[u],e!=null)for(n in e)r=T0(a,n),i=T0(e,n),a!==i&&(h&&i&&(x0(i)||(s=w0(i)))?(s?(s=!1,o=r&&w0(r)?r:[]):o=r&&x0(r)?r:{},E0(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&E0(a,{name:n,newValue:i}));return a};const cd=rp(i3);function tp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function s3(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...c){const h=t[++s];let d=-1;if(u){o(u);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,h?o3(h,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function o3(t,e){let n;return r;function r(...o){const a=t.length>o.length;let u;a&&o.push(i);try{u=t.apply(this,o)}catch(c){const h=c;if(a&&n)throw h;return i(h)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const Sn={basename:a3,dirname:l3,extname:u3,join:c3,sep:"/"};function a3(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');sl(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function l3(t){if(sl(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function u3(t){sl(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function c3(...t){let e=-1,n;for(;++e<t.length;)sl(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":h3(n)}function h3(t){sl(t);const e=t.codePointAt(0)===47;let n=d3(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function d3(t,e){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function sl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const f3={cwd:p3};function p3(){return"/"}function np(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function m3(t){if(typeof t=="string")t=new URL(t);else if(!np(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return g3(t)}function g3(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const hd=["history","path","basename","stem","extname","dirname"];class aI{constructor(e){let n;e?np(e)?n={path:e}:typeof e=="string"||y3(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":f3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<hd.length;){const s=hd[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)hd.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Sn.basename(this.path):void 0}set basename(e){fd(e,"basename"),dd(e,"basename"),this.path=Sn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Sn.dirname(this.path):void 0}set dirname(e){I0(this.basename,"dirname"),this.path=Sn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Sn.extname(this.path):void 0}set extname(e){if(dd(e,"extname"),I0(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Sn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){np(e)&&(e=m3(e)),fd(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Sn.basename(this.path,this.extname):void 0}set stem(e){fd(e,"stem"),dd(e,"stem"),this.path=Sn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Tt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function dd(t,e){if(t&&t.includes(Sn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Sn.sep+"`")}function fd(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function I0(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function y3(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const v3=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},_3={}.hasOwnProperty;class dg extends v3{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=s3()}copy(){const e=new dg;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(cd(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(gd("data",this.frozen),this.namespace[e]=n,this):_3.call(this.namespace,e)&&this.namespace[e]||void 0:e?(gd("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Xl(e),r=this.parser||this.Parser;return pd("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),pd("process",this.parser||this.Parser),md("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Xl(e),u=r.parse(a);r.run(u,a,function(h,d,p){if(h||!d||!p)return c(h);const m=d,E=r.stringify(m,p);E3(E)?p.value=E:p.result=E,c(h,p)});function c(h,d){h||!d?o(h):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),pd("processSync",this.parser||this.Parser),md("processSync",this.compiler||this.Compiler),this.process(e,i),k0("processSync","process",n),r;function i(s,o){n=!0,y0(s),r=o}}run(e,n,r){S0(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=Xl(n);i.run(e,u,c);function c(h,d,p){const m=d||e;h?a(h):o?o(m):r(void 0,m,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),k0("runSync","run",r),i;function s(o,a){y0(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=Xl(n),i=this.compiler||this.Compiler;return md("stringify",i),S0(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(gd("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...d]=c;u(h,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=cd(!0,i.settings,c.settings))}function a(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const d=c[h];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,h){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===c){p=d;break}if(p===-1)r.push([c,...h]);else if(h.length>0){let[m,...E]=h;const k=r[p][1];tp(k)&&tp(m)&&(m=cd(!0,k,m)),r[p]=[c,m,...E]}}}}const w3=new dg().freeze();function pd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function md(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function gd(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function S0(t){if(!tp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function k0(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Xl(t){return x3(t)?t:new aI(t)}function x3(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function E3(t){return typeof t=="string"||T3(t)}function T3(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const I3="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",C0=[],A0={allowDangerousHtml:!0},S3=/^(https?|ircs?|mailto|xmpp)$/i,k3=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Eu(t){const e=C3(t),n=A3(t);return P3(e.runSync(e.parse(n),n),t)}function C3(t){const e=t.rehypePlugins||C0,n=t.remarkPlugins||C0,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...A0}:A0;return w3().use(lj).use(n).use(r3,r).use(e)}function A3(t){const e=t.children||"",n=new aI;return typeof e=="string"&&(n.value=e),n}function P3(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,u=e.urlTransform||b3;for(const h of k3)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+I3+h.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),sI(t,c),z4(t,{Fragment:y.Fragment,components:i,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function c(h,d,p){if(h.type==="raw"&&p&&typeof d=="number")return o?p.children.splice(d,1):p.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let m;for(m in ad)if(Object.hasOwn(ad,m)&&Object.hasOwn(h.properties,m)){const E=h.properties[m],k=ad[m];(k===null||k.includes(h.tagName))&&(h.properties[m]=u(String(E||""),m,h))}}if(h.type==="element"){let m=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!m&&r&&typeof d=="number"&&(m=!r(h,d,p)),m&&p&&typeof d=="number")return a&&h.children?p.children.splice(d,1,...h.children):p.children.splice(d,1),d}}}function b3(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||S3.test(t.slice(0,e))?t:""}function R3({context:t,language:e}){const[n,r]=V.useState([{role:"assistant",content:` Hi! I'm **VidyaAI**, your personal tutor.

I'm here to help you understand **${t.topic||"this topic"}**. Ask me anything  questions, doubts, or "explain this differently".

You can also ask in **Hindi, Tamil, or any Indian language**! `}]),[i,s]=V.useState(""),[o,a]=V.useState(!1),u=V.useRef(null);V.useEffect(()=>{r([{role:"assistant",content:` Ready to help with **${t.topic||"this topic"}**!

Ask me anything in English or any Indian language.`}])},[t.topicId]),V.useEffect(()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},[n]);const c=async()=>{const h=i.trim();if(!h||o)return;const d={role:"user",content:h};r(p=>[...p,d]),s(""),a(!0);try{const p=await $L({messages:[...n,d],context:t,language:e});r(m=>[...m,p])}catch{Wt.error("AI response failed. Check your API key."),r(m=>[...m,{role:"assistant",content:" Sorry, I ran into an error. Please try again."}])}finally{a(!1)}};return y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-white/5 flex items-center gap-2 flex-shrink-0",children:[y.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:y.jsx(vL,{className:"w-4 h-4 text-white"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-semibold text-white",children:"VidyaAI Tutor"}),y.jsxs("div",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 inline-block"})," Online"]})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-3",children:[n.map((h,d)=>y.jsxs("div",{className:`animate-fade-in flex gap-2 ${h.role==="user"?"justify-end":"justify-start"}`,children:[h.role==="assistant"&&y.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center flex-shrink-0 mt-1",children:y.jsx(Bs,{className:"w-3 h-3 text-white"})}),y.jsx("div",{className:h.role==="user"?"chat-bubble-user":"chat-bubble-ai",children:h.role==="assistant"?y.jsx("div",{className:"markdown-content text-xs leading-relaxed",children:y.jsx(Eu,{children:h.content})}):y.jsx("p",{className:"text-sm",children:h.content})}),h.role==="user"&&y.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0 mt-1",children:y.jsx(th,{className:"w-3 h-3 text-white/60"})})]},d)),o&&y.jsxs("div",{className:"flex gap-2 justify-start animate-fade-in",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:y.jsx(Bs,{className:"w-3 h-3 text-white"})}),y.jsx("div",{className:"chat-bubble-ai flex items-center gap-1.5 py-3",children:[0,1,2].map(h=>y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/40 animate-bounce",style:{animationDelay:`${h*150}ms`}},h))})]}),y.jsx("div",{ref:u})]}),y.jsx("div",{className:"px-3 pb-2 flex gap-2 overflow-x-auto scrollbar-hide",children:["Explain simpler","Give a hint","Show example","Quiz me"].map(h=>y.jsx("button",{onClick:()=>{s(h)},className:"flex-shrink-0 text-xs px-3 py-1.5 rounded-full glass border border-white/10 text-white/50 hover:text-white hover:border-white/25 transition-all",children:h},h))}),y.jsx("div",{className:"px-3 pb-3 flex-shrink-0",children:y.jsxs("div",{className:"flex gap-2 items-end",children:[y.jsx("textarea",{value:i,onChange:h=>s(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),c())},placeholder:"Ask anything... (Enter to send)",rows:2,className:"input-field flex-1 resize-none text-xs leading-relaxed py-2.5"}),y.jsx("button",{onClick:c,disabled:o||!i.trim(),className:"w-9 h-9 rounded-xl bg-indigo-600 hover:bg-indigo-500 disabled:opacity-40 flex items-center justify-center transition-colors flex-shrink-0",children:y.jsx(RL,{className:"w-4 h-4 text-white"})})]})})]})}function N3({topic:t,language:e}){var D;const[n,r]=V.useState("concept"),[i,s]=V.useState(0),[o,a]=V.useState(null),[u,c]=V.useState(!1),[h,d]=V.useState({concept:"",examples:[]}),[p,m]=V.useState(!1);if(V.useEffect(()=>{s(0),a(null),c(!1)},[t==null?void 0:t.id]),V.useEffect(()=>{t&&(d({concept:t.concept,examples:t.examples||[]}),e!=="en"&&(m(!0),Promise.all([j_(t.concept,e,`${t.id}-concept`),...(t.examples||[]).map((v,w)=>j_(`**Q:** ${v.question}

**A:** ${v.solution}`,e,`${t.id}-ex${w}`))]).then(([v,...w])=>{d({concept:v,examples:(t.examples||[]).map((T,L)=>({...T,_translated:w[L]}))}),m(!1)}).catch(()=>{d({concept:t.concept,examples:t.examples||[]}),m(!1)})))},[t==null?void 0:t.id,e]),!t)return y.jsx("div",{className:"flex-1 flex items-center justify-center text-white/20 text-sm",children:"Select a topic from the left panel"});const E=[{id:"concept",label:"Concept",icon:kL},{id:"examples",label:"Examples",icon:rl},{id:"practice",label:"Practice",icon:xL}],k=(D=t.practice)==null?void 0:D[i];return y.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[y.jsxs("div",{className:"px-5 pt-5 pb-3 flex-shrink-0",children:[y.jsx("h2",{className:"text-lg font-bold text-white",children:t.title}),p&&y.jsxs("p",{className:"text-xs text-indigo-400 mt-0.5 flex items-center gap-1",children:[y.jsx(ET,{className:"w-3 h-3 animate-spin"})," Translating"]})]}),y.jsx("div",{className:"px-5 flex gap-1 flex-shrink-0 border-b border-white/5 pb-0",children:E.map(v=>y.jsxs("button",{onClick:()=>r(v.id),className:`flex items-center gap-1.5 px-3 py-2.5 text-sm font-medium border-b-2 transition-all -mb-px ${n===v.id?"border-indigo-500 text-indigo-300":"border-transparent text-white/40 hover:text-white"}`,children:[y.jsx(v.icon,{className:"w-3.5 h-3.5"}),v.label]},v.id))}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:[n==="concept"&&y.jsx("div",{className:"markdown-content animate-fade-in",children:y.jsx(Eu,{children:h.concept})}),n==="examples"&&y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[(h.examples||[]).length===0&&y.jsx("p",{className:"text-white/30 text-sm",children:"No examples for this topic yet."}),(h.examples||[]).map((v,w)=>y.jsx("div",{className:"glass rounded-xl p-4",children:v._translated?y.jsx("div",{className:"markdown-content text-sm",children:y.jsx(Eu,{children:v._translated})}):y.jsxs(y.Fragment,{children:[y.jsxs("p",{className:"text-sm font-medium text-white mb-3",children:[y.jsxs("span",{className:"text-indigo-400 mr-2",children:["Q",w+1,"."]}),v.question]}),y.jsxs("div",{className:"border-t border-white/5 pt-3",children:[y.jsx("p",{className:"text-xs text-white/40 mb-1 uppercase tracking-wider",children:"Solution"}),y.jsx("div",{className:"markdown-content text-sm",children:y.jsx(Eu,{children:v.solution})})]})]})},w))]}),n==="practice"&&y.jsx("div",{className:"animate-fade-in",children:k?y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("span",{className:"text-xs text-white/30",children:["Question ",i+1," of ",t.practice.length]}),y.jsxs("button",{onClick:()=>{s(0),a(null),c(!1)},className:"text-xs text-white/30 hover:text-white flex items-center gap-1",children:[y.jsx(PL,{className:"w-3 h-3"})," Reset"]})]}),y.jsxs("div",{className:"glass rounded-xl p-4",children:[y.jsx("p",{className:"text-sm font-medium text-white mb-4",children:k.question}),y.jsx("div",{className:"space-y-2",children:k.options.map((v,w)=>{const T=w===k.answer,L=o===w;let U="glass border border-white/10 text-white/60 hover:text-white hover:border-white/25";return u&&(U=T?"bg-emerald-500/20 border-emerald-500/60 text-emerald-300":L?"bg-red-500/20 border-red-500/60 text-red-300":"border-white/5 text-white/30"),y.jsxs("button",{disabled:u,onClick:()=>{a(w),c(!0)},className:`w-full text-left px-4 py-3 rounded-xl text-sm transition-all border ${U}`,children:[y.jsxs("span",{className:"font-mono text-xs mr-2 text-white/30",children:[["A","B","C","D"][w],"."]}),v]},w)})})]}),u&&y.jsx("div",{className:`rounded-xl px-4 py-3 text-sm animate-fade-in ${o===k.answer?"bg-emerald-500/15 text-emerald-300":"bg-red-500/15 text-red-300"}`,children:o===k.answer?" Correct! Well done.":` Incorrect. Correct answer: ${k.options[k.answer]}`}),u&&i<t.practice.length-1&&y.jsx("button",{onClick:()=>{s(v=>v+1),a(null),c(!1)},className:"btn-primary w-full justify-center",children:"Next Question"})]}):y.jsxs("div",{className:"text-center py-12",children:[y.jsx(OL,{className:"w-10 h-10 text-emerald-400 mx-auto mb-3"}),y.jsx("p",{className:"text-white font-semibold mb-1",children:"All practice done! "}),y.jsx("p",{className:"text-white/40 text-sm",children:"Ask the AI tutor for more questions."})]})})]})]})}function O3(){const{subjectId:t,chapterId:e}=K1(),n=hr(),{user:r}=pr(),{subjects:i,selectedSubject:s,selectedChapter:o,selectedTopic:a,topics:u,selectSubject:c,selectChapter:h,selectTopic:d,language:p,setLanguage:m}=Zc(),{isComplete:E,markComplete:k}=eh(),[D,v]=V.useState(!1);V.useEffect(()=>{t&&c(t)},[t]),V.useEffect(()=>{e&&h(e)},[e,h]);const w=s||i.find(R=>R.id===t),T=async R=>{m(R),r&&await uL(r.uid,R).catch(()=>{})},L=async()=>{a&&(await k(a.id,{subjectId:t,chapterId:e,subjectName:w==null?void 0:w.name,chapterName:o==null?void 0:o.title}),Wt.success("Topic marked as complete! "))},U={subject:w==null?void 0:w.name,chapter:o==null?void 0:o.title,topic:a==null?void 0:a.title,topicId:a==null?void 0:a.id,topicConcept:a==null?void 0:a.concept};return y.jsxs("div",{className:"h-screen bg-[#0b0b18] flex flex-col overflow-hidden",children:[y.jsxs("div",{className:"h-12 glass border-b border-white/5 flex items-center px-3 gap-3 flex-shrink-0 z-30",children:[y.jsx("button",{onClick:()=>n(`/chapters/${t}`),className:"p-1.5 rounded-lg text-white/40 hover:text-white hover:bg-white/5 transition-all",children:y.jsx(xT,{className:"w-4 h-4"})}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/40 truncate flex-1 min-w-0",children:[y.jsxs("span",{className:"hidden sm:block",children:[w==null?void 0:w.icon," ",w==null?void 0:w.name]}),y.jsx("span",{className:"hidden sm:block",children:"/"}),y.jsx("span",{className:"text-white/70 truncate",children:o==null?void 0:o.title})]}),y.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[y.jsx(ET,{className:"w-4 h-4 text-white/30"}),y.jsx("select",{value:p,onChange:R=>T(R.target.value),className:"bg-white/5 border border-white/10 text-white/70 text-xs rounded-lg px-2 py-1.5 outline-none cursor-pointer hover:bg-white/10 transition-all",children:mL.map(R=>y.jsx("option",{value:R.code,className:"bg-[#1a1a2e]",children:R.native},R.code))})]}),y.jsx("button",{onClick:()=>v(!D),className:"lg:hidden p-1.5 rounded-lg text-white/40 hover:text-white hover:bg-white/5",children:D?y.jsx(ST,{className:"w-4 h-4"}):y.jsx(IT,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[y.jsxs("aside",{className:`
          w-64 flex-shrink-0 panel flex flex-col
          lg:relative lg:translate-x-0 lg:block
          ${D?"absolute z-20 translate-x-0":"absolute -translate-x-full lg:translate-x-0"}
          h-full transition-transform duration-300
        `,children:[y.jsx("div",{className:"px-3 py-3 border-b border-white/5 flex-shrink-0",children:y.jsx("p",{className:"text-xs font-semibold text-white/40 uppercase tracking-wider",children:"Topics"})}),y.jsx("div",{className:"flex-1 overflow-y-auto py-2 px-2",children:u.map((R,I)=>{const x=E(R.id),S=(a==null?void 0:a.id)===R.id;return y.jsxs("div",{onClick:()=>{d(R.id),v(!1)},className:`topic-item ${S?"active":"text-white/50"} animate-slide-left`,style:{animationDelay:`${I*40}ms`},children:[x?y.jsx(qf,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}):y.jsx(wL,{className:`w-4 h-4 flex-shrink-0 ${S?"text-indigo-400":"text-white/20"}`}),y.jsx("span",{className:"text-xs leading-snug",children:R.title})]},R.id)})}),a&&!E(a.id)&&y.jsx("div",{className:"p-3 border-t border-white/5 flex-shrink-0",children:y.jsxs("button",{onClick:L,className:"w-full flex items-center justify-center gap-1.5 text-xs py-2.5 rounded-xl bg-emerald-500/15 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/25 transition-all",children:[y.jsx(qf,{className:"w-3.5 h-3.5"})," Mark as Done"]})})]}),D&&y.jsx("div",{className:"absolute inset-0 bg-black/60 z-10 lg:hidden",onClick:()=>v(!1)}),y.jsx("main",{className:"flex-1 flex flex-col overflow-hidden border-r border-white/5",children:y.jsx(N3,{topic:a,language:p})}),y.jsx("aside",{className:"hidden lg:flex w-80 xl:w-96 flex-col flex-shrink-0",children:y.jsx(R3,{context:U,language:p})})]})]})}function yd({label:t,value:e,icon:n,color:r}){return y.jsxs("div",{className:"glass rounded-xl p-4 flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:`${r}22`},children:y.jsx(n,{className:"w-5 h-5",style:{color:r}})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xl font-bold text-white",children:e}),y.jsx("div",{className:"text-xs text-white/40",children:t})]})]})}function D3(){var L,U;const{user:t,profile:e,refreshProfile:n}=pr(),{subjects:r}=Zc(),{progress:i,subjectProgress:s,chapterProgress:o}=eh(),a=hr(),[u,c]=V.useState(!1),[h,d]=V.useState({displayName:(e==null?void 0:e.displayName)||"",class:(e==null?void 0:e.class)||"10",stream:(e==null?void 0:e.stream)||""}),[p,m]=V.useState(!1),E=r.reduce((R,I)=>R+(I.chapters||[]).reduce((x,S)=>x+(S.topics||[]).length,0),0),k=Object.keys(i).length,D=E?Math.round(k/E*100):0,v=Xm[h.class],w=async()=>{m(!0);try{await mT(t.uid,{displayName:h.displayName,class:h.class,stream:h.stream||null}),await n(),Wt.success("Profile updated!"),c(!1)}catch{Wt.error("Failed to update profile")}finally{m(!1)}},T=async()=>{await pT(),a("/")};return y.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Your Profile"}),y.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 mb-6",children:[y.jsx(yd,{label:"Topics Completed",value:k,icon:rl,color:"#6366f1"}),y.jsx(yd,{label:"Overall Progress",value:`${D}%`,icon:M_,color:"#10b981"}),y.jsx(yd,{label:"Subjects",value:r.length,icon:th,color:"#f59e0b"})]}),y.jsxs("div",{className:"glass rounded-2xl p-6 mb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-5",children:[y.jsxs("h2",{className:"font-semibold text-white flex items-center gap-2",children:[y.jsx(Hf,{className:"w-4 h-4 text-white/40"})," Profile Settings"]}),y.jsx("button",{onClick:()=>u?w():c(!0),disabled:p,className:"btn-primary text-xs py-2 px-4",children:p?y.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}):u?y.jsxs(y.Fragment,{children:[y.jsx(bL,{className:"w-3.5 h-3.5"})," Save"]}):y.jsxs(y.Fragment,{children:[y.jsx(Hf,{className:"w-3.5 h-3.5"})," Edit"]})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-white/40 block mb-1.5 uppercase tracking-wider",children:"Display Name"}),u?y.jsx("input",{type:"text",value:h.displayName,onChange:R=>d(I=>({...I,displayName:R.target.value})),className:"input-field"}):y.jsx("p",{className:"text-white font-medium",children:(e==null?void 0:e.displayName)||""})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-white/40 block mb-1.5 uppercase tracking-wider",children:"Email"}),y.jsx("p",{className:"text-white/60 text-sm",children:t==null?void 0:t.email})]}),y.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-white/40 block mb-1.5 uppercase tracking-wider",children:"Class / Level"}),u?y.jsx("select",{value:h.class,onChange:R=>d(I=>({...I,class:R.target.value,stream:""})),className:"input-field cursor-pointer",children:dc.map(R=>y.jsx("option",{value:R.value,className:"bg-[#1a1a2e]",children:R.label},R.value))}):y.jsx("p",{className:"text-white font-medium",children:((L=dc.find(R=>R.value===(e==null?void 0:e.class)))==null?void 0:L.label)||(e==null?void 0:e.class)})]}),(u?v:e==null?void 0:e.stream)&&y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-white/40 block mb-1.5 uppercase tracking-wider",children:"Stream"}),u?y.jsxs("select",{value:h.stream,onChange:R=>d(I=>({...I,stream:R.target.value})),className:"input-field cursor-pointer",children:[y.jsx("option",{value:"",children:"Select stream"}),v==null?void 0:v.map(R=>y.jsx("option",{value:R.value,className:"bg-[#1a1a2e]",children:R.label},R.value))]}):y.jsx("p",{className:"text-white font-medium",children:(U=e==null?void 0:e.stream)==null?void 0:U.toUpperCase()})]})]})]})]}),y.jsxs("div",{className:"glass rounded-2xl p-6 mb-6",children:[y.jsxs("h2",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[y.jsx(M_,{className:"w-4 h-4 text-white/40"})," Subject Progress"]}),y.jsx("div",{className:"space-y-4",children:r.map(R=>{const I=s(R.chapters||[]);return y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm",children:R.icon}),y.jsx("span",{className:"text-sm text-white/80",children:R.name})]}),y.jsxs("span",{className:"text-xs text-white/40",children:[I,"%"]})]}),y.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${I}%`,background:R.color}})})]},R.id)})})]}),y.jsxs("button",{onClick:T,className:"w-full flex items-center justify-center gap-2 py-3 rounded-xl text-sm text-red-400 border border-red-500/20 hover:bg-red-500/10 transition-all",children:[y.jsx(TT,{className:"w-4 h-4"})," Sign Out"]})]})}function L3(){var o;const{user:t,profile:e}=pr(),n=hr(),[r,i]=V.useState(!1),s=async()=>{await pT(),Wt.success("Logged out successfully"),n("/")};return y.jsxs("nav",{className:"sticky top-0 z-50 glass border-b border-white/5",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 h-14 flex items-center justify-between",children:[y.jsxs(vt,{to:"/subjects",className:"flex items-center gap-2 group",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:y.jsx(Bs,{className:"w-4 h-4 text-white"})}),y.jsxs("span",{className:"font-bold text-white text-base tracking-tight",children:["Vidya",y.jsx("span",{className:"gradient-text",children:"AI"})]})]}),y.jsx("div",{className:"hidden sm:flex items-center gap-3",children:t?y.jsxs(y.Fragment,{children:[y.jsx(vt,{to:"/subjects",className:"text-sm text-white/60 hover:text-white transition-colors px-3 py-1.5 rounded-lg hover:bg-white/5",children:"Subjects"}),y.jsxs(vt,{to:"/profile",className:"text-sm text-white/60 hover:text-white transition-colors px-3 py-1.5 rounded-lg hover:bg-white/5 flex items-center gap-1.5",children:[y.jsx(th,{className:"w-3.5 h-3.5"}),((o=e==null?void 0:e.displayName)==null?void 0:o.split(" ")[0])||"Profile"]}),y.jsxs("button",{onClick:s,className:"btn-secondary text-xs py-2 px-3",children:[y.jsx(TT,{className:"w-3.5 h-3.5"}),"Logout"]})]}):y.jsx(vt,{to:"/auth",className:"btn-primary text-xs py-2",children:"Get Started"})}),y.jsx("button",{className:"sm:hidden p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/5",onClick:()=>i(!r),children:r?y.jsx(ST,{className:"w-5 h-5"}):y.jsx(IT,{className:"w-5 h-5"})})]}),r&&y.jsx("div",{className:"sm:hidden glass border-t border-white/5 px-4 py-3 flex flex-col gap-2",children:t?y.jsxs(y.Fragment,{children:[y.jsx(vt,{to:"/subjects",onClick:()=>i(!1),className:"text-sm text-white/70 hover:text-white transition-colors py-2",children:"Subjects"}),y.jsx(vt,{to:"/profile",onClick:()=>i(!1),className:"text-sm text-white/70 hover:text-white transition-colors py-2",children:"Profile"}),y.jsx("button",{onClick:()=>{s(),i(!1)},className:"text-sm text-red-400 hover:text-red-300 py-2 text-left",children:"Logout"})]}):y.jsx(vt,{to:"/auth",onClick:()=>i(!1),className:"btn-primary justify-center",children:"Get Started"})})]})}function No({children:t}){const{user:e,loading:n}=pr();return n?y.jsx("div",{className:"h-screen flex items-center justify-center bg-[#0b0b18]",children:y.jsx("div",{className:"w-10 h-10 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):e?t:y.jsx(pf,{to:"/auth",replace:!0})}function vd({children:t}){return y.jsxs("div",{className:"min-h-screen bg-[#0b0b18]",children:[y.jsx(L3,{}),t]})}function M3(){const{user:t,profile:e,loading:n}=pr();return n?y.jsx("div",{className:"h-screen flex items-center justify-center bg-[#0b0b18]",children:y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"}),y.jsx("p",{className:"text-white/40 text-sm",children:"Loading VidyaAI..."})]})}):y.jsxs(YC,{children:[y.jsx($n,{path:"/",element:y.jsx(ML,{})}),y.jsx($n,{path:"/auth",element:t?y.jsx(pf,{to:"/subjects",replace:!0}):y.jsx(VL,{})}),y.jsx($n,{path:"/onboarding",element:y.jsx(No,{children:y.jsx(jL,{})})}),y.jsx($n,{path:"/subjects",element:y.jsx(No,{children:y.jsx(Kl,{children:y.jsx(Gl,{children:y.jsx(vd,{children:y.jsx(UL,{})})})})})}),y.jsx($n,{path:"/chapters/:subjectId",element:y.jsx(No,{children:y.jsx(Kl,{children:y.jsx(Gl,{children:y.jsx(vd,{children:y.jsx(BL,{})})})})})}),y.jsx($n,{path:"/learn/:subjectId/:chapterId",element:y.jsx(No,{children:y.jsx(Kl,{children:y.jsx(Gl,{children:y.jsx(O3,{})})})})}),y.jsx($n,{path:"/profile",element:y.jsx(No,{children:y.jsx(Kl,{children:y.jsx(Gl,{children:y.jsx(vd,{children:y.jsx(D3,{})})})})})}),y.jsx($n,{path:"*",element:y.jsx(pf,{to:"/",replace:!0})})]})}function V3(){return y.jsxs(rA,{children:[y.jsx(M3,{}),y.jsx(GA,{position:"top-right",toastOptions:{style:{background:"rgba(20,20,40,0.95)",color:"#fff",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",fontSize:"14px"}}})]})}_d.createRoot(document.getElementById("root")).render(y.jsx(F0.StrictMode,{children:y.jsx(cL,{children:y.jsx(V3,{})})}));
